# OnlineDraft 要件定義書

## 🎯 プロジェクト概要

OnlineDraftは、リアルタイムマルチプレイヤー対応の汎用ドラフトゲームプラットフォームです。
URLシェアによる簡単参加と音声通話併用を前提とした、シンプルで使いやすいドラフト体験を提供します。

## 📋 基本コンセプト

### ドラフト対象
- **汎用プラットフォーム**: POG（競馬）、野球、アイドル等、あらゆるジャンルに対応
- **自由入力形式**: 参加者が自由にドラフト対象を持ち寄り
- **事前相談前提**: 何をドラフトするかは参加者同士で事前決定

### 参加方式
- **URLシェア**: 登録不要、URLを共有するだけで参加可能
- **音声通話併用**: LINE通話、Skype等との併用を前提
- **リアルタイム同期**: Firebase Firestoreによるリアルタイム状態共有

### プレイヤー規模
- **対象人数**: 4-8人
- **時間制限**: なし（参加者の自由なペースで進行）

## 👥 ターゲットユーザー

### 対象ユーザー
- 既存の友人グループ
- スポーツファン同士
- ゲーム・アニメ愛好者
- 職場・サークルメンバー
- ネット上のコミュニティ

### 利用シーン
- 定期的な集まり時
- 新シーズン・新作リリース等のイベント時
- 計画的なドラフト開催
- 思いつきでの突発的な利用

### デバイス対応
- **メイン**: スマートフォン
- **サブ**: PC（デスクトップ・ノート）
- **対象外**: タブレット専用レイアウトは不要

## 🎮 ドラフトの基本ルール

### ドラフト方式
- **一斉入力方式**: 従来の順番制ではなく、各巡目で全員が同時に選択
- **競合解決**: ランダム抽選による解決
- **再選択**: 競合敗者は同一巡目内で別選択肢を選択可能

### ゲームフロー
1. **ホストがルーム作成** → URLシェア
2. **参加者が順次参加** → 即座にドラフト開始可能
3. **ドラフト実行** （以下の流れを巡目数分繰り返し）
   - 各自入力フェーズ（各自のタイミングで選択肢入力）
   - 開票待機フェーズ（全員の入力完了待ち）
   - 開票フェーズ（一斉開票・演出付き）
   - 結果確認フェーズ（取得成功・失敗の確認）
   - 再選択フェーズ（競合発生時のみ、敗者が別選択肢を入力）

## 🛠️ 技術要件

### フロントエンド
- Next.js 15 (App Router)
- React 19
- TypeScript
- Chakra UI v3
- Jotai（状態管理）

### バックエンド
- Firebase Firestore（リアルタイムデータベース）
- Firebase Anonymous Auth（匿名認証）

### レスポンシブ対応
- 2段階ブレイクポイント（SP/PC）
- スマートフォンファースト設計

### アニメーション・演出
- Framer Motion
- 150ms統一のアニメーション時間
- 開票演出によるゲーム体験向上

## 🎯 成功指標

### ユーザー体験
- URLシェアから参加まで30秒以内
- 全ての操作でリアルタイム同期
- 直感的で分かりやすいUI
- 盛り上がる開票演出

### 技術的指標
- 4-8人同時接続での安定動作
- レスポンシブ対応（SP/PC）
- TypeScript厳格モードでのエラーゼロ
- E2Eテストによる基本フローの動作保証

---

*この要件定義書は、プロジェクトの進行とともに継続的に更新・改善されます。*