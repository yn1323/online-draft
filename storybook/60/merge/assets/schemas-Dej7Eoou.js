import{j as pt,h as Ct}from"./create-recipe-context-DNTG5mYw.js";import{r as I,R as q}from"./index-BXymfbzT.js";import{bn as ot,b0 as Ce,be as ge}from"./types-CvgYpjhN.js";function Rt(e,r){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${r}`}function Ot(e={}){const{name:r,strict:t=!0,hookName:i="useContext",providerName:l="Provider",errorMessage:a,defaultValue:c}=e,d=I.createContext(c);d.displayName=r;function x(){var F;const k=I.useContext(d);if(!k&&t){const w=new Error(a??Rt(i,l));throw w.name="ContextError",(F=Error.captureStackTrace)==null||F.call(Error,w,x),w}return k}return[d.Provider,x,d]}function Tt(...e){return r=>{const t=[];for(const i of e)if(typeof i=="function"){const l=i(r);typeof l=="function"&&t.push(l)}else i&&(i.current=r);if(t.length)return()=>{for(const i of t)i()}}}function Lt(e){var i,l;let r=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}const ke=e=>{const r=I.memo(I.forwardRef((t,i)=>{const{asChild:l,children:a,...c}=t;if(!l)return I.createElement(e,{...c,ref:i},a);const d=I.Children.only(a);if(!I.isValidElement(d))return null;const x=Lt(d);return I.cloneElement(d,{...ot(c,d.props),ref:i?Tt(i,x):x})}));return r.displayName=e.displayName||e.name,r},Pt=()=>{const e=new Map;return new Proxy(ke,{apply(r,t,i){return ke(i[0])},get(r,t){const i=t;return e.has(i)||e.set(i,ke(i)),e.get(i)}})},Nt=Pt(),[dr,Ut]=Ot({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),lt=I.forwardRef((e,r)=>{const t=Ut(),i=ot(t==null?void 0:t.getInputProps(),e);return pt.jsx(Nt.input,{...i,ref:r})});lt.displayName="FieldInput";const{withContext:Mt}=Ct({key:"input"}),yr=Mt(lt);var fe=e=>e.type==="checkbox",re=e=>e instanceof Date,P=e=>e==null;const ut=e=>typeof e=="object";var D=e=>!P(e)&&!Array.isArray(e)&&ut(e)&&!re(e),It=e=>D(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,Bt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jt=(e,r)=>e.has(Bt(r)),Wt=e=>{const r=e.constructor&&e.constructor.prototype;return D(r)&&r.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Re&&(e instanceof Blob||i))&&(t||D(e)))if(r=t?[]:{},!t&&!Wt(e))r=e;else for(const l in e)e.hasOwnProperty(l)&&(r[l]=T(e[l]));else return e;return r}var _e=e=>Array.isArray(e)?e.filter(Boolean):[],p=e=>e===void 0,h=(e,r,t)=>{if(!r||!D(e))return t;const i=_e(r.split(/[,[\].]+?/)).reduce((l,a)=>P(l)?l:l[a],e);return p(i)||i===e?p(e[r])?t:e[r]:i},H=e=>typeof e=="boolean",Oe=e=>/^\w*$/.test(e),ct=e=>_e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let i=-1;const l=Oe(r)?[r]:ct(r),a=l.length,c=a-1;for(;++i<a;){const d=l[i];let x=t;if(i!==c){const k=e[d];x=D(k)||Array.isArray(k)?k:isNaN(+l[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=x,e=e[d]}};const Ke={BLUR:"blur",FOCUS_OUT:"focusout"},B={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};q.createContext(null);var $t=(e,r,t,i=!0)=>{const l={defaultValues:r._defaultValues};for(const a in e)Object.defineProperty(l,a,{get:()=>{const c=a;return r._proxyFormState[c]!==B.all&&(r._proxyFormState[c]=!i||B.all),e[c]}});return l};const qt=typeof window<"u"?I.useLayoutEffect:I.useEffect;var z=e=>typeof e=="string",Ht=(e,r,t,i,l)=>z(e)?(i&&r.watch.add(e),h(t,e,l)):Array.isArray(e)?e.map(a=>(i&&r.watch.add(a),h(t,a))):(i&&(r.watchAll=!0),t),ft=(e,r,t,i,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},ue=e=>Array.isArray(e)?e:[e],Ye=()=>{let e=[];return{get observers(){return e},next:l=>{for(const a of e)a.next&&a.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(a=>a!==l)}}),unsubscribe:()=>{e=[]}}},pe=e=>P(e)||!ut(e);function ee(e,r){if(pe(e)||pe(r))return e===r;if(re(e)&&re(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const l of t){const a=e[l];if(!i.includes(l))return!1;if(l!=="ref"){const c=r[l];if(re(a)&&re(c)||D(a)&&D(c)||Array.isArray(a)&&Array.isArray(c)?!ee(a,c):a!==c)return!1}}return!0}var L=e=>D(e)&&!Object.keys(e).length,Te=e=>e.type==="file",j=e=>typeof e=="function",ve=e=>{if(!Re)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},dt=e=>e.type==="select-multiple",Le=e=>e.type==="radio",zt=e=>Le(e)||fe(e),Se=e=>ve(e)&&e.isConnected;function Kt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=p(e)?i++:e[r[i++]];return e}function Yt(e){for(const r in e)if(e.hasOwnProperty(r)&&!p(e[r]))return!1;return!0}function C(e,r){const t=Array.isArray(r)?r:Oe(r)?[r]:ct(r),i=t.length===1?e:Kt(e,t),l=t.length-1,a=t[l];return i&&delete i[a],l!==0&&(D(i)&&L(i)||Array.isArray(i)&&Yt(i))&&C(e,t.slice(0,-1)),e}var yt=e=>{for(const r in e)if(j(e[r]))return!0;return!1};function be(e,r={}){const t=Array.isArray(e);if(D(e)||t)for(const i in e)Array.isArray(e[i])||D(e[i])&&!yt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},be(e[i],r[i])):P(e[i])||(r[i]=!0);return r}function ht(e,r,t){const i=Array.isArray(e);if(D(e)||i)for(const l in e)Array.isArray(e[l])||D(e[l])&&!yt(e[l])?p(r)||pe(t[l])?t[l]=Array.isArray(e[l])?be(e[l],[]):{...be(e[l])}:ht(e[l],P(r)?{}:r[l],t[l]):t[l]=!ee(e[l],r[l]);return t}var oe=(e,r)=>ht(e,r,be(r));const Ze={value:!1,isValid:!1},Je={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||e[0].value===""?Je:{value:e[0].value,isValid:!0}:Je:Ze}return Ze},vt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>p(e)?e:r?e===""?NaN:e&&+e:t&&z(e)?new Date(e):i?i(e):e;const Qe={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Qe):Qe;function Xe(e){const r=e.ref;return Te(r)?r.files:Le(r)?bt(e.refs).value:dt(r)?[...r.selectedOptions].map(({value:t})=>t):fe(r)?gt(e.refs).value:vt(p(r.value)?e.ref.value:r.value,e)}var Zt=(e,r,t,i)=>{const l={};for(const a of e){const c=h(r,a);c&&A(l,a,c._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},me=e=>e instanceof RegExp,le=e=>p(e)?e:me(e)?e.source:D(e)?me(e.value)?e.value.source:e.value:e,Ge=e=>({isOnSubmit:!e||e===B.onSubmit,isOnBlur:e===B.onBlur,isOnChange:e===B.onChange,isOnAll:e===B.all,isOnTouch:e===B.onTouched});const et="AsyncFunction";var Jt=e=>!!e&&!!e.validate&&!!(j(e.validate)&&e.validate.constructor.name===et||D(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===et)),Qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),tt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,r,t,i)=>{for(const l of t||Object.keys(e)){const a=h(e,l);if(a){const{_f:c,...d}=a;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],l)&&!i)return!0;if(c.ref&&r(c.ref,c.name)&&!i)return!0;if(ce(d,r))break}else if(D(d)&&ce(d,r))break}}};function rt(e,r,t){const i=h(e,t);if(i||Oe(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const a=l.join("."),c=h(r,a),d=h(e,a);if(c&&!Array.isArray(c)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};l.pop()}return{name:t}}var Xt=(e,r,t,i)=>{t(e);const{name:l,...a}=e;return L(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(c=>r[c]===(!i||B.all))},Gt=(e,r,t)=>!e||!r||e===r||ue(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),er=(e,r,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,tr=(e,r)=>!_e(h(e,r)).length&&C(e,r),rr=(e,r,t)=>{const i=ue(h(e,t));return A(i,"root",r[t]),A(e,t,i),e},he=e=>z(e);function st(e,r,t="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||H(e)&&!e)return{type:t,message:he(e)?e:"",ref:r}}var se=e=>D(e)&&!me(e)?e:{value:e,message:""},it=async(e,r,t,i,l,a)=>{const{ref:c,refs:d,required:x,maxLength:k,minLength:F,min:w,max:b,pattern:de,validate:X,name:N,valueAsNumber:Ve,mount:K}=e._f,v=h(t,N);if(!K||r.has(N))return{};const Y=d?d[0]:c,Z=V=>{l&&Y.reportValidity&&(Y.setCustomValidity(H(V)?"":V||""),Y.reportValidity())},R={},ie=Le(c),ne=fe(c),Fe=ie||ne,W=(Ve||Te(c))&&p(c.value)&&p(v)||ve(c)&&c.value===""||v===""||Array.isArray(v)&&!v.length,te=ft.bind(null,N,i,R),J=(V,m,E,U=Q.maxLength,M=Q.minLength)=>{const $=V?m:E;R[N]={type:V?U:M,message:$,ref:c,...te(V?U:M,$)}};if(a?!Array.isArray(v)||!v.length:x&&(!Fe&&(W||P(v))||H(v)&&!v||ne&&!gt(d).isValid||ie&&!bt(d).isValid)){const{value:V,message:m}=he(x)?{value:!!x,message:x}:se(x);if(V&&(R[N]={type:Q.required,message:m,ref:Y,...te(Q.required,m)},!i))return Z(m),R}if(!W&&(!P(w)||!P(b))){let V,m;const E=se(b),U=se(w);if(!P(v)&&!isNaN(v)){const M=c.valueAsNumber||v&&+v;P(E.value)||(V=M>E.value),P(U.value)||(m=M<U.value)}else{const M=c.valueAsDate||new Date(v),$=ye=>new Date(new Date().toDateString()+" "+ye),G=c.type=="time",ae=c.type=="week";z(E.value)&&v&&(V=G?$(v)>$(E.value):ae?v>E.value:M>new Date(E.value)),z(U.value)&&v&&(m=G?$(v)<$(U.value):ae?v<U.value:M<new Date(U.value))}if((V||m)&&(J(!!V,E.message,U.message,Q.max,Q.min),!i))return Z(R[N].message),R}if((k||F)&&!W&&(z(v)||a&&Array.isArray(v))){const V=se(k),m=se(F),E=!P(V.value)&&v.length>+V.value,U=!P(m.value)&&v.length<+m.value;if((E||U)&&(J(E,V.message,m.message),!i))return Z(R[N].message),R}if(de&&!W&&z(v)){const{value:V,message:m}=se(de);if(me(V)&&!v.match(V)&&(R[N]={type:Q.pattern,message:m,ref:c,...te(Q.pattern,m)},!i))return Z(m),R}if(X){if(j(X)){const V=await X(v,t),m=st(V,Y);if(m&&(R[N]={...m,...te(Q.validate,m.message)},!i))return Z(m.message),R}else if(D(X)){let V={};for(const m in X){if(!L(V)&&!i)break;const E=st(await X[m](v,t),Y,m);E&&(V={...E,...te(m,E.message)},Z(E.message),i&&(R[N]=V))}if(!L(V)&&(R[N]={ref:Y,...V},!i))return R}}return Z(!0),R};const sr={mode:B.onSubmit,reValidateMode:B.onChange,shouldFocusError:!0};function ir(e={}){let r={...sr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:j(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let l=D(r.defaultValues)||D(r.values)?T(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:T(l),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,k=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...F};const b={array:Ye(),state:Ye()},de=Ge(r.mode),X=Ge(r.reValidateMode),N=r.criteriaMode===B.all,Ve=s=>n=>{clearTimeout(k),k=setTimeout(s,n)},K=async s=>{if(!r.disabled&&(F.isValid||w.isValid||s)){const n=r.resolver?L((await W()).errors):await J(i,!0);n!==t.isValid&&b.state.next({isValid:n})}},v=(s,n)=>{!r.disabled&&(F.isValidating||F.validatingFields||w.isValidating||w.validatingFields)&&((s||Array.from(d.mount)).forEach(o=>{o&&(n?A(t.validatingFields,o,n):C(t.validatingFields,o))}),b.state.next({validatingFields:t.validatingFields,isValidating:!L(t.validatingFields)}))},Y=(s,n=[],o,y,f=!0,u=!0)=>{if(y&&o&&!r.disabled){if(c.action=!0,u&&Array.isArray(h(i,s))){const g=o(h(i,s),y.argA,y.argB);f&&A(i,s,g)}if(u&&Array.isArray(h(t.errors,s))){const g=o(h(t.errors,s),y.argA,y.argB);f&&A(t.errors,s,g),tr(t.errors,s)}if((F.touchedFields||w.touchedFields)&&u&&Array.isArray(h(t.touchedFields,s))){const g=o(h(t.touchedFields,s),y.argA,y.argB);f&&A(t.touchedFields,s,g)}(F.dirtyFields||w.dirtyFields)&&(t.dirtyFields=oe(l,a)),b.state.next({name:s,isDirty:m(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(a,s,n)},Z=(s,n)=>{A(t.errors,s,n),b.state.next({errors:t.errors})},R=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},ie=(s,n,o,y)=>{const f=h(i,s);if(f){const u=h(a,s,p(o)?h(l,s):o);p(u)||y&&y.defaultChecked||n?A(a,s,n?u:Xe(f._f)):M(s,u),c.mount&&K()}},ne=(s,n,o,y,f)=>{let u=!1,g=!1;const _={name:s};if(!r.disabled){if(!o||y){(F.isDirty||w.isDirty)&&(g=t.isDirty,t.isDirty=_.isDirty=m(),u=g!==_.isDirty);const S=ee(h(l,s),n);g=!!h(t.dirtyFields,s),S?C(t.dirtyFields,s):A(t.dirtyFields,s,!0),_.dirtyFields=t.dirtyFields,u=u||(F.dirtyFields||w.dirtyFields)&&g!==!S}if(o){const S=h(t.touchedFields,s);S||(A(t.touchedFields,s,o),_.touchedFields=t.touchedFields,u=u||(F.touchedFields||w.touchedFields)&&S!==o)}u&&f&&b.state.next(_)}return u?_:{}},Fe=(s,n,o,y)=>{const f=h(t.errors,s),u=(F.isValid||w.isValid)&&H(n)&&t.isValid!==n;if(r.delayError&&o?(x=Ve(()=>Z(s,o)),x(r.delayError)):(clearTimeout(k),x=null,o?A(t.errors,s,o):C(t.errors,s)),(o?!ee(f,o):f)||!L(y)||u){const g={...y,...u&&H(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,...g},b.state.next(g)}},W=async s=>{v(s,!0);const n=await r.resolver(a,r.context,Zt(s||d.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return v(s),n},te=async s=>{const{errors:n}=await W(s);if(s)for(const o of s){const y=h(n,o);y?A(t.errors,o,y):C(t.errors,o)}else t.errors=n;return n},J=async(s,n,o={valid:!0})=>{for(const y in s){const f=s[y];if(f){const{_f:u,...g}=f;if(u){const _=d.array.has(u.name),S=f._f&&Jt(f._f);S&&F.validatingFields&&v([y],!0);const O=await it(f,d.disabled,a,N,r.shouldUseNativeValidation&&!n,_);if(S&&F.validatingFields&&v([y]),O[u.name]&&(o.valid=!1,n))break;!n&&(h(O,u.name)?_?rr(t.errors,O,u.name):A(t.errors,u.name,O[u.name]):C(t.errors,u.name))}!L(g)&&await J(g,n,o)}}return o.valid},V=()=>{for(const s of d.unMount){const n=h(i,s);n&&(n._f.refs?n._f.refs.every(o=>!Se(o)):!Se(n._f.ref))&&Ae(s)}d.unMount=new Set},m=(s,n)=>!r.disabled&&(s&&n&&A(a,s,n),!ee(Pe(),l)),E=(s,n,o)=>Ht(s,d,{...c.mount?a:p(n)?l:z(s)?{[s]:n}:n},o,n),U=s=>_e(h(c.mount?a:l,s,r.shouldUnregister?h(l,s,[]):[])),M=(s,n,o={})=>{const y=h(i,s);let f=n;if(y){const u=y._f;u&&(!u.disabled&&A(a,s,vt(n,u)),f=ve(u.ref)&&P(n)?"":n,dt(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?fe(u.ref)?u.refs.length>1?u.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(f)?!!f.find(_=>_===g.value):f===g.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(g=>g.checked=g.value===f):Te(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||b.state.next({name:s,values:T(a)})))}(o.shouldDirty||o.shouldTouch)&&ne(s,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&xe(s)},$=(s,n,o)=>{for(const y in n){const f=n[y],u=`${s}.${y}`,g=h(i,u);(d.array.has(s)||D(f)||g&&!g._f)&&!re(f)?$(u,f,o):M(u,f,o)}},G=(s,n,o={})=>{const y=h(i,s),f=d.array.has(s),u=T(n);A(a,s,u),f?(b.array.next({name:s,values:T(a)}),(F.isDirty||F.dirtyFields||w.isDirty||w.dirtyFields)&&o.shouldDirty&&b.state.next({name:s,dirtyFields:oe(l,a),isDirty:m(s,u)})):y&&!y._f&&!P(u)?$(s,u,o):M(s,u,o),tt(s,d)&&b.state.next({...t}),b.state.next({name:c.mount?s:void 0,values:T(a)})},ae=async s=>{c.mount=!0;const n=s.target;let o=n.name,y=!0;const f=h(i,o),u=g=>{y=Number.isNaN(g)||re(g)&&isNaN(g.getTime())||ee(g,h(a,o,g))};if(f){let g,_;const S=n.type?Xe(f._f):It(s),O=s.type===Ke.BLUR||s.type===Ke.FOCUS_OUT,Dt=!Qt(f._f)&&!r.resolver&&!h(t.errors,o)&&!f._f.deps||er(O,h(t.touchedFields,o),t.isSubmitted,X,de),Ee=tt(o,d,O);A(a,o,S),O?(f._f.onBlur&&f._f.onBlur(s),x&&x(0)):f._f.onChange&&f._f.onChange(s);const De=ne(o,S,O),kt=!L(De)||Ee;if(!O&&b.state.next({name:o,type:s.type,values:T(a)}),Dt)return(F.isValid||w.isValid)&&(r.mode==="onBlur"?O&&K():O||K()),kt&&b.state.next({name:o,...Ee?{}:De});if(!O&&Ee&&b.state.next({...t}),r.resolver){const{errors:He}=await W([o]);if(u(S),y){const St=rt(t.errors,i,o),ze=rt(He,i,St.name||o);g=ze.error,o=ze.name,_=L(He)}}else v([o],!0),g=(await it(f,d.disabled,a,N,r.shouldUseNativeValidation))[o],v([o]),u(S),y&&(g?_=!1:(F.isValid||w.isValid)&&(_=await J(i,!0)));y&&(f._f.deps&&xe(f._f.deps),Fe(o,_,g,De))}},ye=(s,n)=>{if(h(t.errors,n)&&s.focus)return s.focus(),1},xe=async(s,n={})=>{let o,y;const f=ue(s);if(r.resolver){const u=await te(p(s)?s:f);o=L(u),y=s?!f.some(g=>h(u,g)):o}else s?(y=(await Promise.all(f.map(async u=>{const g=h(i,u);return await J(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&K()):y=o=await J(i);return b.state.next({...!z(s)||(F.isValid||w.isValid)&&o!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:o}:{},errors:t.errors}),n.shouldFocus&&!y&&ce(i,ye,s?f:d.mount),y},Pe=s=>{const n={...c.mount?a:l};return p(s)?n:z(s)?h(n,s):s.map(o=>h(n,o))},Ne=(s,n)=>({invalid:!!h((n||t).errors,s),isDirty:!!h((n||t).dirtyFields,s),error:h((n||t).errors,s),isValidating:!!h(t.validatingFields,s),isTouched:!!h((n||t).touchedFields,s)}),_t=s=>{s&&ue(s).forEach(n=>C(t.errors,n)),b.state.next({errors:s?t.errors:{}})},Ue=(s,n,o)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,f=h(t.errors,s)||{},{ref:u,message:g,type:_,...S}=f;A(t.errors,s,{...S,...n,ref:y}),b.state.next({name:s,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&y&&y.focus&&y.focus()},Vt=(s,n)=>j(s)?b.state.subscribe({next:o=>s(E(void 0,n),o)}):E(s,n,!0),Me=s=>b.state.subscribe({next:n=>{Gt(s.name,n.name,s.exact)&&Xt(n,s.formState||F,Et,s.reRenderRoot)&&s.callback({values:{...a},...t,...n})}}).unsubscribe,Ft=s=>(c.mount=!0,w={...w,...s.formState},Me({...s,formState:w})),Ae=(s,n={})=>{for(const o of s?ue(s):d.mount)d.mount.delete(o),d.array.delete(o),n.keepValue||(C(i,o),C(a,o)),!n.keepError&&C(t.errors,o),!n.keepDirty&&C(t.dirtyFields,o),!n.keepTouched&&C(t.touchedFields,o),!n.keepIsValidating&&C(t.validatingFields,o),!r.shouldUnregister&&!n.keepDefaultValue&&C(l,o);b.state.next({values:T(a)}),b.state.next({...t,...n.keepDirty?{isDirty:m()}:{}}),!n.keepIsValid&&K()},Ie=({disabled:s,name:n})=>{(H(s)&&c.mount||s||d.disabled.has(n))&&(s?d.disabled.add(n):d.disabled.delete(n))},we=(s,n={})=>{let o=h(i,s);const y=H(n.disabled)||H(r.disabled);return A(i,s,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:s}},name:s,mount:!0,...n}}),d.mount.add(s),o?Ie({disabled:H(n.disabled)?n.disabled:r.disabled,name:s}):ie(s,!0,n.value),{...y?{disabled:n.disabled||r.disabled}:{},...r.progressive?{required:!!n.required,min:le(n.min),max:le(n.max),minLength:le(n.minLength),maxLength:le(n.maxLength),pattern:le(n.pattern)}:{},name:s,onChange:ae,onBlur:ae,ref:f=>{if(f){we(s,n),o=h(i,s);const u=p(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=zt(u),_=o._f.refs||[];if(g?_.find(S=>S===u):u===o._f.ref)return;A(i,s,{_f:{...o._f,...g?{refs:[..._.filter(Se),u,...Array.isArray(h(l,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),ie(s,!1,void 0,u)}else o=h(i,s,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(jt(d.array,s)&&c.action)&&d.unMount.add(s)}}},Be=()=>r.shouldFocusError&&ce(i,ye,d.mount),xt=s=>{H(s)&&(b.state.next({disabled:s}),ce(i,(n,o)=>{const y=h(i,o);y&&(n.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(f=>{f.disabled=y._f.disabled||s}))},0,!1))},je=(s,n)=>async o=>{let y;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=T(a);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:g}=await W();t.errors=u,f=g}else await J(i);if(d.disabled.size)for(const u of d.disabled)A(f,u,void 0);if(C(t.errors,"root"),L(t.errors)){b.state.next({errors:{}});try{await s(f,o)}catch(u){y=u}}else n&&await n({...t.errors},o),Be(),setTimeout(Be);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:L(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},At=(s,n={})=>{h(i,s)&&(p(n.defaultValue)?G(s,T(h(l,s))):(G(s,n.defaultValue),A(l,s,T(n.defaultValue))),n.keepTouched||C(t.touchedFields,s),n.keepDirty||(C(t.dirtyFields,s),t.isDirty=n.defaultValue?m(s,T(h(l,s))):m()),n.keepError||(C(t.errors,s),F.isValid&&K()),b.state.next({...t}))},We=(s,n={})=>{const o=s?T(s):l,y=T(o),f=L(s),u=f?l:y;if(n.keepDefaultValues||(l=o),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...d.mount,...Object.keys(oe(l,a))]);for(const _ of Array.from(g))h(t.dirtyFields,_)?A(u,_,h(a,_)):G(_,h(u,_))}else{if(Re&&p(s))for(const g of d.mount){const _=h(i,g);if(_&&_._f){const S=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(ve(S)){const O=S.closest("form");if(O){O.reset();break}}}}for(const g of d.mount)G(g,h(u,g))}a=T(u),b.array.next({values:{...u}}),b.state.next({values:{...u}})}d={mount:n.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!F.isValid||!!n.keepIsValid||!!n.keepDirtyValues,c.watch=!!r.shouldUnregister,b.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:f?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ee(s,l)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&a?oe(l,a):t.dirtyFields:n.keepDefaultValues&&s?oe(l,s):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(s,n)=>We(j(s)?s(a):s,n),wt=(s,n={})=>{const o=h(i,s),y=o&&o._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),n.shouldSelect&&j(f.select)&&f.select())}},Et=s=>{t={...t,...s}},qe={control:{register:we,unregister:Ae,getFieldState:Ne,handleSubmit:je,setError:Ue,_subscribe:Me,_runSchema:W,_getWatch:E,_getDirty:m,_setValid:K,_setFieldArray:Y,_setDisabledField:Ie,_setErrors:R,_getFieldArray:U,_reset:We,_resetDefaultValues:()=>j(r.defaultValues)&&r.defaultValues().then(s=>{$e(s,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:xt,_subjects:b,_proxyFormState:F,get _fields(){return i},get _formValues(){return a},get _state(){return c},set _state(s){c=s},get _defaultValues(){return l},get _names(){return d},set _names(s){d=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Ft,trigger:xe,register:we,handleSubmit:je,watch:Vt,setValue:G,getValues:Pe,reset:$e,resetField:At,clearErrors:_t,unregister:Ae,setError:Ue,setFocus:wt,getFieldState:Ne};return{...qe,formControl:qe}}function hr(e={}){const r=q.useRef(void 0),t=q.useRef(void 0),[i,l]=q.useState({isDirty:!1,isValidating:!1,isLoading:j(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:j(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:ir(e),formState:i},e.formControl&&e.defaultValues&&!j(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=r.current.control;return a._options=e,qt(()=>{const c=a._subscribe({formState:a._proxyFormState,callback:()=>l({...a._formState}),reRenderRoot:!0});return l(d=>({...d,isReady:!0})),a._formState.isReady=!0,c},[a]),q.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),q.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode),e.errors&&!L(e.errors)&&a._setErrors(e.errors)},[a,e.errors,e.mode,e.reValidateMode]),q.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),q.useEffect(()=>{if(a._proxyFormState.isDirty){const c=a._getDirty();c!==i.isDirty&&a._subjects.state.next({isDirty:c})}},[a,i.isDirty]),q.useEffect(()=>{e.values&&!ee(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,l(c=>({...c}))):a._resetDefaultValues()},[a,e.values]),q.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),r.current.formState=$t(i,a),r.current}const nt=(e,r,t)=>{if(e&&"reportValidity"in e){const i=h(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},mt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?nt(i.ref,t,e):i&&i.refs&&i.refs.forEach(l=>nt(l,t,e))}},nr=(e,r)=>{r.shouldUseNativeValidation&&mt(e,r);const t={};for(const i in e){const l=h(r.fields,i),a=Object.assign(e[i]||{},{ref:l&&l.ref});if(ar(r.names||Object.keys(e),i)){const c=Object.assign({},h(t,i));A(c,"root",a),A(t,i,c)}else A(t,i,a)}return t},ar=(e,r)=>{const t=at(r);return e.some(i=>at(i).match(`^${t}\\.\\d+`))};function at(e){return e.replace(/\]|\[/g,"")}function or(e,r){for(var t={};e.length;){var i=e[0],l=i.code,a=i.message,c=i.path.join(".");if(!t[c])if("unionErrors"in i){var d=i.unionErrors[0].errors[0];t[c]={message:d.message,type:d.code}}else t[c]={message:a,type:l};if("unionErrors"in i&&i.unionErrors.forEach(function(F){return F.errors.forEach(function(w){return e.push(w)})}),r){var x=t[c].types,k=x&&x[i.code];t[c]=ft(c,r,t,l,k?[].concat(k,i.message):i.message)}e.shift()}return t}function gr(e,r,t){return t===void 0&&(t={}),function(i,l,a){try{return Promise.resolve(function(c,d){try{var x=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(k){return a.shouldUseNativeValidation&&mt({},a),{errors:{},values:t.raw?Object.assign({},i):k}})}catch(k){return d(k)}return x&&x.then?x.then(void 0,d):x}(0,function(c){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(c))return{values:{},errors:nr(or(c.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw c}))}catch(c){return Promise.reject(c)}}}const vr=Ce({userName:ge().min(1,"ユーザー名を入力してください").max(12,"ユーザー名は12文字以内で入力してください").regex(/^[^\s].*[^\s]$|^[^\s]$/,"先頭と末尾にスペースは使用できません"),avatarIndex:ge().min(1,"アバターを選択してください").regex(/^[1-9]|1[0-8]$/,"有効なアバターを選択してください")});Ce({groupName:ge().min(1,"グループ名を入力してください").max(30,"グループ名は30文字以内で入力してください")});const br=Ce({meetingInput:ge().min(1,"会議IDまたはURLを入力してください").refine(e=>{const r=/^[a-zA-Z0-9]{6,20}$/,t=/^https:\/\/.+/;return r.test(e)||t.test(e)},"有効な会議IDまたはURLを入力してください")});export{dr as F,yr as I,Nt as a,Tt as b,Ot as c,hr as d,vr as e,br as j,gr as s,Ut as u};
