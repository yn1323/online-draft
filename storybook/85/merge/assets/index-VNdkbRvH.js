import{j as l,e as K,f as E,b as M}from"./create-recipe-context-LbQq3bM7.js";import{u as Q,g as U,j as X}from"./schemas-DKOp7kU_.js";import{I as Y}from"./index.esm-B5kODk4H.js";import{r as a}from"./index-BXymfbzT.js";import{u as ee,c as re,a as te}from"./create-slot-recipe-context-Ov5X-SRh.js";import{u as T,a as R,c as oe,F as ae,b as se,I as le}from"./input-CT01TL9-.js";import{ag as F,ah as u,ai as ie}from"./index-BQKA0mAR.js";import{p as m}from"./field.anatomy-BZ5UhGuB.js";import{B as ne}from"./box-p2MKwv57.js";import{V as de}from"./v-stack-DfIdlA7P.js";import{B as ce}from"./button-BCCHc0p6.js";import{H as ue}from"./h-stack-BOuMwgNM.js";import{T as pe}from"./text-BOFVnBsW.js";const k=a.forwardRef((i,r)=>{const t=T(),e=F(t.getErrorTextProps(),i);return t!=null&&t.invalid?l.jsx(R.span,{...e,ref:r}):null});k.displayName="FieldErrorText";const A=a.forwardRef((i,r)=>{const t=T(),e=F(t==null?void 0:t.getHelperTextProps(),i);return l.jsx(R.span,{...e,ref:r})});A.displayName="FieldHelperText";const V=a.forwardRef((i,r)=>{const t=T(),e=F(t==null?void 0:t.getLabelProps(),i);return l.jsx(R.label,{...e,ref:r})});V.displayName="FieldLabel";const me=typeof window<"u"?a.useLayoutEffect:a.useEffect,[Le,fe]=oe({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),xe=(i={})=>{const r=fe(),t=ee(),{ids:e,disabled:s=!!(r!=null&&r.disabled),invalid:o=!1,readOnly:n=!1,required:d=!1}=i,[c,g]=a.useState(!1),[y,B]=a.useState(!1),p=i.id??a.useId(),I=a.useRef(null),v=(e==null?void 0:e.control)??`field::${p}`,f=(e==null?void 0:e.errorText)??`field::${p}::error-text`,x=(e==null?void 0:e.helperText)??`field::${p}::helper-text`,P=(e==null?void 0:e.label)??`field::${p}::label`;me(()=>{const h=I.current;if(!h)return;const w=()=>{const _=t.getRootNode();g(!!_.getElementById(f)),B(!!_.getElementById(x))};w();const G=t.getWindow(),S=new G.MutationObserver(w);return S.observe(h,{childList:!0,subtree:!0}),()=>S.disconnect()},[t,f,x]);const j=a.useMemo(()=>{const h=[];return c&&o&&h.push(f),y&&h.push(x),h.join(" ")||void 0},[o,f,x,c,y]),L=a.useMemo(()=>()=>({...m.root.attrs,id:v,ref:I,role:"group","data-disabled":u(s),"data-invalid":u(o),"data-readonly":u(n)}),[s,o,n,v]),$=a.useMemo(()=>()=>({...m.label.attrs,id:P,"data-disabled":u(s),"data-invalid":u(o),"data-readonly":u(n),htmlFor:p}),[s,o,n,p,P]),b=a.useMemo(()=>()=>({"aria-describedby":j,"aria-invalid":ie(o),"data-invalid":u(o),"data-required":u(d),"data-readonly":u(n),id:p,required:d,disabled:s,readOnly:n}),[j,o,d,n,p,s]),z=a.useMemo(()=>()=>({...b(),...m.input.attrs}),[b]),J=a.useMemo(()=>()=>({...b(),...m.textarea.attrs}),[b]),O=a.useMemo(()=>()=>({...b(),...m.select.attrs}),[b]),D=a.useMemo(()=>()=>({id:x,...m.helperText.attrs,"data-disabled":u(s)}),[s,x]),Z=a.useMemo(()=>()=>({id:f,...m.errorText.attrs,"aria-live":"polite"}),[f]),W=a.useMemo(()=>()=>({"aria-hidden":!0,...m.requiredIndicator.attrs}),[]);return{ariaDescribedby:j,ids:{root:v,control:p,label:P,errorText:f,helperText:x},refs:{rootRef:I},disabled:s,invalid:o,readOnly:n,required:d,getLabelProps:$,getRootProps:L,getInputProps:z,getTextareaProps:J,getSelectProps:O,getHelperTextProps:D,getErrorTextProps:Z,getRequiredIndicatorProps:W}},H=a.forwardRef((i,r)=>{const[t,e]=re()(i,["id","ids","disabled","invalid","readOnly","required"]),s=xe(t),o=F(s.getRootProps(),e);return l.jsx(ae,{value:s,children:l.jsx(R.div,{...o,ref:se(r,s.refs.rootRef)})})});H.displayName="FieldRoot";const{useRecipeResult:be}=K({key:"icon"}),he=a.forwardRef(function(r,t){const{styles:e,className:s,props:o}=be({asChild:!r.as,...r});return l.jsx(E.svg,{ref:t,focusable:!1,"aria-hidden":"true",...o,css:[e,r.css],className:M(s,r.className)})});function ge(i){const{viewBox:r="0 0 24 24",d:t,displayName:e,defaultProps:s={}}=i,o=a.Children.toArray(i.path),n=a.forwardRef((d,c)=>l.jsx(he,{ref:c,asChild:!1,viewBox:r,...s,...d,children:o.length?o:l.jsx("path",{fill:"currentColor",d:t})}));return n.displayName=e,n}const{withProvider:ye,withContext:N,useStyles:Te,useClassNames:Re}=te({key:"field"}),Fe=ye(H,"root",{forwardAsChild:!0}),Ie=N(V,"label",{forwardAsChild:!0}),ve=N(A,"helperText",{forwardAsChild:!0}),Pe=N(k,"errorText",{forwardAsChild:!0});ge({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});const je=a.forwardRef(function(r,t){const{fallback:e,children:s="*",...o}=r,n=T(),d=Re(),c=Te();return n!=null&&n.required?l.jsx(E.span,{ref:t,"aria-hidden":"true",...o,className:M(d.requiredIndicator,r.className),css:[c.requiredIndicator,r.css],children:s}):e}),C=a.forwardRef(function(r,t){const{label:e,children:s,helperText:o,errorText:n,optionalText:d,...c}=r;return l.jsxs(Fe,{ref:t,...c,children:[e&&l.jsxs(Ie,{children:[e,l.jsx(je,{fallback:d})]}),s,o&&l.jsx(ve,{children:o}),n&&l.jsx(Pe,{children:n})]})});try{C.displayName="Field",C.__docgenInfo={description:"",displayName:"Field",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"ReactNode"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"ReactNode"}},optionalText:{defaultValue:null,description:"",name:"optionalText",required:!1,type:{name:"ReactNode"}},recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}function q({onSubmit:i,isLoading:r=!1}){var g;const t=Q({resolver:U(X),defaultValues:{meetingInput:""}}),{register:e,handleSubmit:s,formState:{errors:o,isValid:n},reset:d}=t,c=async y=>{await i(y),d()};return l.jsx(ne,{p:{base:4,md:6},bg:"blue.50",borderRadius:"xl",border:"1px solid",borderColor:"blue.200",_dark:{bg:"blue.900/20",borderColor:"blue.700"},children:l.jsxs(de,{gap:4,children:[l.jsx(C,{label:"参加コード",invalid:!!o.meetingInput,errorText:(g=o.meetingInput)==null?void 0:g.message,children:l.jsx(le,{...e("meetingInput"),placeholder:"ABC123 または招待リンク",disabled:r,size:"lg",bg:"white",borderColor:o.meetingInput?"red.300":"blue.300",_dark:{bg:"gray.800",borderColor:o.meetingInput?"red.400":"blue.500"},_focus:{borderColor:"blue.500"},"aria-label":"参加コードまたは招待リンク"})}),l.jsx(ce,{colorPalette:"blue",size:"lg",width:"full",disabled:!n||r,loading:r,onClick:s(c),fontSize:{base:"sm",md:"md"},fontWeight:"bold",_hover:{bg:"blue.600"},"aria-label":"グループに参加する",children:l.jsxs(ue,{gap:2,children:[l.jsx(Y,{size:18,"aria-hidden":"true"}),l.jsx(pe,{children:"参加する"})]})})]})})}try{q.displayName="JoinForm",q.__docgenInfo={description:"",displayName:"JoinForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(data: { meetingInput: string; }) => Promise<void>"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}}}}}catch{}export{q as J};
