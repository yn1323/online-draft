import{c as oe,j as t,f as re}from"./create-recipe-context-LbQq3bM7.js";import{u as se}from"./index-OfVhHRx_.js";import{r as s}from"./index-BXymfbzT.js";import{U as ae}from"./index-DlW_aOcq.js";import{C as ie}from"./index-Cleidop9.js";import{D as le}from"./index-DYm13Dy0.js";import{T as ue}from"./index-TTz4LtQ5.js";import{I as pe}from"./index-7pJfDcwy.js";import{O as ce}from"./index-bej-6NU3.js";import{R as de}from"./index-CtmnA0ZN.js";import{m as L,a as $}from"./mocks-CTAzMC-z.js";import{C as me}from"./container-BXrbxM4E.js";import{V as ge}from"./v-stack-DfIdlA7P.js";import{G as fe}from"./grid-DCXQ59mM.js";import{m as Se}from"./stack-B-mkjmc_.js";import"./jsx-runtime-Bw5QeaCk.js";import"./index-B7YJKKKT.js";import"./_interop_require_wildcard-BpaVepTj.js";import"./segment-DQKAVVpM.js";import"./responsive-modal-u4uUSmq6.js";import"./index-B2ItOoBf.js";import"./iconBase-BtwG8oUN.js";import"./icon-button-Bwmz2JOC.js";import"./button-Cvi4ewak.js";import"./portal-DXIUxZbP.js";import"./create-slot-recipe-context-9ZU4Gcb9.js";import"./factory-OeC611uy.js";import"./index-B1VjsNl3.js";import"./index-C85FKF7s.js";import"./index-DGKHe-6Q.js";import"./index-CrjboX4Z.js";import"./index-CEI8PRn9.js";import"./index-BRNWFSEf.js";import"./use-breakpoint-CtC0MXDZ.js";import"./h-stack-BOuMwgNM.js";import"./image-D2VQ_BCA.js";import"./text-BOFVnBsW.js";import"./box-p2MKwv57.js";import"./input-C3XuNbVL.js";import"./use-field-context-BeRDi0mX.js";import"./textarea-CzEKuGQU.js";import"./index-CryOkbmr.js";import"./flex-CZZAfvJj.js";import"./index-DzMPqw62.js";import"./toaster-Ccw28dmr.js";import"./index-BloxgXWb.js";import"./theme-M2mYg1Eg.js";import"./index-99ikL538.js";import"./index-CI8UYwhK.js";import"./index-Dibxpplx.js";import"./index-DTaVO898.js";import"./index-BumpzSCx.js";function _(o){return Se(o,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const v=s.forwardRef(function(n,c){const{area:d,colSpan:m,colStart:g,colEnd:f,rowEnd:S,rowSpan:a,rowStart:b,...R}=n,O=oe({gridArea:d,gridColumn:_(m),gridRow:_(a),gridColumnStart:g,gridColumnEnd:f,gridRowStart:b,gridRowEnd:S});return t.jsx(re.div,{ref:c,css:O,...R})}),I=({roundNumber:o,totalRounds:n,groupName:c,participants:d,currentUserSelection:m,onSubmitSelection:g,pastRounds:f,currentRoundTopic:S}={})=>{var V;const a=se(),b=a==null?void 0:a.id,[R,O]=s.useState(""),[U,y]=s.useState(""),[x,F]=s.useState(""),[z,h]=s.useState(!1),[r,j]=s.useState({isOpen:!1,selectedRound:null,selectedUserId:null}),[A,k]=s.useState(!1),C=o??3,W=c??`ドラフト会議 ${b}`,u=d??$,B=m??R,N=f??L,J=S??"好きなゲーム",K=g??((e,i)=>{console.log("選択:",e,"コメント:",i),O(e)}),Q=()=>{U.trim()&&(K(U.trim(),x.trim()||void 0),h(!1))},D=e=>{console.log("ラウンド全体クリック:",e)},T=(e,i)=>{j({isOpen:!0,selectedRound:e,selectedUserId:i})},X=()=>{j({isOpen:!1,selectedRound:null,selectedUserId:null})},Y=(e,i)=>{console.log("ユーザー選択保存:",{roundNumber:e,selection:i})},M=()=>{y(B),h(!0)},Z=()=>{k(!0)},ee=()=>{window.location.href="/"},te=()=>{console.log("設定画面を開く（今後実装）")},ne=()=>{console.log("ヘルプ画面を開く（今後実装）")};return t.jsxs(me,{maxW:"1600px",p:{base:2,md:3,lg:4},minH:"100vh",position:"relative",_before:{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,bgGradient:"linear(to-br, purple.50, blue.50, pink.50)",opacity:.3,zIndex:-1,_dark:{bgGradient:"linear(to-br, purple.900/30, blue.900/30, pink.900/30)",opacity:.5}},children:[t.jsx(le,{groupName:W,onOpenOptions:Z}),t.jsx(ge,{gap:{base:3,md:4},align:"stretch",display:{base:"flex",lg:"none"},children:t.jsx(ue,{roundNumber:C,participants:u,pastRounds:N,onRoundClick:D,onUserClick:T,onOpenInputModal:M})}),t.jsxs(fe,{templateColumns:"65fr 35fr",gap:8,minH:"70vh",display:{base:"none",lg:"grid"},children:[t.jsx(v,{children:t.jsx(de,{roundNumber:C,participants:u,pastRounds:N,onRoundClick:D,onUserClick:T,onOpenInputModal:M})}),t.jsx(v,{children:t.jsx(ie,{})})]}),t.jsx(pe,{isOpen:z,onClose:()=>h(!1),roundNumber:C,currentRoundTopic:J,selection:U,comment:x,onSelectionChange:y,onCommentChange:F,onSubmit:Q}),r.selectedRound&&r.selectedUserId&&t.jsx(ae,{isOpen:r.isOpen,onClose:X,roundNumber:r.selectedRound,participant:u.find(e=>e.id===r.selectedUserId)||u[0],initialSelection:(V=N.find(e=>e.roundNumber===r.selectedRound))==null?void 0:V.selections.find(e=>e.userId===r.selectedUserId),onSaveSelection:Y}),t.jsx(ce,{isOpen:A,onClose:()=>k(!1),onLeaveDraft:ee,onOpenSettings:te,onOpenHelp:ne})]})};try{I.displayName="DraftPage",I.__docgenInfo={description:"",displayName:"DraftPage",props:{roundNumber:{defaultValue:null,description:"",name:"roundNumber",required:!1,type:{name:"number"}},totalRounds:{defaultValue:null,description:"",name:"totalRounds",required:!1,type:{name:"number"}},groupName:{defaultValue:null,description:"",name:"groupName",required:!1,type:{name:"string"}},participants:{defaultValue:null,description:"",name:"participants",required:!1,type:{name:'{ id: string; name: string; avatar: string; status: "thinking" | "entered" | "completed"; }[]'}},currentUserSelection:{defaultValue:null,description:"",name:"currentUserSelection",required:!1,type:{name:"string"}},onSubmitSelection:{defaultValue:null,description:"",name:"onSubmitSelection",required:!1,type:{name:"((selection: string, comment?: string) => void)"}},pastRounds:{defaultValue:null,description:"",name:"pastRounds",required:!1,type:{name:"{ roundNumber: number; topic: string; selections: { userId: string; userName: string; item: string; comment?: string; }[]; }[]"}},currentRoundTopic:{defaultValue:null,description:"",name:"currentRoundTopic",required:!1,type:{name:"string"}},logCount:{defaultValue:null,description:"",name:"logCount",required:!1,type:{name:"number"}},onUpdateSelections:{defaultValue:null,description:"",name:"onUpdateSelections",required:!1,type:{name:"((roundNumber: number, selections: { userId: string; userName: string; item: string; comment?: string; }[]) => void)"}}}}}catch{}const ft={title:"Features/Draft/DraftPage",component:I,parameters:{layout:"fullscreen"},tags:["autodocs"]},l={args:{roundNumber:3,totalRounds:5,groupName:"ドラフト会議 TEST",participants:$,pastRounds:L,currentRoundTopic:"好きなゲーム",currentUserSelection:"ゼルダの伝説",onSubmitSelection:(o,n)=>{console.log("選択:",o,"コメント:",n)},onUpdateSelections:(o,n)=>{console.log("ラウンド",o,"の選択を更新:",n)}}},p={args:{...l.args,roundNumber:1,pastRounds:[],currentUserSelection:"",currentRoundTopic:"好きな食べ物"}};var E,q,w;l.parameters={...l.parameters,docs:{...(E=l.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    roundNumber: 3,
    totalRounds: 5,
    groupName: 'ドラフト会議 TEST',
    participants: mockParticipants,
    pastRounds: mockPastRounds,
    currentRoundTopic: '好きなゲーム',
    currentUserSelection: 'ゼルダの伝説',
    onSubmitSelection: (selection: string, comment?: string) => {
      console.log('選択:', selection, 'コメント:', comment);
    },
    onUpdateSelections: (roundNumber: number, selections) => {
      console.log('ラウンド', roundNumber, 'の選択を更新:', selections);
    }
  }
}`,...(w=(q=l.parameters)==null?void 0:q.docs)==null?void 0:w.source}}};var P,G,H;p.parameters={...p.parameters,docs:{...(P=p.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    roundNumber: 1,
    pastRounds: [],
    currentUserSelection: '',
    currentRoundTopic: '好きな食べ物'
  }
}`,...(H=(G=p.parameters)==null?void 0:G.docs)==null?void 0:H.source}}};const St=["Default","Empty"];export{l as Default,p as Empty,St as __namedExportsOrder,ft as default};
