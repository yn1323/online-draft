import{j as i,f as re}from"./stack-B25eOQea.js";import{r as c}from"./index-BXymfbzT.js";import{e as he}from"./index-CGDReQDk.js";import{I as Ne}from"./icon-button-CZw3PtnZ.js";import{c as xe,V as Ce,Q as we,r as W,a as Pe,m as ve,I as m,W as Te,k as be}from"./index-D3iQu9n-.js";import{c as Re,b as te,u as oe,a as je,n as ke,r as Ae}from"./index-DQKawd5P.js";import{c as ne}from"./create-slot-recipe-context-BILcAqFF.js";import{c as ie,a as _,b as ae}from"./factory-CQjN0O8Q.js";import{u as Ee,s as se,R as ce}from"./render-strategy-CvFi1cA2.js";import{c as Se}from"./index-CrjboX4Z.js";import{c as $e,m as Ie}from"./index-D_DKZCCl.js";import{u as Me}from"./use-breakpoint-BiEj9wsk.js";import{V as Q}from"./v-stack-DLbVHDKJ.js";import{B as D}from"./button-BzGfOniU.js";const le=e=>Re()(e,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function Oe(e,r){const{state:o,send:t,context:n}=e,a=o.matches("mounted","unmountSuspended");return{skip:!n.get("initial"),present:a,setNode(s){s&&t({type:"NODE.SET",node:s})},unmount(){t({type:"UNMOUNT"})}}}var Be=xe({props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,action:r,prop:o}){e([()=>o("present")],()=>{r(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},invokeOnExitComplete:({prop:e})=>{var r;(r=e("onExitComplete"))==null||r()},setNode:({refs:e,event:r})=>{e.set("node",r.node)},setStyles:({refs:e,event:r})=>{e.set("styles",Pe(r.node))},syncPresence:({context:e,refs:r,send:o,prop:t})=>{const n=t("present");if(n)return o({type:"MOUNT",src:"presence.changed"});const a=r.get("node");if(!n&&(a==null?void 0:a.ownerDocument.visibilityState)==="hidden")return o({type:"UNMOUNT",src:"visibilitychange"});W(()=>{var l,p;const s=h(r.get("styles"));e.set("unmountAnimationName",s),s==="none"||s===e.get("prevAnimationName")||((l=r.get("styles"))==null?void 0:l.display)==="none"||((p=r.get("styles"))==null?void 0:p.animationDuration)==="0s"?o({type:"UNMOUNT",src:"presence.changed"}):o({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:r})=>{W(()=>{e.set("prevAnimationName",h(r.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:r,send:o})=>{const t=r.get("node");if(!t)return;const n=l=>{var d,y;(((y=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:y[0])??l.target)===t&&e.set("prevAnimationName",h(r.get("styles")))},a=l=>{const p=h(r.get("styles"));ve(l)===t&&p===e.get("unmountAnimationName")&&o({type:"UNMOUNT",src:"animationend"})};t.addEventListener("animationstart",n),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a);const s=Ce(t,{animationFillMode:"forwards"});return()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a),we(()=>s())}}}}});function h(e){return(e==null?void 0:e.animationName)||"none"}Se()(["onExitComplete","present","immediate"]);function Ve(e,r={}){const{sync:o=!1}=r,t=Ue(e);return c.useCallback((...n)=>{var a;return o?queueMicrotask(()=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)}):(a=t.current)==null?void 0:a.call(t,...n)},[o,t])}function Ue(e){const r=c.useRef(e);return r.current=e,r}const O=(e={})=>{const{lazyMount:r,unmountOnExit:o,present:t,skipAnimationOnMount:n=!1,...a}=e,s=c.useRef(!1),l={...a,present:t,onExitComplete:Ve(e.onExitComplete)},p=te(Be,l),d=Oe(p);d.present&&(s.current=!0);const y=!d.present&&!s.current&&r||o&&!d.present&&s.current,De=()=>({"data-state":d.skip&&n?void 0:t?"open":"closed",hidden:!d.present});return{ref:d.setNode,getPresenceProps:De,present:d.present,unmounted:y}},[de,B]=ie({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),[pe,f]=ie({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),V=c.forwardRef((e,r)=>{const o=f(),t=Ee(),n=O({...t,present:o.open}),a=m(o.getBackdropProps(),n.getPresenceProps(),e);return n.unmounted?null:i.jsx(_.div,{...a,ref:ae(n.ref,r)})});V.displayName="DialogBackdrop";const U=c.forwardRef((e,r)=>{const o=f(),t=m(o.getCloseTriggerProps(),e);return i.jsx(_.button,{...t,ref:r})});U.displayName="DialogCloseTrigger";const q=c.forwardRef((e,r)=>{const o=f(),t=B(),n=m(o.getContentProps(),t.getPresenceProps(),e);return t.unmounted?null:i.jsx(_.div,{...n,ref:ae(t.ref,r)})});q.displayName="DialogContent";const z=c.forwardRef((e,r)=>{const o=f(),t=m(o.getDescriptionProps(),e);return i.jsx(_.div,{...t,ref:r})});z.displayName="DialogDescription";const F=c.forwardRef((e,r)=>{const o=f(),t=m(o.getPositionerProps(),e);return B().unmounted?null:i.jsx(_.div,{...t,ref:r})});F.displayName="DialogPositioner";const qe=e=>{const r=c.useId(),{getRootNode:o}=oe(),{dir:t}=je(),n={id:r,getRootNode:o,dir:t,...e},a=te(Ie,n);return $e(a,ke)},ue=e=>{const[r,{children:o,...t}]=le(e),[n]=se(r),a=qe(t),s=O(m({present:a.open},r));return i.jsx(pe,{value:a,children:i.jsx(ce,{value:n,children:i.jsx(de,{value:s,children:o})})})},ge=e=>{const[r,{value:o,children:t}]=le(e),[n]=se(r),a=O(m({present:o.open},r));return i.jsx(pe,{value:o,children:i.jsx(ce,{value:n,children:i.jsx(de,{value:a,children:t})})})},H=c.forwardRef((e,r)=>{const o=f(),t=m(o.getTitleProps(),e);return i.jsx(_.h2,{...t,ref:r})});H.displayName="DialogTitle";const L=c.forwardRef((e,r)=>{const o=f(),t=B(),n=m({...o.getTriggerProps(),"aria-controls":t.unmounted?void 0:o.getTriggerProps()["aria-controls"]},e);return i.jsx(_.button,{...n,ref:r})});L.displayName="DialogTrigger";const me=e=>{var p;const{children:r,disabled:o}=e,[t,n]=c.useState((p=e.container)==null?void 0:p.current),a=c.useSyncExternalStore(Fe,()=>!1,()=>!0),{getRootNode:s}=oe();if(c.useEffect(()=>{n(()=>{var d;return(d=e.container)==null?void 0:d.current})},[e.container]),a||o)return i.jsx(i.Fragment,{children:r});const l=t??ze(s);return i.jsx(i.Fragment,{children:c.Children.map(r,d=>Ae.createPortal(d,l))})},ze=e=>{const r=e==null?void 0:e(),o=r.getRootNode();return Te(o)?o:be(r).body},Fe=()=>()=>{},{withRootProvider:fe,withContext:u}=ne({key:"dialog"});fe(ge,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const He=fe(ue,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),Le=u(L,"trigger",{forwardAsChild:!0}),We=u(F,"positioner",{forwardAsChild:!0}),Qe=u(q,"content",{forwardAsChild:!0}),Xe=u(z,"description",{forwardAsChild:!0}),Ye=u(H,"title",{forwardAsChild:!0}),Ge=u(U,"closeTrigger",{forwardAsChild:!0}),Je=c.forwardRef(function(r,o){const t=f();return i.jsx(re.button,{...r,ref:o,onClick:()=>t.setOpen(!1)})}),_e=u(V,"backdrop",{forwardAsChild:!0}),Ke=u("div","body"),Ze=u("div","footer"),er=u("div","header"),{withRootProvider:ye,withContext:g}=ne({key:"drawer"});ye(ge,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const rr=ye(ue,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),tr=g(L,"trigger",{forwardAsChild:!0}),or=g(F,"positioner",{forwardAsChild:!0}),nr=g(q,"content",{forwardAsChild:!0}),ir=g(z,"description",{forwardAsChild:!0}),ar=g(H,"title",{forwardAsChild:!0}),sr=g(U,"closeTrigger",{forwardAsChild:!0}),cr=c.forwardRef(function(r,o){const t=f();return i.jsx(re.button,{...r,ref:o,onClick:()=>t.setOpen(!1)})}),lr=g(V,"backdrop",{forwardAsChild:!0}),dr=g("div","body"),pr=g("div","footer"),ur=g("div","header"),N=c.forwardRef(function(r,o){return i.jsx(Ne,{variant:"ghost","aria-label":"Close",ref:o,...r,children:r.children??i.jsx(he,{})})});try{N.displayName="CloseButton",N.__docgenInfo={description:"",displayName:"CloseButton",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"RecipeDefinition<RecipeVariantRecord>"}}}}}catch{}const x=c.forwardRef(function(r,o){const{children:t,portalled:n=!0,portalRef:a,backdrop:s=!0,...l}=r;return i.jsxs(me,{disabled:!n,container:a,children:[s&&i.jsx(_e,{}),i.jsx(We,{children:i.jsx(Qe,{ref:o,...l,asChild:!1,children:t})})]})}),C=c.forwardRef(function(r,o){return i.jsx(Ge,{position:"absolute",top:"2",insetEnd:"2",...r,asChild:!0,children:i.jsx(N,{size:"sm",ref:o,children:r.children})})}),w=He,P=Ze,v=er,T=Ke,X=_e,b=Ye,Y=Xe,G=Le,R=Je;try{x.displayName="DialogContent",x.__docgenInfo={description:"",displayName:"DialogContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement>"}},backdrop:{defaultValue:null,description:"",name:"backdrop",required:!1,type:{name:"boolean"}}}}}catch{}try{C.displayName="DialogCloseTrigger",C.__docgenInfo={description:"",displayName:"DialogCloseTrigger",props:{}}}catch{}try{w.displayName="DialogRoot",w.__docgenInfo={description:"",displayName:"DialogRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{P.displayName="DialogFooter",P.__docgenInfo={description:"",displayName:"DialogFooter",props:{}}}catch{}try{v.displayName="DialogHeader",v.__docgenInfo={description:"",displayName:"DialogHeader",props:{}}}catch{}try{T.displayName="DialogBody",T.__docgenInfo={description:"",displayName:"DialogBody",props:{}}}catch{}try{X.displayName="DialogBackdrop",X.__docgenInfo={description:"",displayName:"DialogBackdrop",props:{}}}catch{}try{b.displayName="DialogTitle",b.__docgenInfo={description:"",displayName:"DialogTitle",props:{}}}catch{}try{Y.displayName="DialogDescription",Y.__docgenInfo={description:"",displayName:"DialogDescription",props:{}}}catch{}try{G.displayName="DialogTrigger",G.__docgenInfo={description:"",displayName:"DialogTrigger",props:{}}}catch{}try{R.displayName="DialogActionTrigger",R.__docgenInfo={description:"",displayName:"DialogActionTrigger",props:{}}}catch{}const j=c.forwardRef(function(r,o){const{children:t,portalled:n=!0,portalRef:a,offset:s,...l}=r;return i.jsx(me,{disabled:!n,container:a,children:i.jsx(or,{padding:s,children:i.jsx(nr,{ref:o,...l,asChild:!1,children:t})})})}),k=c.forwardRef(function(r,o){return i.jsx(sr,{position:"absolute",top:"2",insetEnd:"2",...r,asChild:!0,children:i.jsx(N,{size:"sm",ref:o})})}),J=tr,A=rr,E=pr,S=ur,$=dr,K=lr,Z=ir,I=ar,M=cr;try{j.displayName="DrawerContent",j.__docgenInfo={description:"",displayName:"DrawerContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement | null>"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"ConditionalValue<`var(--${string})` | AnyString | SpacingToken | Padding<String | Number> | readonly NonNullable<Padding<String | Number>>[]>"}}}}}catch{}try{k.displayName="DrawerCloseTrigger",k.__docgenInfo={description:"",displayName:"DrawerCloseTrigger",props:{}}}catch{}try{J.displayName="DrawerTrigger",J.__docgenInfo={description:"",displayName:"DrawerTrigger",props:{}}}catch{}try{A.displayName="DrawerRoot",A.__docgenInfo={description:"",displayName:"DrawerRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{E.displayName="DrawerFooter",E.__docgenInfo={description:"",displayName:"DrawerFooter",props:{}}}catch{}try{S.displayName="DrawerHeader",S.__docgenInfo={description:"",displayName:"DrawerHeader",props:{}}}catch{}try{$.displayName="DrawerBody",$.__docgenInfo={description:"",displayName:"DrawerBody",props:{}}}catch{}try{K.displayName="DrawerBackdrop",K.__docgenInfo={description:"",displayName:"DrawerBackdrop",props:{}}}catch{}try{Z.displayName="DrawerDescription",Z.__docgenInfo={description:"",displayName:"DrawerDescription",props:{}}}catch{}try{I.displayName="DrawerTitle",I.__docgenInfo={description:"",displayName:"DrawerTitle",props:{}}}catch{}try{M.displayName="DrawerActionTrigger",M.__docgenInfo={description:"",displayName:"DrawerActionTrigger",props:{}}}catch{}const ee=({isOpen:e,onClose:r,title:o,children:t,actions:n})=>Me({base:!0,md:!1})?i.jsx(A,{open:e,onOpenChange:s=>s.open||r(),placement:"bottom",size:"full",children:i.jsxs(j,{borderTopRadius:"xl",maxH:"80vh",display:"flex",flexDirection:"column",children:[i.jsxs(S,{textAlign:"center",pb:2,children:[i.jsx(I,{fontSize:"xl",children:o}),i.jsx(k,{})]}),i.jsx($,{px:6,flex:1,overflowY:"auto",children:i.jsx(Q,{gap:6,py:4,children:t})}),n&&i.jsxs(E,{gap:3,px:6,pb:8,pt:6,borderTop:"1px solid",borderColor:"border",position:"sticky",bottom:0,bg:"bg",flexShrink:0,children:[n.cancel&&i.jsx(M,{asChild:!0,children:i.jsx(D,{variant:"ghost",size:"lg",flex:1,onClick:n.cancel.onClick||r,children:n.cancel.text})}),n.submit&&i.jsx(D,{form:n.submit.form,type:n.submit.type||"button",colorPalette:n.submit.colorPalette||"blue",disabled:n.submit.disabled,loading:n.submit.loading,size:"lg",flex:1,onClick:n.submit.onClick,children:n.submit.text})]})]})}):i.jsx(w,{open:e,onOpenChange:s=>s.open||r(),children:i.jsxs(x,{maxW:"md",mx:4,children:[i.jsx(C,{}),i.jsx(v,{children:i.jsx(b,{children:o})}),i.jsx(T,{children:i.jsx(Q,{gap:4,children:t})}),n&&i.jsxs(P,{children:[n.cancel&&i.jsx(R,{asChild:!0,children:i.jsx(D,{type:"button",variant:"ghost",onClick:n.cancel.onClick||r,children:n.cancel.text})}),n.submit&&i.jsx(D,{form:n.submit.form,type:n.submit.type||"button",colorPalette:n.submit.colorPalette||"blue",disabled:n.submit.disabled,loading:n.submit.loading,onClick:n.submit.onClick,children:n.submit.text})]})]})});try{ee.displayName="ResponsiveModal",ee.__docgenInfo={description:"",displayName:"ResponsiveModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:'{ cancel?: { text: string; onClick?: (() => void); }; submit?: { text: string; colorPalette?: string | undefined; form?: string | undefined; type?: "button" | "submit" | undefined; disabled?: boolean | undefined; loading?: boolean | undefined; onClick?: (() => void) | undefined; } | undefined...'}}}}}catch{}export{de as P,ee as R,O as u};
