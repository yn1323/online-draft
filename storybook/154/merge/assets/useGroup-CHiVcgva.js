import{c as d,I as p,a as s,d as u,J as l}from"./index.esm2017-DUFKv7Ut.js";import{r as c}from"./index-BXymfbzT.js";import{d as f}from"./useFirebaseAuth-BfULXPRU.js";const h=()=>{const o=d(f,"app/onlinedraft/group"),n=c.useCallback(async t=>{if(!t.trim())throw new Error("グループ名を入力してください");if(t.length>50)throw new Error("グループ名は50文字以内で入力してください");const e={groupName:t.trim(),deleteFlg:!1,finishedRound:[],round:1};try{return(await p(o,{...e,createdAt:s(),updatedAt:s()})).id}catch(r){throw r instanceof Error?new Error(`グループ作成に失敗しました: ${r.message}`):new Error("グループ作成中に予期しないエラーが発生しました")}},[o]),i=c.useCallback(async t=>{var a;const e=u(o,t),r=await l(e);return r.exists()&&!((a=r.data())!=null&&a.deleteFlg)},[o]);return{createGroup:n,checkGroupExists:i,groupCollection:o}};export{h as u};
