import{j as e}from"./create-recipe-context-oy0ofMwS.js";import{r as f}from"./index-BXymfbzT.js";import{C as h}from"./index-8XjyPakr.js";import{P as y}from"./index-DNPIp7Yf.js";import{S as k}from"./index-CRPWmS97.js";import{u as R}from"./use-breakpoint-BCFmA5bm.js";import{B as t}from"./box-D1Z_KUxa.js";import{T as a}from"./text-DkCoEBoG.js";import{V as _}from"./v-stack-DNelLgfG.js";const u=({roundNumber:d,participants:l,pastRounds:n,onRoundClick:p,onUserClick:m,onOpenInputModal:g})=>{const s=R({base:!0,md:!1}),[c,b]=f.useState(()=>{if(n.length===0)return new Set;const r=n.slice(-2).map(i=>i.roundNumber);return new Set(r)}),x=r=>{b(i=>{const o=new Set(i);return o.has(r)?o.delete(r):o.add(r),o})};return e.jsxs(t,{p:{base:4,md:5,lg:6},borderRadius:"xl",bgGradient:"linear(135deg, green.50, teal.50)",border:"2px solid",borderColor:"green.300",boxShadow:"0 10px 30px -10px rgba(34, 197, 94, 0.25)",position:"relative",overflow:"hidden",_dark:{bgGradient:"linear(135deg, green.900/40, teal.900/40)",borderColor:"green.600",boxShadow:"0 0 30px rgba(34, 197, 94, 0.3), 0 0 60px rgba(34, 197, 94, 0.1)"},_before:{content:'""',position:"absolute",top:0,left:0,right:0,height:"3px",bgGradient:"linear(to-r, green.400, teal.400, green.400)",_dark:{bgGradient:"linear(to-r, green.300, teal.300, green.300)"}},children:[e.jsxs(t,{position:"relative",mb:{base:4,md:5,lg:6},children:[e.jsxs(a,{fontSize:{base:"lg",md:"xl"},fontWeight:"bold",color:"green.700",_dark:{color:"green.200"},children:["📊 ラウンド (",n.length,")"]}),e.jsx(t,{position:"absolute",top:"-8px",right:0,display:{base:"none",lg:"block"},zIndex:2,children:e.jsx(k,{onClick:g})})]}),n.length===0?e.jsxs(t,{p:8,textAlign:"center",bg:"white",borderRadius:"lg",border:"2px dashed",borderColor:"green.300",opacity:.8,_dark:{bg:"gray.800",borderColor:"green.600",opacity:.9},children:[e.jsx(a,{fontSize:"md",color:"green.500",fontWeight:"medium",_dark:{color:"green.300"},children:"📝 ラウンドがまだ開始されていません"}),e.jsx(a,{fontSize:"sm",color:"green.400",mt:2,_dark:{color:"green.400"},children:"ラウンドが開始されると、各ラウンドの情報が表示されます"})]}):e.jsxs(_,{gap:4,align:"stretch",children:[e.jsx(h,{roundNumber:d,participants:l}),n.map(r=>e.jsx(y,{round:r,participants:l,onRoundClick:p,onUserClick:m,isExpanded:s?c.has(r.roundNumber):!0,onToggleExpand:s?()=>x(r.roundNumber):void 0},r.roundNumber))]})]})};try{u.displayName="RoundHistoryTable",u.__docgenInfo={description:"",displayName:"RoundHistoryTable",props:{roundNumber:{defaultValue:null,description:"",name:"roundNumber",required:!0,type:{name:"number"}},participants:{defaultValue:null,description:"",name:"participants",required:!0,type:{name:'{ id: string; name: string; avatar: string; status: "thinking" | "entered" | "completed"; }[]'}},pastRounds:{defaultValue:null,description:"",name:"pastRounds",required:!0,type:{name:"{ roundNumber: number; topic: string; selections: { userId: string; userName: string; item: string; comment?: string | undefined; }[]; }[]"}},onRoundClick:{defaultValue:null,description:"",name:"onRoundClick",required:!0,type:{name:"(roundNumber: number) => void"}},onUserClick:{defaultValue:null,description:"",name:"onUserClick",required:!0,type:{name:"(roundNumber: number, userId: string) => void"}},onOpenInputModal:{defaultValue:null,description:"",name:"onOpenInputModal",required:!0,type:{name:"() => void"}}}}}catch{}export{u as R};
