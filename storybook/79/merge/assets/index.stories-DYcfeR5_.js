import{c as oe,j as t,e as re}from"./create-recipe-context-oy0ofMwS.js";import{U as se}from"./index-Bl5sOVBD.js";import{r as s}from"./index-BXymfbzT.js";import{u as ae}from"./index-OfVhHRx_.js";import{m as L,a as $}from"./mocks-CTAzMC-z.js";import{D as ie}from"./index-Po8pVEM6.js";import{R as le}from"./index-Cy_zcpc1.js";import{C as ue}from"./index-BE55ihLs.js";import{I as pe}from"./index-DeiUX74Q.js";import{T as ce}from"./index-BUmWWsda.js";import{O as de}from"./index-KEctQLEG.js";import{C as me}from"./container-UOJWdtDL.js";import{V as ge}from"./v-stack-DNelLgfG.js";import{G as fe}from"./grid-CQT4z8bD.js";import{m as Se}from"./stack-BRg6br_m.js";import"./jsx-runtime-Bw5QeaCk.js";import"./responsive-modal-DToSESon.js";import"./index-B2ItOoBf.js";import"./iconBase-BtwG8oUN.js";import"./icon-button-tQjszkaJ.js";import"./button-Duda3c3S.js";import"./index-By25cWhp.js";import"./index-JKOH53Am.js";import"./index-DAFC_qOt.js";import"./factory-4NXM9rHI.js";import"./index-DGKHe-6Q.js";import"./index-CrjboX4Z.js";import"./create-slot-recipe-context-C5Qijpj2.js";import"./index-B5_nCLil.js";import"./index-BRNWFSEf.js";import"./use-breakpoint-BCFmA5bm.js";import"./h-stack-e-BLBiSK.js";import"./image-CisOvN2U.js";import"./text-DkCoEBoG.js";import"./box-D1Z_KUxa.js";import"./input-Dg388lLb.js";import"./textarea-M5EJNQKi.js";import"./index-B7YJKKKT.js";import"./_interop_require_wildcard-BpaVepTj.js";import"./segment-DQKAVVpM.js";import"./toaster-DfTO77Fo.js";import"./flex-CXFJ85Uw.js";import"./index-8XjyPakr.js";import"./index-DEag5c8W.js";import"./theme-M2mYg1Eg.js";import"./index-DNPIp7Yf.js";import"./index-DAkP_l56.js";import"./index-CRPWmS97.js";import"./index-CZ5My0ti.js";import"./index--qvAJLPf.js";import"./index--0ahhS6y.js";function _(o){return Se(o,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const v=s.forwardRef(function(n,c){const{area:d,colSpan:m,colStart:g,colEnd:f,rowEnd:S,rowSpan:a,rowStart:b,...R}=n,O=oe({gridArea:d,gridColumn:_(m),gridRow:_(a),gridColumnStart:g,gridColumnEnd:f,gridRowStart:b,gridRowEnd:S});return t.jsx(re.div,{ref:c,css:O,...R})}),I=({roundNumber:o,totalRounds:n,groupName:c,participants:d,currentUserSelection:m,onSubmitSelection:g,pastRounds:f,currentRoundTopic:S}={})=>{var V;const a=ae(),b=a==null?void 0:a.id,[R,O]=s.useState(""),[U,y]=s.useState(""),[x,F]=s.useState(""),[z,h]=s.useState(!1),[r,j]=s.useState({isOpen:!1,selectedRound:null,selectedUserId:null}),[A,k]=s.useState(!1),C=o??3,W=c??`ドラフト会議 ${b}`,u=d??$,B=m??R,N=f??L,J=S??"好きなゲーム",K=g??((e,i)=>{console.log("選択:",e,"コメント:",i),O(e)}),Q=()=>{U.trim()&&(K(U.trim(),x.trim()||void 0),h(!1))},D=e=>{console.log("ラウンド全体クリック:",e)},T=(e,i)=>{j({isOpen:!0,selectedRound:e,selectedUserId:i})},X=()=>{j({isOpen:!1,selectedRound:null,selectedUserId:null})},Y=(e,i)=>{console.log("ユーザー選択保存:",{roundNumber:e,selection:i})},M=()=>{y(B),h(!0)},Z=()=>{k(!0)},ee=()=>{window.location.href="/"},te=()=>{console.log("設定画面を開く（今後実装）")},ne=()=>{console.log("ヘルプ画面を開く（今後実装）")};return t.jsxs(me,{maxW:"1600px",p:{base:2,md:3,lg:4},minH:"100vh",position:"relative",_before:{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,bgGradient:"linear(to-br, purple.50, blue.50, pink.50)",opacity:.3,zIndex:-1,_dark:{bgGradient:"linear(to-br, purple.900/30, blue.900/30, pink.900/30)",opacity:.5}},children:[t.jsx(ie,{groupName:W,onOpenOptions:Z}),t.jsx(ge,{gap:{base:3,md:4},align:"stretch",display:{base:"flex",lg:"none"},children:t.jsx(ce,{roundNumber:C,participants:u,pastRounds:N,onRoundClick:D,onUserClick:T,onOpenInputModal:M})}),t.jsxs(fe,{templateColumns:"65fr 35fr",gap:8,minH:"70vh",display:{base:"none",lg:"grid"},children:[t.jsx(v,{children:t.jsx(le,{roundNumber:C,participants:u,pastRounds:N,onRoundClick:D,onUserClick:T,onOpenInputModal:M})}),t.jsx(v,{children:t.jsx(ue,{})})]}),t.jsx(pe,{isOpen:z,onClose:()=>h(!1),roundNumber:C,currentRoundTopic:J,selection:U,comment:x,onSelectionChange:y,onCommentChange:F,onSubmit:Q}),r.selectedRound&&r.selectedUserId&&t.jsx(se,{isOpen:r.isOpen,onClose:X,roundNumber:r.selectedRound,participant:u.find(e=>e.id===r.selectedUserId)||u[0],initialSelection:(V=N.find(e=>e.roundNumber===r.selectedRound))==null?void 0:V.selections.find(e=>e.userId===r.selectedUserId),onSaveSelection:Y}),t.jsx(de,{isOpen:A,onClose:()=>k(!1),onLeaveDraft:ee,onOpenSettings:te,onOpenHelp:ne})]})};try{I.displayName="DraftPage",I.__docgenInfo={description:"",displayName:"DraftPage",props:{roundNumber:{defaultValue:null,description:"",name:"roundNumber",required:!1,type:{name:"number"}},totalRounds:{defaultValue:null,description:"",name:"totalRounds",required:!1,type:{name:"number"}},groupName:{defaultValue:null,description:"",name:"groupName",required:!1,type:{name:"string"}},participants:{defaultValue:null,description:"",name:"participants",required:!1,type:{name:'{ id: string; name: string; avatar: string; status: "thinking" | "entered" | "completed"; }[]'}},currentUserSelection:{defaultValue:null,description:"",name:"currentUserSelection",required:!1,type:{name:"string"}},onSubmitSelection:{defaultValue:null,description:"",name:"onSubmitSelection",required:!1,type:{name:"((selection: string, comment?: string) => void)"}},pastRounds:{defaultValue:null,description:"",name:"pastRounds",required:!1,type:{name:"{ roundNumber: number; topic: string; selections: { userId: string; userName: string; item: string; comment?: string; }[]; }[]"}},currentRoundTopic:{defaultValue:null,description:"",name:"currentRoundTopic",required:!1,type:{name:"string"}},logCount:{defaultValue:null,description:"",name:"logCount",required:!1,type:{name:"number"}},onUpdateSelections:{defaultValue:null,description:"",name:"onUpdateSelections",required:!1,type:{name:"((roundNumber: number, selections: { userId: string; userName: string; item: string; comment?: string; }[]) => void)"}}}}}catch{}const gt={title:"Features/Draft/DraftPage",component:I,parameters:{layout:"fullscreen"},tags:["autodocs"]},l={args:{roundNumber:3,totalRounds:5,groupName:"ドラフト会議 TEST",participants:$,pastRounds:L,currentRoundTopic:"好きなゲーム",currentUserSelection:"ゼルダの伝説",onSubmitSelection:(o,n)=>{console.log("選択:",o,"コメント:",n)},onUpdateSelections:(o,n)=>{console.log("ラウンド",o,"の選択を更新:",n)}}},p={args:{...l.args,roundNumber:1,pastRounds:[],currentUserSelection:"",currentRoundTopic:"好きな食べ物"}};var E,q,w;l.parameters={...l.parameters,docs:{...(E=l.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    roundNumber: 3,
    totalRounds: 5,
    groupName: 'ドラフト会議 TEST',
    participants: mockParticipants,
    pastRounds: mockPastRounds,
    currentRoundTopic: '好きなゲーム',
    currentUserSelection: 'ゼルダの伝説',
    onSubmitSelection: (selection: string, comment?: string) => {
      console.log('選択:', selection, 'コメント:', comment);
    },
    onUpdateSelections: (roundNumber: number, selections) => {
      console.log('ラウンド', roundNumber, 'の選択を更新:', selections);
    }
  }
}`,...(w=(q=l.parameters)==null?void 0:q.docs)==null?void 0:w.source}}};var P,G,H;p.parameters={...p.parameters,docs:{...(P=p.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    roundNumber: 1,
    pastRounds: [],
    currentUserSelection: '',
    currentRoundTopic: '好きな食べ物'
  }
}`,...(H=(G=p.parameters)==null?void 0:G.docs)==null?void 0:H.source}}};const ft=["Default","Empty"];export{l as Default,p as Empty,ft as __namedExportsOrder,gt as default};
