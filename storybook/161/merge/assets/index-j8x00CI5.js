import{j as e}from"./stack-BPGBxmP7.js";import{b as S}from"./index-C8TKjGAI.js";import{A as z}from"./index-DryDucYP.js";import{B as a}from"./index-DAbNv4Ic.js";import{C as B}from"./index-Cta6h1Mu.js";import{B as s}from"./box-BF69sWHg.js";import{V as i}from"./v-stack-Dfms-mlT.js";import{H as c}from"./h-stack-CXTYcpFY.js";import{T as o}from"./text-CvVCgmJx.js";import{G as F}from"./grid-mntVVhnA.js";const j=({participants:n,currentRound:m,variant:u="sp",currentUserId:y,selections:b=[],onItemSelect:t,onOpenResult:d})=>{const f=r=>b.some(l=>l.userId===r&&l.round===m),p=n.filter(r=>f(r.id)).length,C=n.length>0?Math.round(p/n.length*100):0,w=(r,l)=>({p:u==="pc"?2:1.5,bg:l?r?"blue.100":"green.100":r?"blue.50":"green.50",border:l?"2px solid":"1px solid",borderColor:l?r?"blue.500":"green.500":r?"blue.300":"green.300",borderRadius:"md",gap:1,align:"center",textAlign:"center"}),x=r=>r?{bg:"blue.400",color:"white",px:1,py:.5,borderRadius:"sm",fontSize:u==="pc"?"2xs":"xs",fontWeight:"bold"}:{gap:1,fontSize:u==="pc"?"2xs":"xs",color:"green.600"};return e.jsx(s,{w:"full",children:e.jsx(B,{variant:"elevated",size:"sm",children:e.jsxs(i,{gap:u==="pc"?2:3,w:"full",children:[e.jsxs(i,{gap:1,w:"full",children:[e.jsxs(c,{w:"full",justify:"space-between",children:[e.jsxs(o,{fontSize:"sm",fontWeight:"bold",color:"gray.800",children:["Round ",m,u==="pc"&&" - 現在の選択状況"]}),e.jsxs(o,{fontSize:"xs",color:"gray.600",children:[p,"/",n.length," 人選択完了"]})]}),e.jsx(s,{w:"full",h:"4px",bg:"gray.200",borderRadius:"full",children:e.jsx(s,{h:"full",bg:"blue.500",borderRadius:"full",transition:"width 0.3s ease",width:`${C}%`})})]}),e.jsx(F,{templateColumns:"1fr 1fr 1fr",gap:u==="pc"?2:1,w:"full",children:n.map(r=>{const h=!f(r.id),g=r.id===y;return e.jsxs(i,{...w(h,g),children:[e.jsx(z,{avatarNumber:r.avatar,name:r.name,size:"xs"}),e.jsx(o,{fontSize:u==="pc"?"2xs":"xs",fontWeight:"medium",truncate:!0,w:"full",children:r.name}),h?e.jsx(s,{...x(!0),children:"選択中"}):e.jsxs(i,{gap:.5,...x(!1),children:[e.jsxs(c,{gap:1,children:[e.jsx(S,{size:10}),e.jsx(o,{children:"完了"})]}),g&&e.jsx(o,{fontSize:"2xs",color:"green.700",fontWeight:"medium",truncate:!0,w:"full",textAlign:"center",children:r.currentPick})]})]},r.id)})}),(t||d)&&e.jsx(s,{w:"full",pt:u==="pc"?1:0,children:u==="pc"?e.jsxs(c,{gap:2,w:"full",children:[t&&e.jsx(s,{flex:1,children:e.jsx(a,{variant:"primary",size:"sm",onClick:t,width:"full",children:"アイテムを選択する"})}),d&&e.jsx(s,{flex:1,children:e.jsx(a,{variant:"secondary",size:"sm",onClick:d,width:"full",children:"開票する"})})]}):e.jsxs(i,{gap:2,w:"full",children:[t&&e.jsx(a,{variant:"primary",size:"sm",onClick:t,width:"full",children:"アイテムを選択する"}),d&&e.jsx(a,{variant:"secondary",size:"sm",onClick:d,width:"full",children:"開票する"})]})})]})})})};try{j.displayName="CurrentRoundStatus",j.__docgenInfo={description:`現在のラウンドの参加者選択状況を表示する共通コンポーネント
PC版とSP版で表示スタイルを切り替え可能`,displayName:"CurrentRoundStatus",props:{participants:{defaultValue:null,description:"",name:"participants",required:!0,type:{name:"ParticipantType[]"}},currentRound:{defaultValue:null,description:"",name:"currentRound",required:!0,type:{name:"number"}},variant:{defaultValue:{value:"sp"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"pc"'},{value:'"sp"'}]}},currentUserId:{defaultValue:null,description:"",name:"currentUserId",required:!1,type:{name:"string"}},selections:{defaultValue:{value:"[]"},description:"",name:"selections",required:!1,type:{name:"SelectionItemType[]"}},onItemSelect:{defaultValue:null,description:"",name:"onItemSelect",required:!1,type:{name:"(() => void)"}},onOpenResult:{defaultValue:null,description:"",name:"onOpenResult",required:!1,type:{name:"(() => void)"}}}}}catch{}export{j as C};
