import{c as x,a as V}from"./index-BthoBnz-.js";import{j as w,ac as p,r as I,f as S,am as P,B as k,ah as $,ae as L,a3 as F,k as z,an as B,aj as U,ak as H,S as D,T as K,ao as M,J as X,y as j}from"./index-CXxrkVEp.js";var q=x("collapsible").parts("root","trigger","content","indicator"),T=q.build(),J=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`collapsible:${e.id}`},b=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`collapsible:${e.id}:content`},Q=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`collapsible:${e.id}:trigger`},y=e=>e.getById(b(e));function re(e,t){const{state:a,send:n,context:o,scope:s,prop:g}=e,l=a.matches("open")||a.matches("closing"),d=a.matches("open"),{width:m,height:v}=o.get("size"),u=!!g("disabled"),r=!o.get("initial")&&d,i="ltr";return{disabled:u,visible:l,open:d,measureSize(){n({type:"size.measure"})},setOpen(c){a.matches("open")!==c&&n({type:c?"open":"close"})},getRootProps(){return t.element({...T.root.attrs,"data-state":d?"open":"closed",dir:i,id:J(s)})},getContentProps(){return t.element({...T.content.attrs,"data-collapsible":"","data-state":r?void 0:d?"open":"closed",id:b(s),"data-disabled":p(u),hidden:!l,style:{"--height":v!=null?`${v}px`:void 0,"--width":m!=null?`${m}px`:void 0}})},getTriggerProps(){return t.element({...T.trigger.attrs,id:Q(s),dir:i,type:"button","data-state":d?"open":"closed","data-disabled":p(u),"aria-controls":b(s),"aria-expanded":l||!1,onClick(c){c.defaultPrevented||u||n({type:d?"close":"open"})}})},getIndicatorProps(){return t.element({...T.indicator.attrs,dir:i,"data-state":d?"open":"closed","data-disabled":p(u)})}}}var le=w({initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:a}){e([()=>t("open")],()=>{a(["setInitial","computeSize","toggleVisibility"])})},exit:["clearInitial","cleanupNode"],states:{closed:{on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let a;const n=I(()=>{const o=y(t);if(!o)return;const s=S(o).animationName;if(!s||s==="none"){e({type:"animation.end"});return}const l=d=>{k(d)===o&&e({type:"animation.end"})};o.addEventListener("animationend",l),a=()=>{o.removeEventListener("animationend",l)}});return()=>{n(),a==null||a()}},trackExitAnimation:({send:e,scope:t})=>{let a;const n=I(()=>{const o=y(t);if(!o)return;const s=S(o).animationName;if(!s||s==="none"){e({type:"animation.end"});return}const l=m=>{k(m)===o&&e({type:"animation.end"})};o.addEventListener("animationend",l);const d=P(o,{animationFillMode:"forwards"});a=()=>{o.removeEventListener("animationend",l),$(()=>d())}});return()=>{n(),a==null||a()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{const a=y(t);if(!a)return;const{height:n,width:o}=a.getBoundingClientRect();e.set("size",{height:n,width:o})},computeSize:({refs:e,scope:t,context:a})=>{var o;(o=e.get("cleanup"))==null||o();const n=I(()=>{const s=y(t);if(!s)return;const g=s.hidden;s.style.animationName="none",s.style.animationDuration="0s",s.hidden=!1;const l=s.getBoundingClientRect();a.set("size",{height:l.height,width:l.width}),a.get("initial")&&(s.style.animationName="",s.style.animationDuration=""),s.hidden=g});e.set("cleanup",n)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}});V()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);var W=x("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),h=W.build(),O=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},Y=(e,t)=>{var a,n;return((n=(a=e.ids)==null?void 0:a.item)==null?void 0:n.call(a,t))??`accordion:${e.id}:item:${t}`},G=(e,t)=>{var a,n;return((n=(a=e.ids)==null?void 0:a.itemContent)==null?void 0:n.call(a,t))??`accordion:${e.id}:content:${t}`},E=(e,t)=>{var a,n;return((n=(a=e.ids)==null?void 0:a.itemTrigger)==null?void 0:n.call(a,t))??`accordion:${e.id}:trigger:${t}`},Z=e=>e.getById(O(e)),C=e=>{const a=`[aria-controls][data-ownedby='${CSS.escape(O(e))}']:not([disabled])`;return j(Z(e),a)},_=e=>K(C(e)),ee=e=>D(C(e)),te=(e,t)=>H(C(e),E(e,t)),ae=(e,t)=>U(C(e),E(e,t));function de(e,t){const{send:a,context:n,prop:o,scope:s,computed:g}=e,l=n.get("focusedValue"),d=n.get("value"),m=o("multiple");function v(r){let i=r;!m&&i.length>1&&(i=[i[0]]),a({type:"VALUE.SET",value:i})}function u(r){return{expanded:d.includes(r.value),focused:l===r.value,disabled:!!(r.disabled??o("disabled"))}}return{focusedValue:l,value:d,setValue:v,getItemState:u,getRootProps(){return t.element({...h.root.attrs,dir:o("dir"),id:O(s),"data-orientation":o("orientation")})},getItemProps(r){const i=u(r);return t.element({...h.item.attrs,dir:o("dir"),id:Y(s,r.value),"data-state":i.expanded?"open":"closed","data-focus":p(i.focused),"data-disabled":p(i.disabled),"data-orientation":o("orientation")})},getItemContentProps(r){const i=u(r);return t.element({...h.itemContent.attrs,dir:o("dir"),role:"region",id:G(s,r.value),"aria-labelledby":E(s,r.value),hidden:!i.expanded,"data-state":i.expanded?"open":"closed","data-disabled":p(i.disabled),"data-focus":p(i.focused),"data-orientation":o("orientation")})},getItemIndicatorProps(r){const i=u(r);return t.element({...h.itemIndicator.attrs,dir:o("dir"),"aria-hidden":!0,"data-state":i.expanded?"open":"closed","data-disabled":p(i.disabled),"data-focus":p(i.focused),"data-orientation":o("orientation")})},getItemTriggerProps(r){const{value:i}=r,c=u(r);return t.button({...h.itemTrigger.attrs,type:"button",dir:o("dir"),id:E(s,i),"aria-controls":G(s,i),"aria-expanded":c.expanded,disabled:c.disabled,"data-orientation":o("orientation"),"aria-disabled":c.disabled,"data-state":c.expanded?"open":"closed","data-ownedby":O(s),onFocus(){c.disabled||a({type:"TRIGGER.FOCUS",value:i})},onBlur(){c.disabled||a({type:"TRIGGER.BLUR"})},onClick(f){c.disabled||(F()&&f.currentTarget.focus(),a({type:"TRIGGER.CLICK",value:i}))},onKeyDown(f){if(f.defaultPrevented||c.disabled)return;const N={ArrowDown(){g("isHorizontal")||a({type:"GOTO.NEXT",value:i})},ArrowUp(){g("isHorizontal")||a({type:"GOTO.PREV",value:i})},ArrowRight(){g("isHorizontal")&&a({type:"GOTO.NEXT",value:i})},ArrowLeft(){g("isHorizontal")&&a({type:"GOTO.PREV",value:i})},Home(){a({type:"GOTO.FIRST",value:i})},End(){a({type:"GOTO.LAST",value:i})}},A=L(f,{dir:o("dir"),orientation:o("orientation")}),R=N[A];R&&(R(f),f.preventDefault())}})}}}var{and:ne,not:oe}=z(),ce=w({props({props:e}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(a){var n;(n=e("onFocusChange"))==null||n({value:a})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){var n;(n=e("onValueChange"))==null||n({value:a})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:ne("isExpanded","canToggle"),actions:["collapse"]},{guard:oe("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:a}){const n=t("multiple")?X(e.get("value"),a.value):[];e.set("value",n)},expand({context:e,prop:t,event:a}){const n=t("multiple")?M(e.get("value"),a.value):[a.value];e.set("value",n)},focusFirstTrigger({scope:e}){var t;(t=_(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=ee(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){const a=e.get("focusedValue");if(!a)return;const n=te(t,a);n==null||n.focus()},focusPrevTrigger({context:e,scope:t}){const a=e.get("focusedValue");if(!a)return;const n=ae(t,a);n==null||n.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(B("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}});V()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);V()(["value","disabled"]);export{W as a,q as b,re as c,de as d,ce as e,le as m};
