import{g as S,j as e,m as h}from"./stack-BPGBxmP7.js";import{A}from"./index-CEwFM9OV.js";import{I as v}from"./index-CbyFsMuW.js";import{R as _}from"./responsive-modal-CaUPWZcY.js";import{r as p}from"./index-BXymfbzT.js";import{V as x}from"./v-stack-Dfms-mlT.js";import{T as c}from"./text-CvVCgmJx.js";import{G as w}from"./grid-mntVVhnA.js";import{B as m}from"./box-BF69sWHg.js";const B=p.forwardRef(function(r,s){const{columns:l,minChildWidth:a,...u}=r,i=S(),d=a?E(a,i):F(l);return e.jsx(w,{ref:s,templateColumns:d,...u})});function z(t){return typeof t=="number"?`${t}px`:t}function E(t,r){return h(t,s=>{const l=r.tokens.getVar(`sizes.${s}`,z(s));return s===null?null:`repeat(auto-fit, minmax(${l}, 1fr))`})}function F(t){return h(t,r=>r===null?null:`repeat(${r}, minmax(0, 1fr))`)}const g=({isOpen:t,onClose:r,onConfirm:s,usedAvatars:l=[]})=>{const[a,u]=p.useState(""),[i,d]=p.useState(""),C=Array.from({length:18},(o,n)=>(n+1).toString()),y=()=>{a&&i.trim()&&(s({name:i.trim(),avatar:a}),u(""),d(""))},j=o=>l.includes(o),b=a&&i.trim().length>0;return e.jsxs(_,{isOpen:t,onClose:r,title:"ドラフトに参加",actions:{cancel:{text:"キャンセル",onClick:r},submit:{text:"参加する",disabled:!b,onClick:y}},children:[e.jsxs(x,{gap:2,align:"start",w:"full",children:[e.jsx(c,{fontSize:["sm","md"],fontWeight:"bold",color:"gray.700",children:"あなたの名前"}),e.jsx(v,{placeholder:"名前を入力してください",value:i,onChange:d,maxLength:20,size:"lg"})]}),e.jsxs(x,{gap:4,align:"start",w:"full",children:[e.jsx(c,{fontSize:["sm","md"],fontWeight:"bold",color:"gray.700",children:"アバターを選択"}),e.jsx(B,{columns:[4,6],gap:3,w:"full",children:C.map(o=>{const n=j(o),f=a===o;return e.jsxs(m,{position:"relative",cursor:n?"not-allowed":"pointer",opacity:n?.4:1,onClick:()=>!n&&u(o),children:[e.jsx(m,{p:.5,borderRadius:"lg",border:"2px solid",borderColor:f?"blue.400":n?"gray.300":"gray.200",bg:f?"blue.50":"white",transition:"all 0.15s",display:"flex",alignItems:"center",justifyContent:"center",_hover:n?{}:{borderColor:"blue.400",transform:"scale(1.05)"},children:e.jsx(A,{avatarNumber:o,size:"md",noBorder:!0})}),n&&e.jsx(m,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bg:"red.500",color:"white",borderRadius:"full",w:"20px",h:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"xs",fontWeight:"bold",children:"×"})]},o)})}),e.jsx(c,{fontSize:"xs",color:"gray.500",children:"×マークは他の参加者が使用中のアバターです"})]})]})};try{g.displayName="AvatarSelectionModal",g.__docgenInfo={description:`アバター選択モーダル
新規参加者用のアバター・名前選択UI`,displayName:"AvatarSelectionModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"(userData: { name: string; avatar: string; }) => void"}},usedAvatars:{defaultValue:{value:"[]"},description:"",name:"usedAvatars",required:!1,type:{name:"string[]"}}}}}catch{}export{g as A,B as S};
