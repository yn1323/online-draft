import{g as v}from"./create-recipe-context-oy0ofMwS.js";import{r as m}from"./index-BXymfbzT.js";function x(e,r=[]){const a=m.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return m.useInsertionEffect(()=>{a.current=e}),m.useCallback((...i)=>{var n;return(n=a.current)==null?void 0:n.call(a,...i)},r)}function y(e,r){try{return e.addEventListener("change",r),()=>e.removeEventListener("change",r)}catch{return e.addListener(r),()=>e.removeListener(r)}}function C(e,r={}){const{fallback:a=[],ssr:i=!0,getWindow:n}=r,f=x(n),d=Array.isArray(e)?e:[e],p=a==null?void 0:a.filter(t=>t!=null),[h,c]=m.useState(()=>d.map((t,l)=>{if(!i){const{media:b,matches:w}=((n==null?void 0:n())??window).matchMedia(t);return{media:b,matches:w}}return{media:t,matches:!!p[l]}}));return m.useEffect(()=>{const t=f()??window;c(s=>{const o=d.map(u=>{const{media:k,matches:E}=t.matchMedia(u);return{media:k,matches:E}});return s.every((u,k)=>u.matches===o[k].matches&&u.media===o[k].media)?s:o});const l=d.map(s=>t.matchMedia(s)),b=s=>{c(o=>o.slice().map(u=>u.media===s.media?{...u,matches:s.matches}:u))},w=l.map(s=>y(s,b));return()=>w.forEach(s=>s())},[f]),h.map(t=>t.matches)}function g(e={}){var h;e.fallback||(e.fallback="base");const r=v();let a=!1;const n=r.breakpoints.values.map(({min:c,name:t})=>{const l={breakpoint:t,query:`(min-width: ${c})`,fallback:!a};return t===e.fallback&&(a=!0),l}).filter(({breakpoint:c})=>{var t;return!!((t=e.breakpoints)!=null&&t.includes(c))}),f=n.map(({fallback:c})=>c),p=C(n.map(c=>c.query),{fallback:f,ssr:e.ssr}).lastIndexOf(!0);return((h=n[p])==null?void 0:h.breakpoint)??e.fallback}function M(e,r){const i=v().normalizeValue(e),n=g({breakpoints:Object.keys(i),...r});return i[n]}export{M as u};
