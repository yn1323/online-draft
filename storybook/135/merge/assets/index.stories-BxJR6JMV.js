import{w as re}from"./storybook-decorators-wUPIH0gk.js";import{c as se,j as t,f as ae}from"./create-recipe-context-LbQq3bM7.js";import{u as ie}from"./index-CVTRJrKK.js";import{r as s}from"./index-BXymfbzT.js";import{U as le}from"./index-B0LihvAh.js";import{C as ue}from"./index-BW0QPtPT.js";import{D as pe}from"./index-CKEizT-p.js";import{T as ce}from"./index-CV70qNUd.js";import{I as de}from"./index-DD2muNHt.js";import{O as me}from"./index-CH5GEJz-.js";import{R as ge}from"./index-Ct2aZRRI.js";import{m as L,a as $}from"./mocks-C8FdBju4.js";import{C as fe}from"./container-BXrbxM4E.js";import{V as Se}from"./v-stack-DfIdlA7P.js";import{G as be}from"./grid-DCXQ59mM.js";import{m as Re}from"./stack-B-mkjmc_.js";import"./jsx-runtime-Bw5QeaCk.js";import"./index-B7YJKKKT.js";import"./_interop_require_wildcard-BpaVepTj.js";import"./segment-DQKAVVpM.js";import"./responsive-modal-BJWOw55G.js";import"./index-B2ItOoBf.js";import"./iconBase-BtwG8oUN.js";import"./icon-button-Bwmz2JOC.js";import"./button-Cvi4ewak.js";import"./portal-D4i3AW4J.js";import"./create-slot-recipe-context-lH_kfrLM.js";import"./factory-B-x4ZR3W.js";import"./index-5qRv5KYD.js";import"./index-DoZAzkdv.js";import"./index-DGKHe-6Q.js";import"./index-CrjboX4Z.js";import"./index-bbaQYjck.js";import"./index-BRNWFSEf.js";import"./use-breakpoint-CtC0MXDZ.js";import"./h-stack-BOuMwgNM.js";import"./image-D2VQ_BCA.js";import"./text-BOFVnBsW.js";import"./box-p2MKwv57.js";import"./input-D57sxenT.js";import"./use-field-context-BZ3mEJCV.js";import"./textarea-DDSotln4.js";import"./index-KLwv-BE1.js";import"./flex-CZZAfvJj.js";import"./index-CjgIjFmL.js";import"./toaster-DVV56sZE.js";import"./index-CpN0Y-_B.js";import"./theme-BEsXwnFK.js";import"./index-B0tjTtPU.js";import"./index-B_WG8SGj.js";import"./index-DzZ9wzu-.js";import"./index-D1nGLV6J.js";import"./index-CK4u9vN_.js";function _(o){return Re(o,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}const q=s.forwardRef(function(n,N){const{area:d,colSpan:m,colStart:g,colEnd:f,rowEnd:S,rowSpan:b,rowStart:a,...u}=n,R=se({gridArea:d,gridColumn:_(m),gridRow:_(b),gridColumnStart:g,gridColumnEnd:f,gridRowStart:a,gridRowEnd:S});return t.jsx(ae.div,{ref:N,css:R,...u})}),C=({groupId:o,roundNumber:n,totalRounds:N,groupName:d,participants:m,currentUserSelection:g,onSubmitSelection:f,pastRounds:S,currentRoundTopic:b}={})=>{var V;const a=ie(),u=o??(a==null?void 0:a.id),[R,A]=s.useState(""),[h,y]=s.useState(""),[x,F]=s.useState(""),[z,O]=s.useState(!1),[r,k]=s.useState({isOpen:!1,selectedRound:null,selectedUserId:null}),[W,D]=s.useState(!1);console.log("📍 DraftPage - groupId:",u);const U=n??3,B=d??`ドラフト会議 ${u}`,p=m??$,J=g??R,I=S??L,K=b??"好きなゲーム",Q=f??((e,i)=>{console.log("選択:",e,"コメント:",i),A(e)}),X=()=>{h.trim()&&(Q(h.trim(),x.trim()||void 0),O(!1))},j=e=>{console.log("ラウンド全体クリック:",e)},T=(e,i)=>{k({isOpen:!0,selectedRound:e,selectedUserId:i})},Y=()=>{k({isOpen:!1,selectedRound:null,selectedUserId:null})},Z=(e,i)=>{console.log("ユーザー選択保存:",{roundNumber:e,selection:i})},M=()=>{y(J),O(!0)},ee=()=>{D(!0)},te=()=>{window.location.href="/"},ne=()=>{console.log("設定画面を開く（今後実装）")},oe=()=>{console.log("ヘルプ画面を開く（今後実装）")};return t.jsxs(fe,{maxW:"1600px",p:{base:2,md:3,lg:4},minH:"100vh",position:"relative",_before:{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,bgGradient:"linear(to-br, purple.50, blue.50, pink.50)",opacity:.3,zIndex:-1,_dark:{bgGradient:"linear(to-br, purple.900/30, blue.900/30, pink.900/30)",opacity:.5}},children:[t.jsx(pe,{groupName:B,onOpenOptions:ee}),t.jsx(Se,{gap:{base:3,md:4},align:"stretch",display:{base:"flex",lg:"none"},children:t.jsx(ce,{roundNumber:U,participants:p,pastRounds:I,onRoundClick:j,onUserClick:T,onOpenInputModal:M})}),t.jsxs(be,{templateColumns:"65fr 35fr",gap:8,minH:"70vh",display:{base:"none",lg:"grid"},children:[t.jsx(q,{children:t.jsx(ge,{roundNumber:U,participants:p,pastRounds:I,onRoundClick:j,onUserClick:T,onOpenInputModal:M})}),t.jsx(q,{children:t.jsx(ue,{})})]}),t.jsx(de,{isOpen:z,onClose:()=>O(!1),roundNumber:U,currentRoundTopic:K,selection:h,comment:x,onSelectionChange:y,onCommentChange:F,onSubmit:X}),r.selectedRound&&r.selectedUserId&&t.jsx(le,{isOpen:r.isOpen,onClose:Y,roundNumber:r.selectedRound,participant:p.find(e=>e.id===r.selectedUserId)||p[0],initialSelection:(V=I.find(e=>e.roundNumber===r.selectedRound))==null?void 0:V.selections.find(e=>e.userId===r.selectedUserId),onSaveSelection:Z}),t.jsx(me,{isOpen:W,onClose:()=>D(!1),onLeaveDraft:te,onOpenSettings:ne,onOpenHelp:oe})]})};try{C.displayName="DraftPage",C.__docgenInfo={description:"",displayName:"DraftPage",props:{groupId:{defaultValue:null,description:"",name:"groupId",required:!1,type:{name:"string"}},roundNumber:{defaultValue:null,description:"",name:"roundNumber",required:!1,type:{name:"number"}},totalRounds:{defaultValue:null,description:"",name:"totalRounds",required:!1,type:{name:"number"}},groupName:{defaultValue:null,description:"",name:"groupName",required:!1,type:{name:"string"}},participants:{defaultValue:null,description:"",name:"participants",required:!1,type:{name:'{ id: string; name: string; avatar: string; status: "thinking" | "entered" | "completed"; }[]'}},currentUserSelection:{defaultValue:null,description:"",name:"currentUserSelection",required:!1,type:{name:"string"}},onSubmitSelection:{defaultValue:null,description:"",name:"onSubmitSelection",required:!1,type:{name:"((selection: string, comment?: string) => void)"}},pastRounds:{defaultValue:null,description:"",name:"pastRounds",required:!1,type:{name:"{ roundNumber: number; topic: string; selections: { userId: string; userName: string; item: string; comment?: string; }[]; }[]"}},currentRoundTopic:{defaultValue:null,description:"",name:"currentRoundTopic",required:!1,type:{name:"string"}},logCount:{defaultValue:null,description:"",name:"logCount",required:!1,type:{name:"number"}},onUpdateSelections:{defaultValue:null,description:"",name:"onUpdateSelections",required:!1,type:{name:"((roundNumber: number, selections: { userId: string; userName: string; item: string; comment?: string; }[]) => void)"}}}}}catch{}const Rt={title:"Features/Draft/DraftPage",component:C,parameters:{layout:"fullscreen"},decorators:[re],tags:["autodocs"]},l={args:{roundNumber:3,totalRounds:5,groupName:"ドラフト会議 TEST",participants:$,pastRounds:L,currentRoundTopic:"好きなゲーム",currentUserSelection:"ゼルダの伝説",onSubmitSelection:(o,n)=>{console.log("選択:",o,"コメント:",n)},onUpdateSelections:(o,n)=>{console.log("ラウンド",o,"の選択を更新:",n)}}},c={args:{...l.args,roundNumber:1,pastRounds:[],currentUserSelection:"",currentRoundTopic:"好きな食べ物"}};var v,w,E;l.parameters={...l.parameters,docs:{...(v=l.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    roundNumber: 3,
    totalRounds: 5,
    groupName: 'ドラフト会議 TEST',
    participants: mockParticipants,
    pastRounds: mockPastRounds,
    currentRoundTopic: '好きなゲーム',
    currentUserSelection: 'ゼルダの伝説',
    onSubmitSelection: (selection: string, comment?: string) => {
      console.log('選択:', selection, 'コメント:', comment);
    },
    onUpdateSelections: (roundNumber: number, selections) => {
      console.log('ラウンド', roundNumber, 'の選択を更新:', selections);
    }
  }
}`,...(E=(w=l.parameters)==null?void 0:w.docs)==null?void 0:E.source}}};var P,G,H;c.parameters={...c.parameters,docs:{...(P=c.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    roundNumber: 1,
    pastRounds: [],
    currentUserSelection: '',
    currentRoundTopic: '好きな食べ物'
  }
}`,...(H=(G=c.parameters)==null?void 0:G.docs)==null?void 0:H.source}}};const ht=["Default","Empty"];export{l as Default,c as Empty,ht as __namedExportsOrder,Rt as default};
