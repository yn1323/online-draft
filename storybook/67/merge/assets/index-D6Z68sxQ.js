import{e as Q,f as L,g as k,j as l,b as $,m as J,E as U,h as G}from"./create-recipe-context-DNTG5mYw.js";import{u as q,a as V,c as X,F as ee,b as te,d as re,I as se,s as oe,j as ae}from"./schemas-LaxcQh7r.js";import{I as ne}from"./index.esm-B5kODk4H.js";import{r as a}from"./index-BXymfbzT.js";import{g as le,Q as P,R as T,S as ie}from"./field.anatomy-Ze19KRbA.js";import{bn as A}from"./types-2y-X5aQn.js";import{B as de}from"./box-DMcbo_cE.js";import{V as ce}from"./v-stack-QJg7n52G.js";import{B as ue}from"./button-Dz2diCo_.js";import{H as pe}from"./h-stack-BoRIBf53.js";import{T as me}from"./text-DJUdolDr.js";const fe=()=>(n,r)=>r.reduce((e,t)=>{const[s,o]=e,i=t;return o[i]!==void 0&&(s[i]=o[i]),delete o[i],[s,o]},[{},{...n}]);function xe(n){const{key:r,recipe:e}=n,t=Q();return a.useMemo(()=>{const s=e||(r!=null?t.getSlotRecipe(r):{});return t.sva(structuredClone(s))},[r,e,t])}const he=n=>n.charAt(0).toUpperCase()+n.slice(1),be=n=>{const{key:r,recipe:e}=n,t=he(r||e.className||"Component"),[s,o]=L({name:`${t}StylesContext`,errorMessage:`use${t}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${t}.Root />" `}),[i,f]=L({name:`${t}ClassNameContext`,errorMessage:`use${t}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${t}.Root />" `,strict:!1}),[b,N]=L({strict:!1,name:`${t}PropsContext`,providerName:`${t}PropsContext`,defaultValue:{}});function S(d){const{unstyled:c,...u}=d,p=xe({key:r,recipe:u.recipe||e}),[x,h]=a.useMemo(()=>p.splitVariantProps(u),[u,p]);return{styles:a.useMemo(()=>c?U:p(x),[c,x,p]),classNames:p.classNameMap,props:h}}function y(d,c={}){const{defaultProps:u}=c,p=x=>{const h=N(),m=a.useMemo(()=>J(u,h,x),[h,x]),{styles:R,classNames:C,props:v}=S(m);return l.jsx(s,{value:R,children:l.jsx(i,{value:C,children:l.jsx(d,{...v})})})};return p.displayName=d.displayName||d.name,p}return{StylesProvider:s,ClassNamesProvider:i,PropsProvider:b,usePropsContext:N,useRecipeResult:S,withProvider:(d,c,u)=>{const{defaultProps:p,...x}=u??{},h=k(d,{},x),m=a.forwardRef((R,C)=>{var w;const v=N(),F=a.useMemo(()=>J(p??{},v,R),[v,R]),{styles:_,props:H,classNames:g}=S(F),E=g[c],j=l.jsx(s,{value:_,children:l.jsx(i,{value:g,children:l.jsx(h,{ref:C,...H,css:[_[c],F.css],className:$(F.className,E)})})});return((w=u==null?void 0:u.wrapElement)==null?void 0:w.call(u,j,F))??j});return m.displayName=d.displayName||d.name,m},withContext:(d,c,u)=>{const p=k(d,{},u),x=a.forwardRef((h,m)=>{const R=o(),C=f(),v=C==null?void 0:C[c];return l.jsx(p,{...h,css:[c?R[c]:void 0,h.css],ref:m,className:$(h.className,v)})});return x.displayName=d.displayName||d.name,x},withRootProvider:y,useStyles:o,useClassNames:f}},Z=a.forwardRef((n,r)=>{const e=q(),t=A(e.getErrorTextProps(),n);return e!=null&&e.invalid?l.jsx(V.span,{...t,ref:r}):null});Z.displayName="FieldErrorText";const W=a.forwardRef((n,r)=>{const e=q(),t=A(e==null?void 0:e.getHelperTextProps(),n);return l.jsx(V.span,{...t,ref:r})});W.displayName="FieldHelperText";const Y=a.forwardRef((n,r)=>{const e=q(),t=A(e==null?void 0:e.getLabelProps(),n);return l.jsx(V.label,{...t,ref:r})});Y.displayName="FieldLabel";const ye=typeof window<"u"?a.useLayoutEffect:a.useEffect,[ze,ge]=X({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),Pe=(n={})=>{const r=ge(),{ids:e,disabled:t=!!(r!=null&&r.disabled),invalid:s=!1,readOnly:o=!1,required:i=!1}=n,[f,b]=a.useState(!1),[N,S]=a.useState(!1),y=n.id??a.useId(),I=a.useRef(null),M=(e==null?void 0:e.control)??`field::${y}`,d=(e==null?void 0:e.errorText)??`field::${y}::error-text`,c=(e==null?void 0:e.helperText)??`field::${y}::helper-text`,u=(e==null?void 0:e.label)??`field::${y}::label`;ye(()=>{const g=I.current;if(!g)return;const E=le(g),j=E.document,w=()=>{b(!!j.getElementById(d)),S(!!j.getElementById(c))};w();const z=new E.MutationObserver(w);return z.observe(g,{childList:!0,subtree:!0}),()=>z.disconnect()},[d,c]);const p=a.useMemo(()=>{const g=[];return f&&s&&g.push(d),N&&g.push(c),g.join(" ")||void 0},[s,d,c,f,N]),x=a.useMemo(()=>()=>({...T.root.attrs,id:M,ref:I,role:"group","data-disabled":P(t),"data-invalid":P(s),"data-readonly":P(o)}),[t,s,o,M]),h=a.useMemo(()=>()=>({...T.label.attrs,id:u,"data-disabled":P(t),"data-invalid":P(s),"data-readonly":P(o),htmlFor:y}),[t,s,o,y,u]),m=a.useMemo(()=>()=>({"aria-describedby":p,"aria-invalid":ie(s),"data-invalid":P(s),"data-required":P(i),"data-readonly":P(o),id:y,required:i,disabled:t,readOnly:o}),[p,s,i,o,y,t]),R=a.useMemo(()=>()=>({...m(),...T.input.attrs}),[m]),C=a.useMemo(()=>()=>({...m(),...T.textarea.attrs}),[m]),v=a.useMemo(()=>()=>({...m(),...T.select.attrs}),[m]),F=a.useMemo(()=>()=>({id:c,...T.helperText.attrs,"data-disabled":P(t)}),[t,c]),_=a.useMemo(()=>()=>({id:d,...T.errorText.attrs,"aria-live":"polite"}),[d]),H=a.useMemo(()=>()=>({"aria-hidden":!0,...T.requiredIndicator.attrs}),[]);return{ariaDescribedby:p,ids:{root:M,control:y,label:u,errorText:d,helperText:c},refs:{rootRef:I},disabled:t,invalid:s,readOnly:o,required:i,getLabelProps:h,getRootProps:x,getInputProps:R,getTextareaProps:C,getSelectProps:v,getHelperTextProps:F,getErrorTextProps:_,getRequiredIndicatorProps:H}},K=a.forwardRef((n,r)=>{const[e,t]=fe()(n,["id","ids","disabled","invalid","readOnly","required"]),s=Pe(e),o=A(s.getRootProps(),t);return l.jsx(ee,{value:s,children:l.jsx(V.div,{...o,ref:te(r,s.refs.rootRef)})})});K.displayName="FieldRoot";const{useRecipeResult:Ne}=G({key:"icon"}),Ce=a.forwardRef(function(r,e){const{styles:t,className:s,props:o}=Ne({asChild:!r.as,...r});return l.jsx(k.svg,{ref:e,focusable:!1,"aria-hidden":"true",...o,css:[t,r.css],className:$(s,r.className)})});function Re(n){const{viewBox:r="0 0 24 24",d:e,displayName:t,defaultProps:s={}}=n,o=a.Children.toArray(n.path),i=a.forwardRef((f,b)=>l.jsx(Ce,{ref:b,asChild:!1,viewBox:r,...s,...f,children:o.length?o:l.jsx("path",{fill:"currentColor",d:e})}));return i.displayName=t,i}const{withProvider:ve,withContext:O,useStyles:Te,useClassNames:Se}=be({key:"field"}),Fe=ve(K,"root",{forwardAsChild:!0}),je=O(Y,"label",{forwardAsChild:!0}),we=O(W,"helperText",{forwardAsChild:!0}),Ie=O(Z,"errorText",{forwardAsChild:!0});Re({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});const Me=a.forwardRef(function(r,e){const{fallback:t,children:s="*",...o}=r,i=q(),f=Se(),b=Te();return i!=null&&i.required?l.jsx(k.span,{ref:e,"aria-hidden":"true",...o,className:$(f.requiredIndicator,r.className),css:[b.requiredIndicator,r.css],children:s}):t}),B=a.forwardRef(function(r,e){const{label:t,children:s,helperText:o,errorText:i,optionalText:f,...b}=r;return l.jsxs(Fe,{ref:e,...b,children:[t&&l.jsxs(je,{children:[t,l.jsx(Me,{fallback:f})]}),s,o&&l.jsx(we,{children:o}),i&&l.jsx(Ie,{children:i})]})});try{B.displayName="Field",B.__docgenInfo={description:"",displayName:"Field",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"ReactNode"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"ReactNode"}},optionalText:{defaultValue:null,description:"",name:"optionalText",required:!1,type:{name:"ReactNode"}},recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}function D({onSubmit:n,isLoading:r=!1}){var N;const e=re({resolver:oe(ae),defaultValues:{meetingInput:""}}),{register:t,handleSubmit:s,formState:{errors:o,isValid:i},reset:f}=e,b=async S=>{await n(S),f()};return l.jsx(de,{p:{base:4,md:6},bg:"blue.50",borderRadius:"xl",border:"1px solid",borderColor:"blue.200",_dark:{bg:"blue.900/20",borderColor:"blue.700"},children:l.jsxs(ce,{gap:4,children:[l.jsx(B,{label:"参加コード",invalid:!!o.meetingInput,errorText:(N=o.meetingInput)==null?void 0:N.message,children:l.jsx(se,{...t("meetingInput"),placeholder:"ABC123 または招待リンク",disabled:r,size:"lg",bg:"white",borderColor:o.meetingInput?"red.300":"blue.300",_dark:{bg:"gray.800",borderColor:o.meetingInput?"red.400":"blue.500"},_focus:{borderColor:"blue.500"},"aria-label":"参加コードまたは招待リンク"})}),l.jsx(ue,{colorPalette:"blue",size:"lg",width:"full",disabled:!i||r,loading:r,onClick:s(b),fontSize:{base:"sm",md:"md"},fontWeight:"bold",_hover:{bg:"blue.600"},"aria-label":"グループに参加する",children:l.jsxs(pe,{gap:2,children:[l.jsx(ne,{size:18,"aria-hidden":"true"}),l.jsx(me,{children:"参加する"})]})})]})})}try{D.displayName="JoinForm",D.__docgenInfo={description:"",displayName:"JoinForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(data: { meetingInput: string; }) => Promise<void>"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}}}}}catch{}export{D as J};
