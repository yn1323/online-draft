import{j as pt,h as Ct}from"./create-recipe-context-DNTG5mYw.js";import{r as j,R as B}from"./index-BXymfbzT.js";import{bn as ot,b0 as Re,be}from"./types-2y-X5aQn.js";function Ot(e,r){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${r}`}function Rt(e={}){const{name:r,strict:t=!0,hookName:i="useContext",providerName:l="Provider",errorMessage:a,defaultValue:u}=e,c=j.createContext(u);c.displayName=r;function F(){var _;const S=j.useContext(c);if(!S&&t){const w=new Error(a??Ot(i,l));throw w.name="ContextError",(_=Error.captureStackTrace)==null||_.call(Error,w,F),w}return S}return[c.Provider,F,c]}function Tt(...e){return r=>{const t=[];for(const i of e)if(typeof i=="function"){const l=i(r);typeof l=="function"&&t.push(l)}else i&&(i.current=r);if(t.length)return()=>{for(const i of t)i()}}}function Lt(e){var i,l;let r=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(l=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:l.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}const pe=e=>{const r=j.memo(j.forwardRef((t,i)=>{const{asChild:l,children:a,...u}=t;if(!l)return j.createElement(e,{...u,ref:i},a);const c=j.Children.only(a);if(!j.isValidElement(c))return null;const F=Lt(c);return j.cloneElement(c,{...ot(u,c.props),ref:i?Tt(i,F):F})}));return r.displayName=e.displayName||e.name,r},Pt=()=>{const e=new Map;return new Proxy(pe,{apply(r,t,i){return pe(i[0])},get(r,t){const i=t;return e.has(i)||e.set(i,pe(i)),e.get(i)}})},Nt=Pt(),[dr,Ut]=Rt({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),lt=j.forwardRef((e,r)=>{const t=Ut(),i=ot(t==null?void 0:t.getInputProps(),e);return pt.jsx(Nt.input,{...i,ref:r})});lt.displayName="FieldInput";const{withContext:Mt}=Ct({key:"input"}),yr=Mt(lt);var de=e=>e.type==="checkbox",se=e=>e instanceof Date,P=e=>e==null;const ut=e=>typeof e=="object";var k=e=>!P(e)&&!Array.isArray(e)&&ut(e)&&!se(e),It=e=>k(e)&&e.target?de(e.target)?e.target.checked:e.target.value:e,Bt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jt=(e,r)=>e.has(Bt(r)),Wt=e=>{const r=e.constructor&&e.constructor.prototype;return k(r)&&r.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Te&&(e instanceof Blob||i))&&(t||k(e)))if(r=t?[]:{},!t&&!Wt(e))r=e;else for(const l in e)e.hasOwnProperty(l)&&(r[l]=T(e[l]));else return e;return r}var Fe=e=>Array.isArray(e)?e.filter(Boolean):[],p=e=>e===void 0,h=(e,r,t)=>{if(!r||!k(e))return t;const i=Fe(r.split(/[,[\].]+?/)).reduce((l,a)=>P(l)?l:l[a],e);return p(i)||i===e?p(e[r])?t:e[r]:i},K=e=>typeof e=="boolean",Le=e=>/^\w*$/.test(e),ft=e=>Fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let i=-1;const l=Le(r)?[r]:ft(r),a=l.length,u=a-1;for(;++i<a;){const c=l[i];let F=t;if(i!==u){const S=e[c];F=k(S)||Array.isArray(S)?S:isNaN(+l[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=F,e=e[c]}};const Ke={BLUR:"blur",FOCUS_OUT:"focusout"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};B.createContext(null);var $t=(e,r,t,i=!0)=>{const l={defaultValues:r._defaultValues};for(const a in e)Object.defineProperty(l,a,{get:()=>{const u=a;return r._proxyFormState[u]!==W.all&&(r._proxyFormState[u]=!i||W.all),e[u]}});return l};const qt=typeof window<"u"?j.useLayoutEffect:j.useEffect;var Y=e=>typeof e=="string",Ht=(e,r,t,i,l)=>Y(e)?(i&&r.watch.add(e),h(t,e,l)):Array.isArray(e)?e.map(a=>(i&&r.watch.add(a),h(t,a))):(i&&(r.watchAll=!0),t),ct=(e,r,t,i,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},fe=e=>Array.isArray(e)?e:[e],Ye=()=>{let e=[];return{get observers(){return e},next:l=>{for(const a of e)a.next&&a.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(a=>a!==l)}}),unsubscribe:()=>{e=[]}}},Oe=e=>P(e)||!ut(e);function te(e,r){if(Oe(e)||Oe(r))return e===r;if(se(e)&&se(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const l of t){const a=e[l];if(!i.includes(l))return!1;if(l!=="ref"){const u=r[l];if(se(a)&&se(u)||k(a)&&k(u)||Array.isArray(a)&&Array.isArray(u)?!te(a,u):a!==u)return!1}}return!0}var U=e=>k(e)&&!Object.keys(e).length,Pe=e=>e.type==="file",$=e=>typeof e=="function",me=e=>{if(!Te)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},dt=e=>e.type==="select-multiple",Ne=e=>e.type==="radio",zt=e=>Ne(e)||de(e),Ce=e=>me(e)&&e.isConnected;function Kt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=p(e)?i++:e[r[i++]];return e}function Yt(e){for(const r in e)if(e.hasOwnProperty(r)&&!p(e[r]))return!1;return!0}function R(e,r){const t=Array.isArray(r)?r:Le(r)?[r]:ft(r),i=t.length===1?e:Kt(e,t),l=t.length-1,a=t[l];return i&&delete i[a],l!==0&&(k(i)&&U(i)||Array.isArray(i)&&Yt(i))&&R(e,t.slice(0,-1)),e}var yt=e=>{for(const r in e)if($(e[r]))return!0;return!1};function _e(e,r={}){const t=Array.isArray(e);if(k(e)||t)for(const i in e)Array.isArray(e[i])||k(e[i])&&!yt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},_e(e[i],r[i])):P(e[i])||(r[i]=!0);return r}function ht(e,r,t){const i=Array.isArray(e);if(k(e)||i)for(const l in e)Array.isArray(e[l])||k(e[l])&&!yt(e[l])?p(r)||Oe(t[l])?t[l]=Array.isArray(e[l])?_e(e[l],[]):{..._e(e[l])}:ht(e[l],P(r)?{}:r[l],t[l]):t[l]=!te(e[l],r[l]);return t}var le=(e,r)=>ht(e,r,_e(r));const Ze={value:!1,isValid:!1},Je={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||e[0].value===""?Je:{value:e[0].value,isValid:!0}:Je:Ze}return Ze},vt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>p(e)?e:r?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):i?i(e):e;const Qe={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Qe):Qe;function Xe(e){const r=e.ref;return Pe(r)?r.files:Ne(r)?bt(e.refs).value:dt(r)?[...r.selectedOptions].map(({value:t})=>t):de(r)?gt(e.refs).value:vt(p(r.value)?e.ref.value:r.value,e)}var Zt=(e,r,t,i)=>{const l={};for(const a of e){const u=h(r,a);u&&A(l,a,u._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},Ve=e=>e instanceof RegExp,ue=e=>p(e)?e:Ve(e)?e.source:k(e)?Ve(e.value)?e.value.source:e.value:e,Ge=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched});const et="AsyncFunction";var Jt=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===et||k(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===et)),Qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),tt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,r,t,i)=>{for(const l of t||Object.keys(e)){const a=h(e,l);if(a){const{_f:u,...c}=a;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],l)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(ce(c,r))break}else if(k(c)&&ce(c,r))break}}};function rt(e,r,t){const i=h(e,t);if(i||Le(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const a=l.join("."),u=h(r,a),c=h(e,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};l.pop()}return{name:t}}var Xt=(e,r,t,i)=>{t(e);const{name:l,...a}=e;return U(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(u=>r[u]===(!i||W.all))},Gt=(e,r,t)=>!e||!r||e===r||fe(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),er=(e,r,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,tr=(e,r)=>!Fe(h(e,r)).length&&R(e,r),rr=(e,r,t)=>{const i=fe(h(e,t));return A(i,"root",r[t]),A(e,t,i),e},ve=e=>Y(e);function st(e,r,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||K(e)&&!e)return{type:t,message:ve(e)?e:"",ref:r}}var ne=e=>k(e)&&!Ve(e)?e:{value:e,message:""},it=async(e,r,t,i,l,a)=>{const{ref:u,refs:c,required:F,maxLength:S,minLength:_,min:w,max:v,pattern:ae,validate:Q,name:C,valueAsNumber:X,mount:xe}=e._f,m=h(t,C);if(!xe||r.has(C))return{};const Z=c?c[0]:u,q=b=>{l&&Z.reportValidity&&(Z.setCustomValidity(K(b)?"":b||""),Z.reportValidity())},O={},ye=Ne(u),G=de(u),Ae=ye||G,I=(X||Pe(u))&&p(u.value)&&p(m)||me(u)&&u.value===""||m===""||Array.isArray(m)&&!m.length,re=ct.bind(null,C,i,O),H=(b,x,D,L=J.maxLength,N=J.minLength)=>{const z=b?x:D;O[C]={type:b?L:N,message:z,ref:u,...re(b?L:N,z)}};if(a?!Array.isArray(m)||!m.length:F&&(!Ae&&(I||P(m))||K(m)&&!m||G&&!gt(c).isValid||ye&&!bt(c).isValid)){const{value:b,message:x}=ve(F)?{value:!!F,message:F}:ne(F);if(b&&(O[C]={type:J.required,message:x,ref:Z,...re(J.required,x)},!i))return q(x),O}if(!I&&(!P(w)||!P(v))){let b,x;const D=ne(v),L=ne(w);if(!P(m)&&!isNaN(m)){const N=u.valueAsNumber||m&&+m;P(D.value)||(b=N>D.value),P(L.value)||(x=N<L.value)}else{const N=u.valueAsDate||new Date(m),z=he=>new Date(new Date().toDateString()+" "+he),oe=u.type=="time",ie=u.type=="week";Y(D.value)&&m&&(b=oe?z(m)>z(D.value):ie?m>D.value:N>new Date(D.value)),Y(L.value)&&m&&(x=oe?z(m)<z(L.value):ie?m<L.value:N<new Date(L.value))}if((b||x)&&(H(!!b,D.message,L.message,J.max,J.min),!i))return q(O[C].message),O}if((S||_)&&!I&&(Y(m)||a&&Array.isArray(m))){const b=ne(S),x=ne(_),D=!P(b.value)&&m.length>+b.value,L=!P(x.value)&&m.length<+x.value;if((D||L)&&(H(D,b.message,x.message),!i))return q(O[C].message),O}if(ae&&!I&&Y(m)){const{value:b,message:x}=ne(ae);if(Ve(b)&&!m.match(b)&&(O[C]={type:J.pattern,message:x,ref:u,...re(J.pattern,x)},!i))return q(x),O}if(Q){if($(Q)){const b=await Q(m,t),x=st(b,Z);if(x&&(O[C]={...x,...re(J.validate,x.message)},!i))return q(x.message),O}else if(k(Q)){let b={};for(const x in Q){if(!U(b)&&!i)break;const D=st(await Q[x](m,t),Z,x);D&&(b={...D,...re(x,D.message)},q(D.message),i&&(O[C]=b))}if(!U(b)&&(O[C]={ref:Z,...b},!i))return O}}return q(!0),O};const sr={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function ir(e={}){let r={...sr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:$(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let l=k(r.defaultValues)||k(r.values)?T(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:T(l),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F,S=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={..._};const v={array:Ye(),state:Ye()},ae=r.criteriaMode===W.all,Q=s=>n=>{clearTimeout(S),S=setTimeout(s,n)},C=async s=>{if(!r.disabled&&(_.isValid||w.isValid||s)){const n=r.resolver?U((await G()).errors):await I(i,!0);n!==t.isValid&&v.state.next({isValid:n})}},X=(s,n)=>{!r.disabled&&(_.isValidating||_.validatingFields||w.isValidating||w.validatingFields)&&((s||Array.from(c.mount)).forEach(o=>{o&&(n?A(t.validatingFields,o,n):R(t.validatingFields,o))}),v.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},xe=(s,n=[],o,y,d=!0,f=!0)=>{if(y&&o&&!r.disabled){if(u.action=!0,f&&Array.isArray(h(i,s))){const g=o(h(i,s),y.argA,y.argB);d&&A(i,s,g)}if(f&&Array.isArray(h(t.errors,s))){const g=o(h(t.errors,s),y.argA,y.argB);d&&A(t.errors,s,g),tr(t.errors,s)}if((_.touchedFields||w.touchedFields)&&f&&Array.isArray(h(t.touchedFields,s))){const g=o(h(t.touchedFields,s),y.argA,y.argB);d&&A(t.touchedFields,s,g)}(_.dirtyFields||w.dirtyFields)&&(t.dirtyFields=le(l,a)),v.state.next({name:s,isDirty:H(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(a,s,n)},m=(s,n)=>{A(t.errors,s,n),v.state.next({errors:t.errors})},Z=s=>{t.errors=s,v.state.next({errors:t.errors,isValid:!1})},q=(s,n,o,y)=>{const d=h(i,s);if(d){const f=h(a,s,p(o)?h(l,s):o);p(f)||y&&y.defaultChecked||n?A(a,s,n?f:Xe(d._f)):D(s,f),u.mount&&C()}},O=(s,n,o,y,d)=>{let f=!1,g=!1;const V={name:s};if(!r.disabled){if(!o||y){(_.isDirty||w.isDirty)&&(g=t.isDirty,t.isDirty=V.isDirty=H(),f=g!==V.isDirty);const E=te(h(l,s),n);g=!!h(t.dirtyFields,s),E?R(t.dirtyFields,s):A(t.dirtyFields,s,!0),V.dirtyFields=t.dirtyFields,f=f||(_.dirtyFields||w.dirtyFields)&&g!==!E}if(o){const E=h(t.touchedFields,s);E||(A(t.touchedFields,s,o),V.touchedFields=t.touchedFields,f=f||(_.touchedFields||w.touchedFields)&&E!==o)}f&&d&&v.state.next(V)}return f?V:{}},ye=(s,n,o,y)=>{const d=h(t.errors,s),f=(_.isValid||w.isValid)&&K(n)&&t.isValid!==n;if(r.delayError&&o?(F=Q(()=>m(s,o)),F(r.delayError)):(clearTimeout(S),F=null,o?A(t.errors,s,o):R(t.errors,s)),(o?!te(d,o):d)||!U(y)||f){const g={...y,...f&&K(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,...g},v.state.next(g)}},G=async s=>{X(s,!0);const n=await r.resolver(a,r.context,Zt(s||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return X(s),n},Ae=async s=>{const{errors:n}=await G(s);if(s)for(const o of s){const y=h(n,o);y?A(t.errors,o,y):R(t.errors,o)}else t.errors=n;return n},I=async(s,n,o={valid:!0})=>{for(const y in s){const d=s[y];if(d){const{_f:f,...g}=d;if(f){const V=c.array.has(f.name),E=d._f&&Jt(d._f);E&&_.validatingFields&&X([y],!0);const M=await it(d,c.disabled,a,ae,r.shouldUseNativeValidation&&!n,V);if(E&&_.validatingFields&&X([y]),M[f.name]&&(o.valid=!1,n))break;!n&&(h(M,f.name)?V?rr(t.errors,M,f.name):A(t.errors,f.name,M[f.name]):R(t.errors,f.name))}!U(g)&&await I(g,n,o)}}return o.valid},re=()=>{for(const s of c.unMount){const n=h(i,s);n&&(n._f.refs?n._f.refs.every(o=>!Ce(o)):!Ce(n._f.ref))&&we(s)}c.unMount=new Set},H=(s,n)=>!r.disabled&&(s&&n&&A(a,s,n),!te(he(),l)),b=(s,n,o)=>Ht(s,c,{...u.mount?a:p(n)?l:Y(s)?{[s]:n}:n},o,n),x=s=>Fe(h(u.mount?a:l,s,r.shouldUnregister?h(l,s,[]):[])),D=(s,n,o={})=>{const y=h(i,s);let d=n;if(y){const f=y._f;f&&(!f.disabled&&A(a,s,vt(n,f)),d=me(f.ref)&&P(n)?"":n,dt(f.ref)?[...f.ref.options].forEach(g=>g.selected=d.includes(g.value)):f.refs?de(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(V=>V===g.value):g.checked=d===g.value||!!d)}):f.refs.forEach(g=>g.checked=g.value===d):Pe(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||v.state.next({name:s,values:T(a)})))}(o.shouldDirty||o.shouldTouch)&&O(s,d,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&ie(s)},L=(s,n,o)=>{for(const y in n){if(!n.hasOwnProperty(y))return;const d=n[y],f=s+"."+y,g=h(i,f);(c.array.has(s)||k(d)||g&&!g._f)&&!se(d)?L(f,d,o):D(f,d,o)}},N=(s,n,o={})=>{const y=h(i,s),d=c.array.has(s),f=T(n);A(a,s,f),d?(v.array.next({name:s,values:T(a)}),(_.isDirty||_.dirtyFields||w.isDirty||w.dirtyFields)&&o.shouldDirty&&v.state.next({name:s,dirtyFields:le(l,a),isDirty:H(s,f)})):y&&!y._f&&!P(f)?L(s,f,o):D(s,f,o),tt(s,c)&&v.state.next({...t}),v.state.next({name:u.mount?s:void 0,values:T(a)})},z=async s=>{u.mount=!0;const n=s.target;let o=n.name,y=!0;const d=h(i,o),f=E=>{y=Number.isNaN(E)||se(E)&&isNaN(E.getTime())||te(E,h(a,o,E))},g=Ge(r.mode),V=Ge(r.reValidateMode);if(d){let E,M;const ge=n.type?Xe(d._f):It(s),ee=s.type===Ke.BLUR||s.type===Ke.FOCUS_OUT,Dt=!Qt(d._f)&&!r.resolver&&!h(t.errors,o)&&!d._f.deps||er(ee,h(t.touchedFields,o),t.isSubmitted,V,g),ke=tt(o,c,ee);A(a,o,ge),ee?(d._f.onBlur&&d._f.onBlur(s),F&&F(0)):d._f.onChange&&d._f.onChange(s);const Se=O(o,ge,ee),kt=!U(Se)||ke;if(!ee&&v.state.next({name:o,type:s.type,values:T(a)}),Dt)return(_.isValid||w.isValid)&&(r.mode==="onBlur"?ee&&C():ee||C()),kt&&v.state.next({name:o,...ke?{}:Se});if(!ee&&ke&&v.state.next({...t}),r.resolver){const{errors:He}=await G([o]);if(f(ge),y){const St=rt(t.errors,i,o),ze=rt(He,i,St.name||o);E=ze.error,o=ze.name,M=U(He)}}else X([o],!0),E=(await it(d,c.disabled,a,ae,r.shouldUseNativeValidation))[o],X([o]),f(ge),y&&(E?M=!1:(_.isValid||w.isValid)&&(M=await I(i,!0)));y&&(d._f.deps&&ie(d._f.deps),ye(o,M,E,Se))}},oe=(s,n)=>{if(h(t.errors,n)&&s.focus)return s.focus(),1},ie=async(s,n={})=>{let o,y;const d=fe(s);if(r.resolver){const f=await Ae(p(s)?s:d);o=U(f),y=s?!d.some(g=>h(f,g)):o}else s?(y=(await Promise.all(d.map(async f=>{const g=h(i,f);return await I(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&C()):y=o=await I(i);return v.state.next({...!Y(s)||(_.isValid||w.isValid)&&o!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:o}:{},errors:t.errors}),n.shouldFocus&&!y&&ce(i,oe,s?d:c.mount),y},he=s=>{const n={...u.mount?a:l};return p(s)?n:Y(s)?h(n,s):s.map(o=>h(n,o))},Ue=(s,n)=>({invalid:!!h((n||t).errors,s),isDirty:!!h((n||t).dirtyFields,s),error:h((n||t).errors,s),isValidating:!!h(t.validatingFields,s),isTouched:!!h((n||t).touchedFields,s)}),_t=s=>{s&&fe(s).forEach(n=>R(t.errors,n)),v.state.next({errors:s?t.errors:{}})},Me=(s,n,o)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,d=h(t.errors,s)||{},{ref:f,message:g,type:V,...E}=d;A(t.errors,s,{...E,...n,ref:y}),v.state.next({name:s,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&y&&y.focus&&y.focus()},Vt=(s,n)=>$(s)?v.state.subscribe({next:o=>s(b(void 0,n),o)}):b(s,n,!0),Ie=s=>v.state.subscribe({next:n=>{Gt(s.name,n.name,s.exact)&&Xt(n,s.formState||_,Et,s.reRenderRoot)&&s.callback({values:{...a},...t,...n})}}).unsubscribe,Ft=s=>(u.mount=!0,w={...w,...s.formState},Ie({...s,formState:w})),we=(s,n={})=>{for(const o of s?fe(s):c.mount)c.mount.delete(o),c.array.delete(o),n.keepValue||(R(i,o),R(a,o)),!n.keepError&&R(t.errors,o),!n.keepDirty&&R(t.dirtyFields,o),!n.keepTouched&&R(t.touchedFields,o),!n.keepIsValidating&&R(t.validatingFields,o),!r.shouldUnregister&&!n.keepDefaultValue&&R(l,o);v.state.next({values:T(a)}),v.state.next({...t,...n.keepDirty?{isDirty:H()}:{}}),!n.keepIsValid&&C()},Be=({disabled:s,name:n})=>{(K(s)&&u.mount||s||c.disabled.has(n))&&(s?c.disabled.add(n):c.disabled.delete(n))},Ee=(s,n={})=>{let o=h(i,s);const y=K(n.disabled)||K(r.disabled);return A(i,s,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:s}},name:s,mount:!0,...n}}),c.mount.add(s),o?Be({disabled:K(n.disabled)?n.disabled:r.disabled,name:s}):q(s,!0,n.value),{...y?{disabled:n.disabled||r.disabled}:{},...r.progressive?{required:!!n.required,min:ue(n.min),max:ue(n.max),minLength:ue(n.minLength),maxLength:ue(n.maxLength),pattern:ue(n.pattern)}:{},name:s,onChange:z,onBlur:z,ref:d=>{if(d){Ee(s,n),o=h(i,s);const f=p(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=zt(f),V=o._f.refs||[];if(g?V.find(E=>E===f):f===o._f.ref)return;A(i,s,{_f:{...o._f,...g?{refs:[...V.filter(Ce),f,...Array.isArray(h(l,s))?[{}]:[]],ref:{type:f.type,name:s}}:{ref:f}}}),q(s,!1,void 0,f)}else o=h(i,s,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(jt(c.array,s)&&u.action)&&c.unMount.add(s)}}},De=()=>r.shouldFocusError&&ce(i,oe,c.mount),xt=s=>{K(s)&&(v.state.next({disabled:s}),ce(i,(n,o)=>{const y=h(i,o);y&&(n.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||s}))},0,!1))},je=(s,n)=>async o=>{let y;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let d=T(a);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:g}=await G();t.errors=f,d=g}else await I(i);if(c.disabled.size)for(const f of c.disabled)A(d,f,void 0);if(R(t.errors,"root"),U(t.errors)){v.state.next({errors:{}});try{await s(d,o)}catch(f){y=f}}else n&&await n({...t.errors},o),De(),setTimeout(De);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},At=(s,n={})=>{h(i,s)&&(p(n.defaultValue)?N(s,T(h(l,s))):(N(s,n.defaultValue),A(l,s,T(n.defaultValue))),n.keepTouched||R(t.touchedFields,s),n.keepDirty||(R(t.dirtyFields,s),t.isDirty=n.defaultValue?H(s,T(h(l,s))):H()),n.keepError||(R(t.errors,s),_.isValid&&C()),v.state.next({...t}))},We=(s,n={})=>{const o=s?T(s):l,y=T(o),d=U(s),f=d?l:y;if(n.keepDefaultValues||(l=o),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(le(l,a))]);for(const V of Array.from(g))h(t.dirtyFields,V)?A(f,V,h(a,V)):N(V,h(f,V))}else{if(Te&&p(s))for(const g of c.mount){const V=h(i,g);if(V&&V._f){const E=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(me(E)){const M=E.closest("form");if(M){M.reset();break}}}}for(const g of c.mount)N(g,h(f,g))}a=T(f),v.array.next({values:{...f}}),v.state.next({values:{...f}})}c={mount:n.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!_.isValid||!!n.keepIsValid||!!n.keepDirtyValues,u.watch=!!r.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:d?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!te(s,l)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:n.keepDirtyValues?n.keepDefaultValues&&a?le(l,a):t.dirtyFields:n.keepDefaultValues&&s?le(l,s):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(s,n)=>We($(s)?s(a):s,n),wt=(s,n={})=>{const o=h(i,s),y=o&&o._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),n.shouldSelect&&$(d.select)&&d.select())}},Et=s=>{t={...t,...s}},qe={control:{register:Ee,unregister:we,getFieldState:Ue,handleSubmit:je,setError:Me,_subscribe:Ie,_runSchema:G,_focusError:De,_getWatch:b,_getDirty:H,_setValid:C,_setFieldArray:xe,_setDisabledField:Be,_setErrors:Z,_getFieldArray:x,_reset:We,_resetDefaultValues:()=>$(r.defaultValues)&&r.defaultValues().then(s=>{$e(s,r.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:xt,_subjects:v,_proxyFormState:_,get _fields(){return i},get _formValues(){return a},get _state(){return u},set _state(s){u=s},get _defaultValues(){return l},get _names(){return c},set _names(s){c=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Ft,trigger:ie,register:Ee,handleSubmit:je,watch:Vt,setValue:N,getValues:he,reset:$e,resetField:At,clearErrors:_t,unregister:we,setError:Me,setFocus:wt,getFieldState:Ue};return{...qe,formControl:qe}}function hr(e={}){const r=B.useRef(void 0),t=B.useRef(void 0),[i,l]=B.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:ir(e),formState:i},e.formControl&&e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=r.current.control;return a._options=e,qt(()=>{const u=a._subscribe({formState:a._proxyFormState,callback:()=>l({...a._formState}),reRenderRoot:!0});return l(c=>({...c,isReady:!0})),a._formState.isReady=!0,u},[a]),B.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),B.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),B.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),B.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==i.isDirty&&a._subjects.state.next({isDirty:u})}},[a,i.isDirty]),B.useEffect(()=>{e.values&&!te(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,l(u=>({...u}))):a._resetDefaultValues()},[a,e.values]),B.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),r.current.formState=$t(i,a),r.current}const nt=(e,r,t)=>{if(e&&"reportValidity"in e){const i=h(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},mt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?nt(i.ref,t,e):i&&i.refs&&i.refs.forEach(l=>nt(l,t,e))}},nr=(e,r)=>{r.shouldUseNativeValidation&&mt(e,r);const t={};for(const i in e){const l=h(r.fields,i),a=Object.assign(e[i]||{},{ref:l&&l.ref});if(ar(r.names||Object.keys(e),i)){const u=Object.assign({},h(t,i));A(u,"root",a),A(t,i,u)}else A(t,i,a)}return t},ar=(e,r)=>{const t=at(r);return e.some(i=>at(i).match(`^${t}\\.\\d+`))};function at(e){return e.replace(/\]|\[/g,"")}function or(e,r){for(var t={};e.length;){var i=e[0],l=i.code,a=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var c=i.unionErrors[0].errors[0];t[u]={message:c.message,type:c.code}}else t[u]={message:a,type:l};if("unionErrors"in i&&i.unionErrors.forEach(function(_){return _.errors.forEach(function(w){return e.push(w)})}),r){var F=t[u].types,S=F&&F[i.code];t[u]=ct(u,r,t,l,S?[].concat(S,i.message):i.message)}e.shift()}return t}function gr(e,r,t){return t===void 0&&(t={}),function(i,l,a){try{return Promise.resolve(function(u,c){try{var F=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(S){return a.shouldUseNativeValidation&&mt({},a),{errors:{},values:t.raw?Object.assign({},i):S}})}catch(S){return c(S)}return F&&F.then?F.then(void 0,c):F}(0,function(u){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(u))return{values:{},errors:nr(or(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}}const vr=Re({userName:be().min(1,"ユーザー名を入力してください").max(12,"ユーザー名は12文字以内で入力してください").regex(/^[^\s].*[^\s]$|^[^\s]$/,"先頭と末尾にスペースは使用できません"),avatarIndex:be().min(1,"アバターを選択してください").regex(/^[1-9]|1[0-8]$/,"有効なアバターを選択してください")});Re({groupName:be().min(1,"グループ名を入力してください").max(30,"グループ名は30文字以内で入力してください")});const br=Re({meetingInput:be().min(1,"会議IDまたはURLを入力してください").refine(e=>{const r=/^[a-zA-Z0-9]{6,20}$/,t=/^https:\/\/.+/;return r.test(e)||t.test(e)},"有効な会議IDまたはURLを入力してください")});export{dr as F,yr as I,Nt as a,Tt as b,Rt as c,hr as d,vr as e,br as j,gr as s,Ut as u};
