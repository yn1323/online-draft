import{g as le,j as a,f as de}from"./create-recipe-context-LbQq3bM7.js";import{r as l}from"./index-BXymfbzT.js";import{I as Te,e as Re}from"./index-DrVvecys.js";import{c as je,U as Ee,P as Ae,r as ee,a as Se,m as Me,I as _,V as $e,k as Ie}from"./index-Dcv8hpMz.js";import{c as pe,b as ue,a as ge,u as Oe,n as Be,r as Ve}from"./index-DGNrzCve.js";import{c as me}from"./create-slot-recipe-context-BXXlVjN6.js";import{c as F,a as N,b as fe}from"./factory--2BDjF06.js";import{c as Ue}from"./index-CrjboX4Z.js";import{c as ze,m as Le}from"./index-DkeST5JT.js";import{V as te}from"./v-stack-DfIdlA7P.js";import{B as w}from"./button-Cus-mLIX.js";const _e=e=>pe()(e,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function qe(e,t){const{state:r,send:n,context:o}=e,i=r.matches("mounted","unmountSuspended");return{skip:!o.get("initial"),present:i,setNode(s){s&&n({type:"NODE.SET",node:s})},unmount(){n({type:"UNMOUNT"})}}}var Fe=je({props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,action:t,prop:r}){e([()=>r("present")],()=>{t(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},setNode:({refs:e,event:t})=>{e.set("node",t.node)},setStyles:({refs:e,event:t})=>{e.set("styles",Se(t.node))},syncPresence:({context:e,refs:t,send:r,prop:n})=>{const o=n("present");if(o)return r({type:"MOUNT",src:"presence.changed"});const i=t.get("node");if(!o&&(i==null?void 0:i.ownerDocument.visibilityState)==="hidden")return r({type:"UNMOUNT",src:"visibilitychange"});ee(()=>{var d,u;const s=P(t.get("styles"));e.set("unmountAnimationName",s),s==="none"||s===e.get("prevAnimationName")||((d=t.get("styles"))==null?void 0:d.display)==="none"||((u=t.get("styles"))==null?void 0:u.animationDuration)==="0s"?r({type:"UNMOUNT",src:"presence.changed"}):r({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{ee(()=>{e.set("prevAnimationName",P(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:t,send:r})=>{const n=t.get("node");if(!n)return;const o=d=>{var c,p;(((p=(c=d.composedPath)==null?void 0:c.call(d))==null?void 0:p[0])??d.target)===n&&e.set("prevAnimationName",P(t.get("styles")))},i=d=>{const u=P(t.get("styles"));Me(d)===n&&u===e.get("unmountAnimationName")&&r({type:"UNMOUNT",src:"animationend"})};n.addEventListener("animationstart",o),n.addEventListener("animationcancel",i),n.addEventListener("animationend",i);const s=Ee(n,{animationFillMode:"forwards"});return()=>{n.removeEventListener("animationstart",o),n.removeEventListener("animationcancel",i),n.removeEventListener("animationend",i),Ae(()=>s())}}}}});function P(e){return(e==null?void 0:e.animationName)||"none"}Ue()(["onExitComplete","present","immediate"]);function He(e,t={}){const{sync:r=!1}=t,n=Qe(e);return l.useCallback((...o)=>{var i;return r?queueMicrotask(()=>{var s;return(s=n.current)==null?void 0:s.call(n,...o)}):(i=n.current)==null?void 0:i.call(n,...o)},[r,n])}function Qe(e){const t=l.useRef(e);return t.current=e,t}const H=(e={})=>{const{lazyMount:t,unmountOnExit:r,present:n,skipAnimationOnMount:o=!1,...i}=e,s=l.useRef(!1),d={...i,present:n,onExitComplete:He(e.onExitComplete)},u=ue(Fe,d),c=qe(u);c.present&&(s.current=!0);const p=!c.present&&!s.current&&t||r&&!c.present&&s.current,h=()=>({"data-state":c.skip&&o?void 0:n?"open":"closed",hidden:!c.present});return{ref:c.setNode,getPresenceProps:h,present:c.present,unmounted:p}},[ye,Q]=F({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function We(e,t=[]){const r=l.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return l.useInsertionEffect(()=>{r.current=e}),l.useCallback((...n)=>{var o;return(o=r.current)==null?void 0:o.call(r,...n)},t)}function Xe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Ye(e,t={}){const{fallback:r=[],ssr:n=!0,getWindow:o}=t,i=We(o),s=Array.isArray(e)?e:[e],d=r==null?void 0:r.filter(p=>p!=null),[u,c]=l.useState(()=>s.map((p,h)=>{if(!n){const{media:v,matches:k}=((o==null?void 0:o())??window).matchMedia(p);return{media:v,matches:k}}return{media:p,matches:!!d[h]}}));return l.useEffect(()=>{const p=i()??window;c(g=>{const x=s.map(D=>{const{media:C,matches:ke}=p.matchMedia(D);return{media:C,matches:ke}});return g.every((D,C)=>D.matches===x[C].matches&&D.media===x[C].media)?g:x});const h=s.map(g=>p.matchMedia(g)),v=g=>{c(x=>x.slice().map(D=>D.media===g.media?{...D,matches:g.matches}:D))},k=h.map(g=>Xe(g,v));return()=>k.forEach(g=>g())},[i]),u.map(p=>p.matches)}function Ge(e={}){var u;e.fallback||(e.fallback="base");const t=le();let r=!1;const o=t.breakpoints.values.map(({min:c,name:p})=>{const h={breakpoint:p,query:`(min-width: ${c})`,fallback:!r};return p===e.fallback&&(r=!0),h}).filter(({breakpoint:c})=>{var p;return!!((p=e.breakpoints)!=null&&p.includes(c))}),i=o.map(({fallback:c})=>c),d=Ye(o.map(c=>c.query),{fallback:i,ssr:e.ssr}).lastIndexOf(!0);return((u=o[d])==null?void 0:u.breakpoint)??e.fallback}function Je(e,t){const n=le().normalizeValue(e),o=Ge({breakpoints:Object.keys(n),...t});return n[o]}const[De,Ke]=F({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),he=e=>pe()(e,["lazyMount","unmountOnExit"]),[Ne,y]=F({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),W=l.forwardRef((e,t)=>{const r=y(),n=Ke(),o=H({...n,present:r.open}),i=_(r.getBackdropProps(),o.getPresenceProps(),e);return o.unmounted?null:a.jsx(N.div,{...i,ref:fe(o.ref,t)})});W.displayName="DialogBackdrop";const X=l.forwardRef((e,t)=>{const r=y(),n=_(r.getCloseTriggerProps(),e);return a.jsx(N.button,{...n,ref:t})});X.displayName="DialogCloseTrigger";const Y=l.forwardRef((e,t)=>{const r=y(),n=Q(),o=_(r.getContentProps(),n.getPresenceProps(),e);return n.unmounted?null:a.jsx(N.div,{...o,ref:fe(n.ref,t)})});Y.displayName="DialogContent";const G=l.forwardRef((e,t)=>{const r=y(),n=_(r.getDescriptionProps(),e);return a.jsx(N.div,{...n,ref:t})});G.displayName="DialogDescription";const J=l.forwardRef((e,t)=>{const r=y(),n=_(r.getPositionerProps(),e);return Q().unmounted?null:a.jsx(N.div,{...n,ref:t})});J.displayName="DialogPositioner";const Ze=e=>{const t=l.useId(),{getRootNode:r}=ge(),{dir:n}=Oe(),o={id:t,getRootNode:r,dir:n,...e},i=ue(Le,o);return ze(i,Be)},xe=e=>{const[t,{children:r,...n}]=_e(e),[o]=he(t),i=Ze(n),s=H(_({present:i.open},t));return a.jsx(Ne,{value:i,children:a.jsx(De,{value:o,children:a.jsx(ye,{value:s,children:r})})})},Ce=e=>{const[t,{value:r,children:n}]=_e(e),[o]=he(t),i=H(_({present:r.open},t));return a.jsx(Ne,{value:r,children:a.jsx(De,{value:o,children:a.jsx(ye,{value:i,children:n})})})},K=l.forwardRef((e,t)=>{const r=y(),n=_(r.getTitleProps(),e);return a.jsx(N.h2,{...n,ref:t})});K.displayName="DialogTitle";const Z=l.forwardRef((e,t)=>{const r=y(),n=Q(),o=_({...r.getTriggerProps(),"aria-controls":n.unmounted?void 0:r.getTriggerProps()["aria-controls"]},e);return a.jsx(N.button,{...o,ref:t})});Z.displayName="DialogTrigger";const we=e=>{var u;const{children:t,disabled:r}=e,[n,o]=l.useState((u=e.container)==null?void 0:u.current),i=l.useSyncExternalStore(tt,()=>!1,()=>!0),{getRootNode:s}=ge();if(l.useEffect(()=>{o(()=>{var c;return(c=e.container)==null?void 0:c.current})},[e.container]),i||r)return a.jsx(a.Fragment,{children:t});const d=n??et(s);return a.jsx(a.Fragment,{children:l.Children.map(t,c=>Ve.createPortal(c,d))})},et=e=>{const t=e==null?void 0:e(),r=t.getRootNode();return $e(r)?r:Ie(t).body},tt=()=>()=>{},{withRootProvider:Pe,withContext:m}=me({key:"dialog"});Pe(Ce,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const rt=Pe(xe,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),ot=m(Z,"trigger",{forwardAsChild:!0}),nt=m(J,"positioner",{forwardAsChild:!0}),at=m(Y,"content",{forwardAsChild:!0}),it=m(G,"description",{forwardAsChild:!0}),st=m(K,"title",{forwardAsChild:!0}),ct=m(X,"closeTrigger",{forwardAsChild:!0}),lt=l.forwardRef(function(t,r){const n=y();return a.jsx(de.button,{...t,ref:r,onClick:()=>n.setOpen(!1)})}),be=m(W,"backdrop",{forwardAsChild:!0}),dt=m("div","body"),pt=m("div","footer"),ut=m("div","header"),{withRootProvider:ve,withContext:f}=me({key:"drawer"});ve(Ce,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const gt=ve(xe,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),mt=f(Z,"trigger",{forwardAsChild:!0}),ft=f(J,"positioner",{forwardAsChild:!0}),_t=f(Y,"content",{forwardAsChild:!0}),yt=f(G,"description",{forwardAsChild:!0}),Dt=f(K,"title",{forwardAsChild:!0}),ht=f(X,"closeTrigger",{forwardAsChild:!0}),Nt=l.forwardRef(function(t,r){const n=y();return a.jsx(de.button,{...t,ref:r,onClick:()=>n.setOpen(!1)})}),xt=f(W,"backdrop",{forwardAsChild:!0}),Ct=f("div","body"),wt=f("div","footer"),Pt=f("div","header"),b=l.forwardRef(function(t,r){return a.jsx(Te,{variant:"ghost","aria-label":"Close",ref:r,...t,children:t.children??a.jsx(Re,{})})});try{b.displayName="CloseButton",b.__docgenInfo={description:"",displayName:"CloseButton",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"RecipeDefinition<RecipeVariantRecord>"}}}}}catch{}const T=l.forwardRef(function(t,r){const{children:n,portalled:o=!0,portalRef:i,backdrop:s=!0,...d}=t;return a.jsxs(we,{disabled:!o,container:i,children:[s&&a.jsx(be,{}),a.jsx(nt,{children:a.jsx(at,{ref:r,...d,asChild:!1,children:n})})]})}),R=l.forwardRef(function(t,r){return a.jsx(ct,{position:"absolute",top:"2",insetEnd:"2",...t,asChild:!0,children:a.jsx(b,{size:"sm",ref:r,children:t.children})})}),j=rt,E=pt,A=ut,S=dt,re=be,M=st,oe=it,ne=ot,$=lt;try{T.displayName="DialogContent",T.__docgenInfo={description:"",displayName:"DialogContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement>"}},backdrop:{defaultValue:null,description:"",name:"backdrop",required:!1,type:{name:"boolean"}}}}}catch{}try{R.displayName="DialogCloseTrigger",R.__docgenInfo={description:"",displayName:"DialogCloseTrigger",props:{}}}catch{}try{j.displayName="DialogRoot",j.__docgenInfo={description:"",displayName:"DialogRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{E.displayName="DialogFooter",E.__docgenInfo={description:"",displayName:"DialogFooter",props:{}}}catch{}try{A.displayName="DialogHeader",A.__docgenInfo={description:"",displayName:"DialogHeader",props:{}}}catch{}try{S.displayName="DialogBody",S.__docgenInfo={description:"",displayName:"DialogBody",props:{}}}catch{}try{re.displayName="DialogBackdrop",re.__docgenInfo={description:"",displayName:"DialogBackdrop",props:{}}}catch{}try{M.displayName="DialogTitle",M.__docgenInfo={description:"",displayName:"DialogTitle",props:{}}}catch{}try{oe.displayName="DialogDescription",oe.__docgenInfo={description:"",displayName:"DialogDescription",props:{}}}catch{}try{ne.displayName="DialogTrigger",ne.__docgenInfo={description:"",displayName:"DialogTrigger",props:{}}}catch{}try{$.displayName="DialogActionTrigger",$.__docgenInfo={description:"",displayName:"DialogActionTrigger",props:{}}}catch{}const I=l.forwardRef(function(t,r){const{children:n,portalled:o=!0,portalRef:i,offset:s,...d}=t;return a.jsx(we,{disabled:!o,container:i,children:a.jsx(ft,{padding:s,children:a.jsx(_t,{ref:r,...d,asChild:!1,children:n})})})}),O=l.forwardRef(function(t,r){return a.jsx(ht,{position:"absolute",top:"2",insetEnd:"2",...t,asChild:!0,children:a.jsx(b,{size:"sm",ref:r})})}),ae=mt,B=gt,V=wt,U=Pt,z=Ct,ie=xt,se=yt,L=Dt,q=Nt;try{I.displayName="DrawerContent",I.__docgenInfo={description:"",displayName:"DrawerContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement | null>"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"ConditionalValue<`var(--${string})` | AnyString | SpacingToken | Padding<String | Number> | readonly NonNullable<Padding<String | Number>>[]>"}}}}}catch{}try{O.displayName="DrawerCloseTrigger",O.__docgenInfo={description:"",displayName:"DrawerCloseTrigger",props:{}}}catch{}try{ae.displayName="DrawerTrigger",ae.__docgenInfo={description:"",displayName:"DrawerTrigger",props:{}}}catch{}try{B.displayName="DrawerRoot",B.__docgenInfo={description:"",displayName:"DrawerRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{V.displayName="DrawerFooter",V.__docgenInfo={description:"",displayName:"DrawerFooter",props:{}}}catch{}try{U.displayName="DrawerHeader",U.__docgenInfo={description:"",displayName:"DrawerHeader",props:{}}}catch{}try{z.displayName="DrawerBody",z.__docgenInfo={description:"",displayName:"DrawerBody",props:{}}}catch{}try{ie.displayName="DrawerBackdrop",ie.__docgenInfo={description:"",displayName:"DrawerBackdrop",props:{}}}catch{}try{se.displayName="DrawerDescription",se.__docgenInfo={description:"",displayName:"DrawerDescription",props:{}}}catch{}try{L.displayName="DrawerTitle",L.__docgenInfo={description:"",displayName:"DrawerTitle",props:{}}}catch{}try{q.displayName="DrawerActionTrigger",q.__docgenInfo={description:"",displayName:"DrawerActionTrigger",props:{}}}catch{}const ce=({isOpen:e,onClose:t,title:r,children:n,actions:o})=>Je({base:!0,md:!1})?a.jsx(B,{open:e,onOpenChange:s=>s.open||t(),placement:"bottom",size:"full",children:a.jsxs(I,{borderTopRadius:"xl",maxH:"80vh",display:"flex",flexDirection:"column",children:[a.jsxs(U,{textAlign:"center",pb:2,children:[a.jsx(L,{fontSize:"xl",children:r}),a.jsx(O,{})]}),a.jsx(z,{px:6,flex:1,overflowY:"auto",children:a.jsx(te,{gap:6,py:4,children:n})}),o&&a.jsxs(V,{gap:3,px:6,pb:8,pt:6,borderTop:"1px solid",borderColor:"border",position:"sticky",bottom:0,bg:"bg",flexShrink:0,children:[o.cancel&&a.jsx(q,{asChild:!0,children:a.jsx(w,{variant:"ghost",size:"lg",flex:1,onClick:o.cancel.onClick||t,children:o.cancel.text})}),o.submit&&a.jsx(w,{form:o.submit.form,type:o.submit.type||"button",colorPalette:o.submit.colorPalette||"blue",disabled:o.submit.disabled,loading:o.submit.loading,size:"lg",flex:1,onClick:o.submit.onClick,children:o.submit.text})]})]})}):a.jsx(j,{open:e,onOpenChange:s=>s.open||t(),children:a.jsxs(T,{maxW:"md",mx:4,children:[a.jsx(R,{}),a.jsx(A,{children:a.jsx(M,{children:r})}),a.jsx(S,{children:a.jsx(te,{gap:4,children:n})}),o&&a.jsxs(E,{children:[o.cancel&&a.jsx($,{asChild:!0,children:a.jsx(w,{type:"button",variant:"ghost",onClick:o.cancel.onClick||t,children:o.cancel.text})}),o.submit&&a.jsx(w,{form:o.submit.form,type:o.submit.type||"button",colorPalette:o.submit.colorPalette||"blue",disabled:o.submit.disabled,loading:o.submit.loading,onClick:o.submit.onClick,children:o.submit.text})]})]})});try{ce.displayName="ResponsiveModal",ce.__docgenInfo={description:"",displayName:"ResponsiveModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:'{ cancel?: { text: string; onClick?: (() => void); }; submit?: { text: string; colorPalette?: string | undefined; form?: string | undefined; type?: "button" | "submit" | undefined; disabled?: boolean | undefined; loading?: boolean | undefined; onClick?: (() => void) | undefined; } | undefined...'}}}}}catch{}export{ye as P,ce as R,De as a,H as b,he as s,Ke as u};
