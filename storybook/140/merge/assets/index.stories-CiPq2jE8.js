import{w as E,e as x}from"./index-C0w2AICy.js";import{e as P,j as t}from"./create-recipe-context-LbQq3bM7.js";import{B as T}from"./index-CZ0VaSOh.js";import{C as p}from"./index-bJkI8e97.js";import{I as H}from"./index-CTqBWVyV.js";import{u as V,C as J}from"./index-Dgb2xTAI.js";import{u as Z}from"./toaster-5U2OXyzs.js";import{u as $}from"./useFirebaseAuth-DhJGE7jK.js";import{u as N}from"./useGroup-CvmXY0cp.js";import{u as O}from"./index-DCkf00rn.js";import{r as v}from"./index-BXymfbzT.js";import{b as q,c as K,d as Q}from"./index-DrVvecys.js";import{B as d}from"./box-p2MKwv57.js";import{C as X}from"./container-BXrbxM4E.js";import{V as i}from"./v-stack-DfIdlA7P.js";import{T as o}from"./text-BOFVnBsW.js";import{H as z}from"./h-stack-BOuMwgNM.js";import{G as Y}from"./grid-DCXQ59mM.js";import"./jsx-runtime-Bw5QeaCk.js";import"./button-Cus-mLIX.js";import"./attr-C3Jtgmrz.js";import"./spinner-B1ygD-4y.js";import"./card-BRR7LBt5.js";import"./create-slot-recipe-context-BXXlVjN6.js";import"./factory--2BDjF06.js";import"./index-Dcv8hpMz.js";import"./index-RgLjKqdB.js";import"./responsive-modal-DUYJezqq.js";import"./index-DGNrzCve.js";import"./index-DGKHe-6Q.js";import"./index-CrjboX4Z.js";import"./index-DkeST5JT.js";import"./index-BRNWFSEf.js";import"./types-DwQkBYn-.js";import"./index.esm2017-CMW78p6t.js";import"./_interop_require_wildcard-BpaVepTj.js";import"./stack-B-mkjmc_.js";const{withContext:tt}=P({key:"heading"}),et=tt("h2"),ot=n=>{if(!n||!n.trim())return null;const e=n.trim();if(e.includes("/lobby/")){const r=e.match(/\/lobby\/([a-zA-Z0-9]+)/);return r?r[1]:null}return/^[a-zA-Z0-9]+$/.test(e)?e:null},f=()=>{const{openModal:n,modalProps:e}=V(),[r,s]=v.useState(""),[g,j]=v.useState(!1),{createGroup:L,checkGroupExists:U}=N(),{signInAnonymous:w,isAuthenticated:y}=$(),B=O(),{successToast:b,errorToast:c}=Z(),G=async a=>{try{y||await w();const u=await L(a);B.push(`/lobby/${u}`),b("ルームを作成しました")}catch(u){console.error("ルーム作成エラー:",u),c("ルーム作成に失敗しました")}},M=async()=>{if(!r.trim()){c("ルームURLまたはIDを入力してください");return}j(!0);try{y||await w();const a=ot(r);if(!a){c("正しいルームURLまたはIDを入力してください");return}if(!await U(a)){c("指定されたルームが見つかりません");return}B.push(`/lobby/${a}`),b("ルームに参加します")}catch(a){console.error("ルーム参加エラー:",a),c("ルーム参加に失敗しました")}finally{j(!1)}},h={color:"white",textAlign:"center"};return t.jsxs(d,{background:"linear-gradient(135deg, #3182ce, #805ad5, #d53f8c)",minH:"100vh",pt:16,pb:3,children:[t.jsx(X,{maxW:"container.md",children:t.jsxs(i,{gap:8,align:"center",children:[t.jsxs(i,{gap:3,children:[t.jsx(et,{size:["3xl","4xl"],fontWeight:"black",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",...h,children:"オンラインドラフト会議"}),t.jsx(o,{fontSize:["lg","xl"],fontWeight:"medium",...h,children:"みんなでワイワイ！リアルタイムドラフト"})]}),t.jsxs(i,{gap:6,w:"full",maxW:"sm",children:[t.jsx(T,{variant:"primary",size:"lg",width:"full",onClick:n,children:"ルームを作成する"}),t.jsxs(z,{w:"full",children:[t.jsx(d,{flex:1,h:"1px",bg:"whiteAlpha.300"}),t.jsx(o,{color:"whiteAlpha.800",fontSize:"sm",px:4,fontWeight:"medium",children:"または"}),t.jsx(d,{flex:1,h:"1px",bg:"whiteAlpha.300"})]}),t.jsxs(i,{gap:3,w:"full",children:[t.jsx(o,{color:"whiteAlpha.900",fontSize:["sm","md"],fontWeight:"medium",children:"既存のルームに参加"}),t.jsxs(z,{w:"full",children:[t.jsx(H,{placeholder:"ルームURLまたはID",size:"lg",value:r,onChange:a=>s(a.target.value)}),t.jsx(T,{variant:"secondary",size:"lg",onClick:M,loading:g,disabled:g,children:"参加"})]})]})]}),t.jsxs(i,{gap:6,w:"full",maxW:"lg",children:[t.jsx(p,{variant:"elevated",size:"md",children:t.jsx(o,{textAlign:"center",color:"blue.600",fontSize:["lg","xl"],fontWeight:"bold",children:"みんなで同じものを狙う、白熱のドラフトゲーム！"})}),t.jsxs(Y,{templateColumns:["1fr","1fr 1fr"],gap:4,w:"full",children:[t.jsx(p,{variant:"elevated",size:"md",children:t.jsxs(i,{align:"center",gap:3,textAlign:"center",children:[t.jsx(q,{size:40,color:"#3182ce"}),t.jsx(o,{fontWeight:"bold",color:"gray.800",fontSize:["md","lg"],children:"被ったら取れない！"}),t.jsx(o,{color:"gray.600",fontSize:["sm","md"],children:"好きなものを選ぶけど、他の人と同じだと競合で失敗"})]})}),t.jsx(p,{variant:"elevated",size:"md",children:t.jsxs(i,{align:"center",gap:3,textAlign:"center",children:[t.jsx(K,{size:40,color:"#38a169"}),t.jsx(o,{fontWeight:"bold",color:"gray.800",fontSize:["md","lg"],children:"2-8人で同時選択"}),t.jsx(o,{color:"gray.600",fontSize:["sm","md"],children:"URLシェアで簡単参加、みんなでリアルタイム"})]})}),t.jsx(p,{variant:"elevated",size:"md",children:t.jsxs(i,{align:"center",gap:3,textAlign:"center",children:[t.jsx(Q,{size:40,color:"#dd6b20"}),t.jsx(o,{fontWeight:"bold",color:"gray.800",fontSize:["md","lg"],children:"1ゲーム10-15分"}),t.jsx(o,{color:"gray.600",fontSize:["sm","md"],children:"サクッと楽しめる、音声通話しながらプレイ"})]})})]}),t.jsx(d,{p:6,bg:"whiteAlpha.200",borderRadius:"xl",backdropFilter:"blur(10px)",children:t.jsxs(o,{fontSize:["md","lg"],fontWeight:"bold",...h,children:["プロ野球選手、アニメキャラ、好きな食べ物...",t.jsx("br",{}),"なんでもドラフトして盛り上がろう！"]})})]}),t.jsx(i,{gap:2,pt:8,children:t.jsx(o,{color:"whiteAlpha.600",fontSize:"xs",textAlign:"center",children:"© 2025 オンラインドラフト会議"})})]})}),t.jsx(J,{...e,onCreateRoom:G})]})};try{f.displayName="TopPage",f.__docgenInfo={description:`トップページコンポーネント
URLシェアによる簡単参加と音声通話併用を前提としたシンプルなUI`,displayName:"TopPage",props:{}}}catch{}const Mt={title:"Features/Top/TopPage",component:f,parameters:{layout:"fullscreen"}},l={play:async({canvasElement:n})=>{const e=E(n),r=await e.findByText("ルームを作成する");await x(r).toBeInTheDocument();const s=await e.findByText("参加");await x(s).toBeInTheDocument()}},m={parameters:{viewport:{defaultViewport:"mobile1"}},play:async({canvasElement:n})=>{const e=E(n),r=await e.findByText("ルームを作成する");await x(r).toBeInTheDocument();const s=await e.findByText("参加");await x(s).toBeInTheDocument()}};var A,C,I,D,S;l.parameters={...l.parameters,docs:{...(A=l.parameters)==null?void 0:A.docs,source:{originalSource:`{
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);

    // 基本要素が表示されていることを確認
    const createButton = await canvas.findByText('ルームを作成する');
    await expect(createButton).toBeInTheDocument();
    const joinButton = await canvas.findByText('参加');
    await expect(joinButton).toBeInTheDocument();
  }
}`,...(I=(C=l.parameters)==null?void 0:C.docs)==null?void 0:I.source},description:{story:`デフォルト表示
ルーム作成とルーム参加の両機能を含む基本レイアウト`,...(S=(D=l.parameters)==null?void 0:D.docs)==null?void 0:S.description}}};var R,F,W,_,k;m.parameters={...m.parameters,docs:{...(R=m.parameters)==null?void 0:R.docs,source:{originalSource:`{
  parameters: {
    viewport: {
      defaultViewport: 'mobile1'
    }
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);

    // モバイルでも基本要素が表示されていることを確認
    const createButton = await canvas.findByText('ルームを作成する');
    await expect(createButton).toBeInTheDocument();
    const joinButton = await canvas.findByText('参加');
    await expect(joinButton).toBeInTheDocument();
  }
}`,...(W=(F=m.parameters)==null?void 0:F.docs)==null?void 0:W.source},description:{story:`スマートフォン表示
縦並びレイアウトでの表示確認`,...(k=(_=m.parameters)==null?void 0:_.docs)==null?void 0:k.description}}};const Pt=["Default","Mobile"];export{l as Default,m as Mobile,Pt as __namedExportsOrder,Mt as default};
