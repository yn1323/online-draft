import{j as i,e as te}from"./create-recipe-context-oy0ofMwS.js";import{r as c}from"./index-BXymfbzT.js";import{b as he}from"./index-B2ItOoBf.js";import{I as xe}from"./icon-button-tQjszkaJ.js";import{c as Ce,N as we,O as Pe,r as W,a as ve,m as Te,K as m,P as be,k as Re}from"./index-By25cWhp.js";import{a as oe,u as je,n as ke,r as Ae}from"./index-DAFC_qOt.js";import{c as ne,u as ie,a as ae}from"./create-slot-recipe-context-C5Qijpj2.js";import{c as I,a as _,b as se}from"./factory-4NXM9rHI.js";import{c as Se}from"./index-CrjboX4Z.js";import{c as Ee,m as $e}from"./index-B5_nCLil.js";import{u as Oe}from"./use-breakpoint-BCFmA5bm.js";import{V as X}from"./v-stack-DNelLgfG.js";import{B as D}from"./button-Duda3c3S.js";const ce=e=>ne()(e,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function Me(e,r){const{state:o,send:t,context:n}=e,a=o.matches("mounted","unmountSuspended");return{skip:!n.get("initial"),present:a,setNode(s){s&&t({type:"NODE.SET",node:s})},unmount(){t({type:"UNMOUNT"})}}}var Ie=Ce({props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,action:r,prop:o}){e([()=>o("present")],()=>{r(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},invokeOnExitComplete:({prop:e})=>{var r;(r=e("onExitComplete"))==null||r()},setNode:({refs:e,event:r})=>{e.set("node",r.node)},setStyles:({refs:e,event:r})=>{e.set("styles",ve(r.node))},syncPresence:({context:e,refs:r,send:o,prop:t})=>{const n=t("present");if(n)return o({type:"MOUNT",src:"presence.changed"});const a=r.get("node");if(!n&&(a==null?void 0:a.ownerDocument.visibilityState)==="hidden")return o({type:"UNMOUNT",src:"visibilitychange"});W(()=>{var l,p;const s=N(r.get("styles"));e.set("unmountAnimationName",s),s==="none"||s===e.get("prevAnimationName")||((l=r.get("styles"))==null?void 0:l.display)==="none"||((p=r.get("styles"))==null?void 0:p.animationDuration)==="0s"?o({type:"UNMOUNT",src:"presence.changed"}):o({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:r})=>{W(()=>{e.set("prevAnimationName",N(r.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:r,send:o})=>{const t=r.get("node");if(!t)return;const n=l=>{var d,y;(((y=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:y[0])??l.target)===t&&e.set("prevAnimationName",N(r.get("styles")))},a=l=>{const p=N(r.get("styles"));Te(l)===t&&p===e.get("unmountAnimationName")&&o({type:"UNMOUNT",src:"animationend"})};t.addEventListener("animationstart",n),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a);const s=we(t,{animationFillMode:"forwards"});return()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a),Pe(()=>s())}}}}});function N(e){return(e==null?void 0:e.animationName)||"none"}Se()(["onExitComplete","present","immediate"]);function Be(e,r={}){const{sync:o=!1}=r,t=Ve(e);return c.useCallback((...n)=>{var a;return o?queueMicrotask(()=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)}):(a=t.current)==null?void 0:a.call(t,...n)},[o,t])}function Ve(e){const r=c.useRef(e);return r.current=e,r}const B=(e={})=>{const{lazyMount:r,unmountOnExit:o,present:t,skipAnimationOnMount:n=!1,...a}=e,s=c.useRef(!1),l={...a,present:t,onExitComplete:Be(e.onExitComplete)},p=oe(Ie,l),d=Me(p);d.present&&(s.current=!0);const y=!d.present&&!s.current&&r||o&&!d.present&&s.current,Ne=()=>({"data-state":d.skip&&n?void 0:t?"open":"closed",hidden:!d.present});return{ref:d.setNode,getPresenceProps:Ne,present:d.present,unmounted:y}},[le,V]=I({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),[de,Ue]=I({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),pe=e=>ne()(e,["lazyMount","unmountOnExit"]),[ue,f]=I({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),U=c.forwardRef((e,r)=>{const o=f(),t=Ue(),n=B({...t,present:o.open}),a=m(o.getBackdropProps(),n.getPresenceProps(),e);return n.unmounted?null:i.jsx(_.div,{...a,ref:se(n.ref,r)})});U.displayName="DialogBackdrop";const q=c.forwardRef((e,r)=>{const o=f(),t=m(o.getCloseTriggerProps(),e);return i.jsx(_.button,{...t,ref:r})});q.displayName="DialogCloseTrigger";const z=c.forwardRef((e,r)=>{const o=f(),t=V(),n=m(o.getContentProps(),t.getPresenceProps(),e);return t.unmounted?null:i.jsx(_.div,{...n,ref:se(t.ref,r)})});z.displayName="DialogContent";const F=c.forwardRef((e,r)=>{const o=f(),t=m(o.getDescriptionProps(),e);return i.jsx(_.div,{...t,ref:r})});F.displayName="DialogDescription";const H=c.forwardRef((e,r)=>{const o=f(),t=m(o.getPositionerProps(),e);return V().unmounted?null:i.jsx(_.div,{...t,ref:r})});H.displayName="DialogPositioner";const qe=e=>{const r=c.useId(),{getRootNode:o}=ie(),{dir:t}=je(),n={id:r,getRootNode:o,dir:t,...e},a=oe($e,n);return Ee(a,ke)},ge=e=>{const[r,{children:o,...t}]=ce(e),[n]=pe(r),a=qe(t),s=B(m({present:a.open},r));return i.jsx(ue,{value:a,children:i.jsx(de,{value:n,children:i.jsx(le,{value:s,children:o})})})},me=e=>{const[r,{value:o,children:t}]=ce(e),[n]=pe(r),a=B(m({present:o.open},r));return i.jsx(ue,{value:o,children:i.jsx(de,{value:n,children:i.jsx(le,{value:a,children:t})})})},L=c.forwardRef((e,r)=>{const o=f(),t=m(o.getTitleProps(),e);return i.jsx(_.h2,{...t,ref:r})});L.displayName="DialogTitle";const K=c.forwardRef((e,r)=>{const o=f(),t=V(),n=m({...o.getTriggerProps(),"aria-controls":t.unmounted?void 0:o.getTriggerProps()["aria-controls"]},e);return i.jsx(_.button,{...n,ref:r})});K.displayName="DialogTrigger";const fe=e=>{var p;const{children:r,disabled:o}=e,[t,n]=c.useState((p=e.container)==null?void 0:p.current),a=c.useSyncExternalStore(Fe,()=>!1,()=>!0),{getRootNode:s}=ie();if(c.useEffect(()=>{n(()=>{var d;return(d=e.container)==null?void 0:d.current})},[e.container]),a||o)return i.jsx(i.Fragment,{children:r});const l=t??ze(s);return i.jsx(i.Fragment,{children:c.Children.map(r,d=>Ae.createPortal(d,l))})},ze=e=>{const r=e==null?void 0:e(),o=r.getRootNode();return be(o)?o:Re(r).body},Fe=()=>()=>{},{withRootProvider:_e,withContext:u}=ae({key:"dialog"});_e(me,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const He=_e(ge,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),Le=u(K,"trigger",{forwardAsChild:!0}),Ke=u(H,"positioner",{forwardAsChild:!0}),We=u(z,"content",{forwardAsChild:!0}),Xe=u(F,"description",{forwardAsChild:!0}),Ye=u(L,"title",{forwardAsChild:!0}),Ge=u(q,"closeTrigger",{forwardAsChild:!0}),Je=c.forwardRef(function(r,o){const t=f();return i.jsx(te.button,{...r,ref:o,onClick:()=>t.setOpen(!1)})}),ye=u(U,"backdrop",{forwardAsChild:!0}),Qe=u("div","body"),Ze=u("div","footer"),er=u("div","header"),{withRootProvider:De,withContext:g}=ae({key:"drawer"});De(me,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const rr=De(ge,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),tr=g(K,"trigger",{forwardAsChild:!0}),or=g(H,"positioner",{forwardAsChild:!0}),nr=g(z,"content",{forwardAsChild:!0}),ir=g(F,"description",{forwardAsChild:!0}),ar=g(L,"title",{forwardAsChild:!0}),sr=g(q,"closeTrigger",{forwardAsChild:!0}),cr=c.forwardRef(function(r,o){const t=f();return i.jsx(te.button,{...r,ref:o,onClick:()=>t.setOpen(!1)})}),lr=g(U,"backdrop",{forwardAsChild:!0}),dr=g("div","body"),pr=g("div","footer"),ur=g("div","header"),h=c.forwardRef(function(r,o){return i.jsx(xe,{variant:"ghost","aria-label":"Close",ref:o,...r,children:r.children??i.jsx(he,{})})});try{h.displayName="CloseButton",h.__docgenInfo={description:"",displayName:"CloseButton",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"RecipeDefinition<RecipeVariantRecord>"}}}}}catch{}const x=c.forwardRef(function(r,o){const{children:t,portalled:n=!0,portalRef:a,backdrop:s=!0,...l}=r;return i.jsxs(fe,{disabled:!n,container:a,children:[s&&i.jsx(ye,{}),i.jsx(Ke,{children:i.jsx(We,{ref:o,...l,asChild:!1,children:t})})]})}),C=c.forwardRef(function(r,o){return i.jsx(Ge,{position:"absolute",top:"2",insetEnd:"2",...r,asChild:!0,children:i.jsx(h,{size:"sm",ref:o,children:r.children})})}),w=He,P=Ze,v=er,T=Qe,Y=ye,b=Ye,G=Xe,J=Le,R=Je;try{x.displayName="DialogContent",x.__docgenInfo={description:"",displayName:"DialogContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement>"}},backdrop:{defaultValue:null,description:"",name:"backdrop",required:!1,type:{name:"boolean"}}}}}catch{}try{C.displayName="DialogCloseTrigger",C.__docgenInfo={description:"",displayName:"DialogCloseTrigger",props:{}}}catch{}try{w.displayName="DialogRoot",w.__docgenInfo={description:"",displayName:"DialogRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{P.displayName="DialogFooter",P.__docgenInfo={description:"",displayName:"DialogFooter",props:{}}}catch{}try{v.displayName="DialogHeader",v.__docgenInfo={description:"",displayName:"DialogHeader",props:{}}}catch{}try{T.displayName="DialogBody",T.__docgenInfo={description:"",displayName:"DialogBody",props:{}}}catch{}try{Y.displayName="DialogBackdrop",Y.__docgenInfo={description:"",displayName:"DialogBackdrop",props:{}}}catch{}try{b.displayName="DialogTitle",b.__docgenInfo={description:"",displayName:"DialogTitle",props:{}}}catch{}try{G.displayName="DialogDescription",G.__docgenInfo={description:"",displayName:"DialogDescription",props:{}}}catch{}try{J.displayName="DialogTrigger",J.__docgenInfo={description:"",displayName:"DialogTrigger",props:{}}}catch{}try{R.displayName="DialogActionTrigger",R.__docgenInfo={description:"",displayName:"DialogActionTrigger",props:{}}}catch{}const j=c.forwardRef(function(r,o){const{children:t,portalled:n=!0,portalRef:a,offset:s,...l}=r;return i.jsx(fe,{disabled:!n,container:a,children:i.jsx(or,{padding:s,children:i.jsx(nr,{ref:o,...l,asChild:!1,children:t})})})}),k=c.forwardRef(function(r,o){return i.jsx(sr,{position:"absolute",top:"2",insetEnd:"2",...r,asChild:!0,children:i.jsx(h,{size:"sm",ref:o})})}),Q=tr,A=rr,S=pr,E=ur,$=dr,Z=lr,ee=ir,O=ar,M=cr;try{j.displayName="DrawerContent",j.__docgenInfo={description:"",displayName:"DrawerContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement | null>"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"ConditionalValue<`var(--${string})` | AnyString | SpacingToken | Padding<String | Number> | readonly NonNullable<Padding<String | Number>>[]>"}}}}}catch{}try{k.displayName="DrawerCloseTrigger",k.__docgenInfo={description:"",displayName:"DrawerCloseTrigger",props:{}}}catch{}try{Q.displayName="DrawerTrigger",Q.__docgenInfo={description:"",displayName:"DrawerTrigger",props:{}}}catch{}try{A.displayName="DrawerRoot",A.__docgenInfo={description:"",displayName:"DrawerRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{S.displayName="DrawerFooter",S.__docgenInfo={description:"",displayName:"DrawerFooter",props:{}}}catch{}try{E.displayName="DrawerHeader",E.__docgenInfo={description:"",displayName:"DrawerHeader",props:{}}}catch{}try{$.displayName="DrawerBody",$.__docgenInfo={description:"",displayName:"DrawerBody",props:{}}}catch{}try{Z.displayName="DrawerBackdrop",Z.__docgenInfo={description:"",displayName:"DrawerBackdrop",props:{}}}catch{}try{ee.displayName="DrawerDescription",ee.__docgenInfo={description:"",displayName:"DrawerDescription",props:{}}}catch{}try{O.displayName="DrawerTitle",O.__docgenInfo={description:"",displayName:"DrawerTitle",props:{}}}catch{}try{M.displayName="DrawerActionTrigger",M.__docgenInfo={description:"",displayName:"DrawerActionTrigger",props:{}}}catch{}const re=({isOpen:e,onClose:r,title:o,children:t,actions:n})=>Oe({base:!0,md:!1})?i.jsx(A,{open:e,onOpenChange:s=>s.open||r(),placement:"bottom",size:"full",children:i.jsxs(j,{borderTopRadius:"xl",maxH:"80vh",display:"flex",flexDirection:"column",children:[i.jsxs(E,{textAlign:"center",pb:2,children:[i.jsx(O,{fontSize:"xl",children:o}),i.jsx(k,{})]}),i.jsx($,{px:6,flex:1,overflowY:"auto",children:i.jsx(X,{gap:6,py:4,children:t})}),n&&i.jsxs(S,{gap:3,px:6,pb:8,pt:6,borderTop:"1px solid",borderColor:"border",position:"sticky",bottom:0,bg:"bg",flexShrink:0,children:[n.cancel&&i.jsx(M,{asChild:!0,children:i.jsx(D,{variant:"ghost",size:"lg",flex:1,onClick:n.cancel.onClick||r,children:n.cancel.text})}),n.submit&&i.jsx(D,{form:n.submit.form,type:n.submit.type||"button",colorPalette:n.submit.colorPalette||"blue",disabled:n.submit.disabled,loading:n.submit.loading,size:"lg",flex:1,onClick:n.submit.onClick,children:n.submit.text})]})]})}):i.jsx(w,{open:e,onOpenChange:s=>s.open||r(),children:i.jsxs(x,{maxW:"md",mx:4,children:[i.jsx(C,{}),i.jsx(v,{children:i.jsx(b,{children:o})}),i.jsx(T,{children:i.jsx(X,{gap:4,children:t})}),n&&i.jsxs(P,{children:[n.cancel&&i.jsx(R,{asChild:!0,children:i.jsx(D,{type:"button",variant:"ghost",onClick:n.cancel.onClick||r,children:n.cancel.text})}),n.submit&&i.jsx(D,{form:n.submit.form,type:n.submit.type||"button",colorPalette:n.submit.colorPalette||"blue",disabled:n.submit.disabled,loading:n.submit.loading,onClick:n.submit.onClick,children:n.submit.text})]})]})});try{re.displayName="ResponsiveModal",re.__docgenInfo={description:"",displayName:"ResponsiveModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:'{ cancel?: { text: string; onClick?: (() => void); }; submit?: { text: string; colorPalette?: string | undefined; form?: string | undefined; type?: "button" | "submit" | undefined; disabled?: boolean | undefined; loading?: boolean | undefined; onClick?: (() => void) | undefined; } | undefined...'}}}}}catch{}export{re as R};
