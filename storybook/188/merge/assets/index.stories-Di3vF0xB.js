import{e as E,j as e}from"./stack-B25eOQea.js";import{r as G}from"./index-BXymfbzT.js";import{u as I}from"./useFirebaseAuth-ClPBF_9-.js";import{u as L}from"./useGroup-D7Hsji9I.js";import{T as s}from"./text-ddCD_fM-.js";import{V as d}from"./v-stack-DLbVHDKJ.js";import{B as l}from"./button-BzGfOniU.js";import{C as b,a as x}from"./card-BfIoSqEc.js";import"./jsx-runtime-Bw5QeaCk.js";import"./common-qjYFItnW.js";import"./index.esm2017-rypblU8U.js";import"./attr-C3Jtgmrz.js";import"./spinner-BaqUdWIg.js";import"./create-slot-recipe-context-BILcAqFF.js";const{withContext:N}=E({key:"badge"}),O=N("span"),m=()=>{var h;const{user:i,loading:D,error:p,signInAnonymous:$,isAuthenticated:c}=I(),{createGroup:v,checkGroupExists:B}=L(),[u,g]=G.useState([]),t=r=>{g(n=>[...n,`${new Date().toLocaleTimeString()}: ${r}`])},R=async()=>{try{t("🔐 匿名認証テスト開始..."),await $(),t("✅ 匿名認証成功")}catch(r){t(`❌ 匿名認証失敗: ${r}`)}},k=async()=>{try{t("📊 Firestore書き込みテスト開始...");const r=await v("テストルーム");t(`✅ グループ作成成功: ${r}`);const n=await B(r);t(`✅ グループ存在確認: ${n?"存在":"不存在"}`)}catch(r){t(`❌ Firestore操作失敗: ${r}`)}},z=()=>{g([])};return D?e.jsx(b,{children:e.jsx(x,{children:e.jsx(s,{children:"Firebase接続中..."})})}):e.jsx(b,{children:e.jsx(x,{children:e.jsxs(d,{gap:4,align:"stretch",children:[e.jsx(s,{fontSize:"lg",fontWeight:"bold",children:"🧪 Firebase接続テスト"}),e.jsxs(s,{children:["認証状態:"," ",e.jsx(O,{colorScheme:c?"green":"red",children:c?`認証済み (${(h=i==null?void 0:i.uid)==null?void 0:h.slice(0,8)}...)`:"未認証"})]}),p&&e.jsxs(s,{color:"red.500",fontSize:"sm",children:["エラー: ",p.message]}),e.jsxs(d,{gap:2,children:[e.jsx(l,{bg:"blue.400",color:"white",onClick:R,disabled:c,_hover:{bg:"blue.500"},_active:{bg:"blue.600"},children:"匿名認証テスト"}),e.jsx(l,{bg:"green.400",color:"white",onClick:k,disabled:!c,_hover:{bg:"green.500"},_active:{bg:"green.600"},children:"Firestoreテスト"}),e.jsx(l,{bg:"gray.400",color:"white",onClick:z,size:"sm",_hover:{bg:"gray.500"},_active:{bg:"gray.600"},children:"結果クリア"})]}),u.length>0&&e.jsxs(d,{gap:1,align:"stretch",children:[e.jsx(s,{fontSize:"md",fontWeight:"bold",children:"テスト結果:"}),u.map(r=>e.jsx(s,{fontSize:"sm",fontFamily:"mono",children:r},`test-result-${r}`))]})]})})})};try{m.displayName="FirebaseTest",m.__docgenInfo={description:"Firebase接続テスト用開発コンポーネント",displayName:"FirebaseTest",props:{}}}catch{}const re={title:"Dev/FirebaseTest",component:m,parameters:{layout:"centered"}},o={},a={};var f,j,y,F,_;o.parameters={...o.parameters,docs:{...(f=o.parameters)==null?void 0:f.docs,source:{originalSource:"{}",...(y=(j=o.parameters)==null?void 0:j.docs)==null?void 0:y.source},description:{story:`デフォルト表示
Firebase接続テスト機能`,...(_=(F=o.parameters)==null?void 0:F.docs)==null?void 0:_.description}}};var C,S,T,w,A;a.parameters={...a.parameters,docs:{...(C=a.parameters)==null?void 0:C.docs,source:{originalSource:`{
  // NOTE: 実際にはloadingプロップを追加する際に対応
}`,...(T=(S=a.parameters)==null?void 0:S.docs)==null?void 0:T.source},description:{story:`ローディング状態
Firebase接続中の表示`,...(A=(w=a.parameters)==null?void 0:w.docs)==null?void 0:A.description}}};const te=["Default","Loading"];export{o as Default,a as Loading,te as __namedExportsOrder,re as default};
