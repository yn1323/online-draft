import{j as e}from"./stack-BPGBxmP7.js";import{I as h}from"./index-CoP4xiAY.js";import{R as y}from"./responsive-modal-Cm4M_39G.js";import{u as E,a as x}from"./zod-jZdnb43b.js";import{r as B}from"./index-BXymfbzT.js";import{V as l}from"./v-stack-Dfms-mlT.js";import{T as s}from"./text-CvVCgmJx.js";import{ar as _,aF as R}from"./types-DwQkBYn-.js";const D=_({roomName:R().trim().min(1,"ルーム名を入力してください").max(30,"ルーム名は30文字以内で入力してください")}),c=({isOpen:o,onClose:r,onCreateRoom:u})=>{const{register:t,handleSubmit:p,formState:{errors:a,isValid:C,isSubmitting:m},reset:n}=E({resolver:x(D),mode:"onChange"}),f=async g=>{try{await u(g.roomName),n(),r()}catch(F){console.error("ルーム作成エラー:",F)}},i=()=>{m||(n(),r())};return e.jsx(y,{isOpen:o,onClose:i,title:"新しいルームを作成",actions:{cancel:{text:"キャンセル",onClick:i},submit:{text:"ルームを作成",colorPalette:"blue",type:"submit",form:"create-room-form",disabled:!C,loading:m}},children:e.jsxs(l,{as:"form",id:"create-room-form",onSubmit:p(f),gap:4,align:"stretch",w:"full",children:[e.jsxs(l,{gap:2,align:"stretch",children:[e.jsx(s,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:"ルーム名"}),e.jsx(h,{...t("roomName"),placeholder:"例: 2024年プロ野球ドラフト",size:"lg",maxLength:30,error:!!a.roomName}),a.roomName&&e.jsx(s,{fontSize:"sm",color:"red.500",children:a.roomName.message})]}),e.jsx(s,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"URLを共有して友達を招待しよう！"})]})})},d=()=>{const[o,r]=B.useState(!1),u=()=>r(!0),t=()=>r(!1);return{isOpen:o,openModal:u,closeModal:t,modalProps:{isOpen:o,onClose:t}}};try{c.displayName="CreateRoomModal",c.__docgenInfo={description:`ルーム作成モーダルコンポーネント
react-hook-form + zodでバリデーション、ResponsiveModalでレスポンシブ対応`,displayName:"CreateRoomModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onCreateRoom:{defaultValue:null,description:"",name:"onCreateRoom",required:!0,type:{name:"(roomName: string) => Promise<void>"}}}}}catch{}try{d.displayName="useCreateRoomModal",d.__docgenInfo={description:`CreateRoomModal用カスタムフック
モーダルの状態管理を内部で行い、親コンポーネントの負担を軽減`,displayName:"useCreateRoomModal",props:{}}}catch{}export{c as C,d as u};
