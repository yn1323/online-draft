import{c as x}from"./index-BRNWFSEf.js";import{c as N,J as p,r as b,a as S,V as P,m as k,Q as $,N as F,E as L,b as z,S as B,T as U,q as H}from"./index-D3iQu9n-.js";import{c as V}from"./index-CrjboX4Z.js";import{E as D,p as K,q,F as M,k as X}from"./index-BPRKcNEv.js";var J=x("collapsible").parts("root","trigger","content","indicator"),T=J.build(),Q=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`collapsible:${e.id}`},I=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`collapsible:${e.id}:content`},j=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`collapsible:${e.id}:trigger`},y=e=>e.getById(I(e));function de(e,t){const{state:n,send:a,context:o,scope:s,prop:g}=e,l=n.matches("open")||n.matches("closing"),d=n.matches("open"),{width:m,height:v}=o.get("size"),u=!!g("disabled"),r=!o.get("initial")&&d,i="ltr";return{disabled:u,visible:l,open:d,measureSize(){a({type:"size.measure"})},setOpen(c){n.matches("open")!==c&&a({type:c?"open":"close"})},getRootProps(){return t.element({...T.root.attrs,"data-state":d?"open":"closed",dir:i,id:Q(s)})},getContentProps(){return t.element({...T.content.attrs,"data-collapsible":"","data-state":r?void 0:d?"open":"closed",id:I(s),"data-disabled":p(u),hidden:!l,style:{"--height":v!=null?`${v}px`:void 0,"--width":m!=null?`${m}px`:void 0}})},getTriggerProps(){return t.element({...T.trigger.attrs,id:j(s),dir:i,type:"button","data-state":d?"open":"closed","data-disabled":p(u),"aria-controls":I(s),"aria-expanded":l||!1,onClick(c){c.defaultPrevented||u||a({type:d?"close":"open"})}})},getIndicatorProps(){return t.element({...T.indicator.attrs,dir:i,"data-state":d?"open":"closed","data-disabled":p(u)})}}}var ce=N({initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{size:e(()=>({defaultValue:{height:0,width:0},sync:!0})),initial:e(()=>({defaultValue:!1}))}},refs(){return{cleanup:void 0,stylesRef:void 0}},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["setInitial","computeSize","toggleVisibility"])})},exit:["clearInitial","cleanupNode"],states:{closed:{on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{effects:["trackExitAnimation"],on:{"controlled.close":{target:"closed"},"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],close:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"animation.end":{target:"closed",actions:["invokeOnExitComplete","clearInitial"]}}},open:{effects:["trackEnterAnimation"],on:{"controlled.close":{target:"closing"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}],"size.measure":{actions:["measureSize"]},"animation.end":{actions:["clearInitial"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackEnterAnimation:({send:e,scope:t})=>{let n;const a=b(()=>{const o=y(t);if(!o)return;const s=S(o).animationName;if(!s||s==="none"){e({type:"animation.end"});return}const l=d=>{k(d)===o&&e({type:"animation.end"})};o.addEventListener("animationend",l),n=()=>{o.removeEventListener("animationend",l)}});return()=>{a(),n==null||n()}},trackExitAnimation:({send:e,scope:t})=>{let n;const a=b(()=>{const o=y(t);if(!o)return;const s=S(o).animationName;if(!s||s==="none"){e({type:"animation.end"});return}const l=m=>{k(m)===o&&e({type:"animation.end"})};o.addEventListener("animationend",l);const d=P(o,{animationFillMode:"forwards"});n=()=>{o.removeEventListener("animationend",l),$(()=>d())}});return()=>{a(),n==null||n()}}},actions:{setInitial:({context:e,flush:t})=>{t(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("stylesRef",null)},measureSize:({context:e,scope:t})=>{const n=y(t);if(!n)return;const{height:a,width:o}=n.getBoundingClientRect();e.set("size",{height:a,width:o})},computeSize:({refs:e,scope:t,context:n})=>{var o;(o=e.get("cleanup"))==null||o();const a=b(()=>{const s=y(t);if(!s)return;const g=s.hidden;s.style.animationName="none",s.style.animationDuration="0s",s.hidden=!1;const l=s.getBoundingClientRect();n.set("size",{height:l.height,width:l.width}),n.get("initial")&&(s.style.animationName="",s.style.animationDuration=""),s.hidden=g});e.set("cleanup",a)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},toggleVisibility:({prop:e,send:t})=>{t({type:e("open")?"controlled.open":"controlled.close"})}}}});V()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);var W=x("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),h=W.build(),E=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},Y=(e,t)=>{var n,a;return((a=(n=e.ids)==null?void 0:n.item)==null?void 0:a.call(n,t))??`accordion:${e.id}:item:${t}`},G=(e,t)=>{var n,a;return((a=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:a.call(n,t))??`accordion:${e.id}:content:${t}`},O=(e,t)=>{var n,a;return((a=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:a.call(n,t))??`accordion:${e.id}:trigger:${t}`},Z=e=>e.getById(E(e)),C=e=>{const n=`[aria-controls][data-ownedby='${CSS.escape(E(e))}']:not([disabled])`;return H(Z(e),n)},_=e=>q(C(e)),ee=e=>K(C(e)),te=(e,t)=>U(C(e),O(e,t)),ne=(e,t)=>B(C(e),O(e,t));function ue(e,t){const{send:n,context:a,prop:o,scope:s,computed:g}=e,l=a.get("focusedValue"),d=a.get("value"),m=o("multiple");function v(r){let i=r;!m&&i.length>1&&(i=[i[0]]),n({type:"VALUE.SET",value:i})}function u(r){return{expanded:d.includes(r.value),focused:l===r.value,disabled:!!(r.disabled??o("disabled"))}}return{focusedValue:l,value:d,setValue:v,getItemState:u,getRootProps(){return t.element({...h.root.attrs,dir:o("dir"),id:E(s),"data-orientation":o("orientation")})},getItemProps(r){const i=u(r);return t.element({...h.item.attrs,dir:o("dir"),id:Y(s,r.value),"data-state":i.expanded?"open":"closed","data-focus":p(i.focused),"data-disabled":p(i.disabled),"data-orientation":o("orientation")})},getItemContentProps(r){const i=u(r);return t.element({...h.itemContent.attrs,dir:o("dir"),role:"region",id:G(s,r.value),"aria-labelledby":O(s,r.value),hidden:!i.expanded,"data-state":i.expanded?"open":"closed","data-disabled":p(i.disabled),"data-focus":p(i.focused),"data-orientation":o("orientation")})},getItemIndicatorProps(r){const i=u(r);return t.element({...h.itemIndicator.attrs,dir:o("dir"),"aria-hidden":!0,"data-state":i.expanded?"open":"closed","data-disabled":p(i.disabled),"data-focus":p(i.focused),"data-orientation":o("orientation")})},getItemTriggerProps(r){const{value:i}=r,c=u(r);return t.button({...h.itemTrigger.attrs,type:"button",dir:o("dir"),id:O(s,i),"aria-controls":G(s,i),"aria-expanded":c.expanded,disabled:c.disabled,"data-orientation":o("orientation"),"aria-disabled":c.disabled,"data-state":c.expanded?"open":"closed","data-ownedby":E(s),onFocus(){c.disabled||n({type:"TRIGGER.FOCUS",value:i})},onBlur(){c.disabled||n({type:"TRIGGER.BLUR"})},onClick(f){c.disabled||(L()&&f.currentTarget.focus(),n({type:"TRIGGER.CLICK",value:i}))},onKeyDown(f){if(f.defaultPrevented||c.disabled)return;const w={ArrowDown(){g("isHorizontal")||n({type:"GOTO.NEXT",value:i})},ArrowUp(){g("isHorizontal")||n({type:"GOTO.PREV",value:i})},ArrowRight(){g("isHorizontal")&&n({type:"GOTO.NEXT",value:i})},ArrowLeft(){g("isHorizontal")&&n({type:"GOTO.PREV",value:i})},Home(){n({type:"GOTO.FIRST",value:i})},End(){n({type:"GOTO.LAST",value:i})}},A=F(f,{dir:o("dir"),orientation:o("orientation")}),R=w[A];R&&(R(f),f.preventDefault())}})}}}var{and:ae,not:oe}=z(),ge=N({props({props:e}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{focusedValue:t(()=>({defaultValue:null,sync:!0,onChange(n){var a;(a=e("onFocusChange"))==null||a({value:n})}})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var a;(a=e("onValueChange"))==null||a({value:n})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:ae("isExpanded","canToggle"),actions:["collapse"]},{guard:oe("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:t})=>e.get("value").includes(t.value)},actions:{collapse({context:e,prop:t,event:n}){const a=t("multiple")?X(e.get("value"),n.value):[];e.set("value",a)},expand({context:e,prop:t,event:n}){const a=t("multiple")?M(e.get("value"),n.value):[n.value];e.set("value",a)},focusFirstTrigger({scope:e}){var t;(t=_(e))==null||t.focus()},focusLastTrigger({scope:e}){var t;(t=ee(e))==null||t.focus()},focusNextTrigger({context:e,scope:t}){const n=e.get("focusedValue");if(!n)return;const a=te(t,n);a==null||a.focus()},focusPrevTrigger({context:e,scope:t}){const n=e.get("focusedValue");if(!n)return;const a=ne(t,n);a==null||a.focus()},setFocusedValue({context:e,event:t}){e.set("focusedValue",t.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t}){e.set("value",t.value)},coarseValue({context:e,prop:t}){!t("multiple")&&e.get("value").length>1&&(D("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}});V()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);V()(["value","disabled"]);export{W as a,J as b,de as c,ue as d,ge as e,ce as m};
