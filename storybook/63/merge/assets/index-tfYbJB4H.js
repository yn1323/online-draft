import{j as i,e as G,f as L,g as _,b as k,m as J,E as X,h as ee}from"./create-recipe-context-DNTG5mYw.js";import{c as Z,u as $,a as q,F as te,b as re,d as se,I as oe,s as ae,j as ne}from"./schemas-QjPBtkek.js";import{I as le}from"./index-ZS65BhKO.js";import{r as a}from"./index-BXymfbzT.js";import{Q as g,R as w,S as ie}from"./field.anatomy-Ze19KRbA.js";import{bn as V}from"./types-CvgYpjhN.js";import{B as de}from"./box-DMcbo_cE.js";import{V as ce}from"./v-stack-QJg7n52G.js";import{B as ue}from"./button-Dz2diCo_.js";import{H as pe}from"./h-stack-BoRIBf53.js";import{T as me}from"./text-DJUdolDr.js";const[De,fe]=Z({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),xe=()=>(n,t)=>t.reduce((r,e)=>{const[o,s]=r,l=e;return s[l]!==void 0&&(o[l]=s[l]),delete s[l],[o,s]},[{},{...n}]),Y=a.forwardRef((n,t)=>{const r=$(),e=V(r.getErrorTextProps(),n);return r!=null&&r.invalid?i.jsx(q.span,{...e,ref:t}):null});Y.displayName="FieldErrorText";const K=a.forwardRef((n,t)=>{const r=$(),e=V(r==null?void 0:r.getHelperTextProps(),n);return i.jsx(q.span,{...e,ref:t})});K.displayName="FieldHelperText";const Q=a.forwardRef((n,t)=>{const r=$(),e=V(r==null?void 0:r.getLabelProps(),n);return i.jsx(q.label,{...e,ref:t})});Q.displayName="FieldLabel";const he=typeof window<"u"?a.useLayoutEffect:a.useEffect,[Je,be]=Z({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),ye=(n={})=>{const t=be(),r=fe(),{ids:e,disabled:o=!!(t!=null&&t.disabled),invalid:s=!1,readOnly:l=!1,required:m=!1}=n,[h,N]=a.useState(!1),[C,A]=a.useState(!1),y=n.id??a.useId(),j=a.useRef(null),u=(e==null?void 0:e.control)??`field::${y}`,c=(e==null?void 0:e.errorText)??`field::${y}::error-text`,d=(e==null?void 0:e.helperText)??`field::${y}::helper-text`,p=(e==null?void 0:e.label)??`field::${y}::label`;he(()=>{const T=j.current;if(!T)return;const F=()=>{const D=r.getRootNode();N(!!D.getElementById(c)),A(!!D.getElementById(d))};F();const M=r.getWindow(),z=new M.MutationObserver(F);return z.observe(T,{childList:!0,subtree:!0}),()=>z.disconnect()},[r,c,d]);const f=a.useMemo(()=>{const T=[];return h&&s&&T.push(c),C&&T.push(d),T.join(" ")||void 0},[s,c,d,h,C]),b=a.useMemo(()=>()=>({...w.root.attrs,id:u,ref:j,role:"group","data-disabled":g(o),"data-invalid":g(s),"data-readonly":g(l)}),[o,s,l,u]),v=a.useMemo(()=>()=>({...w.label.attrs,id:p,"data-disabled":g(o),"data-invalid":g(s),"data-readonly":g(l),htmlFor:y}),[o,s,l,y,p]),x=a.useMemo(()=>()=>({"aria-describedby":f,"aria-invalid":ie(s),"data-invalid":g(s),"data-required":g(m),"data-readonly":g(l),id:y,required:m,disabled:o,readOnly:l}),[f,s,m,l,y,o]),P=a.useMemo(()=>()=>({...x(),...w.input.attrs}),[x]),R=a.useMemo(()=>()=>({...x(),...w.textarea.attrs}),[x]),S=a.useMemo(()=>()=>({...x(),...w.select.attrs}),[x]),I=a.useMemo(()=>()=>({id:d,...w.helperText.attrs,"data-disabled":g(o)}),[o,d]),H=a.useMemo(()=>()=>({id:c,...w.errorText.attrs,"aria-live":"polite"}),[c]),E=a.useMemo(()=>()=>({"aria-hidden":!0,...w.requiredIndicator.attrs}),[]);return{ariaDescribedby:f,ids:{root:u,control:y,label:p,errorText:c,helperText:d},refs:{rootRef:j},disabled:o,invalid:s,readOnly:l,required:m,getLabelProps:v,getRootProps:b,getInputProps:P,getTextareaProps:R,getSelectProps:S,getHelperTextProps:I,getErrorTextProps:H,getRequiredIndicatorProps:E}},U=a.forwardRef((n,t)=>{const[r,e]=xe()(n,["id","ids","disabled","invalid","readOnly","required"]),o=ye(r),s=V(o.getRootProps(),e);return i.jsx(te,{value:o,children:i.jsx(q.div,{...s,ref:re(t,o.refs.rootRef)})})});U.displayName="FieldRoot";function ge(n){const{key:t,recipe:r}=n,e=G();return a.useMemo(()=>{const o=r||(t!=null?e.getSlotRecipe(t):{});return e.sva(structuredClone(o))},[t,r,e])}const ve=n=>n.charAt(0).toUpperCase()+n.slice(1),Pe=n=>{const{key:t,recipe:r}=n,e=ve(t||r.className||"Component"),[o,s]=L({name:`${e}StylesContext`,errorMessage:`use${e}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${e}.Root />" `}),[l,m]=L({name:`${e}ClassNameContext`,errorMessage:`use${e}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${e}.Root />" `,strict:!1}),[h,N]=L({strict:!1,name:`${e}PropsContext`,providerName:`${e}PropsContext`,defaultValue:{}});function C(u){const{unstyled:c,...d}=u,p=ge({key:t,recipe:d.recipe||r}),[f,b]=a.useMemo(()=>p.splitVariantProps(d),[d,p]);return{styles:a.useMemo(()=>c?X:p(f),[c,f,p]),classNames:p.classNameMap,props:b}}function A(u,c={}){const{defaultProps:d}=c,p=f=>{const b=N(),v=a.useMemo(()=>J(d,b,f),[b,f]),{styles:x,classNames:P,props:R}=C(v);return i.jsx(o,{value:x,children:i.jsx(l,{value:P,children:i.jsx(u,{...R})})})};return p.displayName=u.displayName||u.name,p}return{StylesProvider:o,ClassNamesProvider:l,PropsProvider:h,usePropsContext:N,useRecipeResult:C,withProvider:(u,c,d)=>{const{defaultProps:p,...f}=d??{},b=_(u,{},f),v=a.forwardRef((x,P)=>{var M;const R=N(),S=a.useMemo(()=>J(p??{},R,x),[R,x]),{styles:I,props:H,classNames:E}=C(S),T=E[c],F=i.jsx(o,{value:I,children:i.jsx(l,{value:E,children:i.jsx(b,{ref:P,...H,css:[I[c],S.css],className:k(S.className,T)})})});return((M=d==null?void 0:d.wrapElement)==null?void 0:M.call(d,F,S))??F});return v.displayName=u.displayName||u.name,v},withContext:(u,c,d)=>{const p=_(u,{},d),f=a.forwardRef((b,v)=>{const x=s(),P=m(),R=P==null?void 0:P[c];return i.jsx(p,{...b,css:[c?x[c]:void 0,b.css],ref:v,className:k(b.className,R)})});return f.displayName=u.displayName||u.name,f},withRootProvider:A,useStyles:s,useClassNames:m}},{useRecipeResult:Ne}=ee({key:"icon"}),Ce=a.forwardRef(function(t,r){const{styles:e,className:o,props:s}=Ne({asChild:!t.as,...t});return i.jsx(_.svg,{ref:r,focusable:!1,"aria-hidden":"true",...s,css:[e,t.css],className:k(o,t.className)})});function Re(n){const{viewBox:t="0 0 24 24",d:r,displayName:e,defaultProps:o={}}=n,s=a.Children.toArray(n.path),l=a.forwardRef((m,h)=>i.jsx(Ce,{ref:h,asChild:!1,viewBox:t,...o,...m,children:s.length?s:i.jsx("path",{fill:"currentColor",d:r})}));return l.displayName=e,l}const{withProvider:Te,withContext:O,useStyles:we,useClassNames:Se}=Pe({key:"field"}),Fe=Te(U,"root",{forwardAsChild:!0}),je=O(Q,"label",{forwardAsChild:!0}),Ie=O(K,"helperText",{forwardAsChild:!0}),Ee=O(Y,"errorText",{forwardAsChild:!0});Re({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});const Me=a.forwardRef(function(t,r){const{fallback:e,children:o="*",...s}=t,l=$(),m=Se(),h=we();return l!=null&&l.required?i.jsx(_.span,{ref:r,"aria-hidden":"true",...s,className:k(m.requiredIndicator,t.className),css:[h.requiredIndicator,t.css],children:o}):e}),B=a.forwardRef(function(t,r){const{label:e,children:o,helperText:s,errorText:l,optionalText:m,...h}=t;return i.jsxs(Fe,{ref:r,...h,children:[e&&i.jsxs(je,{children:[e,i.jsx(Me,{fallback:m})]}),o,s&&i.jsx(Ie,{children:s}),l&&i.jsx(Ee,{children:l})]})});try{B.displayName="Field",B.__docgenInfo={description:"",displayName:"Field",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"ReactNode"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"ReactNode"}},optionalText:{defaultValue:null,description:"",name:"optionalText",required:!1,type:{name:"ReactNode"}},recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}function W({onSubmit:n,isLoading:t=!1}){var N;const r=se({resolver:ae(ne),defaultValues:{meetingInput:""}}),{register:e,handleSubmit:o,formState:{errors:s,isValid:l},reset:m}=r,h=async C=>{await n(C),m()};return i.jsx(de,{p:{base:4,md:6},bg:"blue.50",borderRadius:"xl",border:"1px solid",borderColor:"blue.200",_dark:{bg:"blue.900/20",borderColor:"blue.700"},children:i.jsxs(ce,{gap:4,children:[i.jsx(B,{label:"参加コード",invalid:!!s.meetingInput,errorText:(N=s.meetingInput)==null?void 0:N.message,children:i.jsx(oe,{...e("meetingInput"),placeholder:"ABC123 または招待リンク",disabled:t,size:"lg",bg:"white",borderColor:s.meetingInput?"red.300":"blue.300",_dark:{bg:"gray.800",borderColor:s.meetingInput?"red.400":"blue.500"},_focus:{borderColor:"blue.500"},"aria-label":"参加コードまたは招待リンク"})}),i.jsx(ue,{colorPalette:"blue",size:"lg",width:"full",disabled:!l||t,loading:t,onClick:o(h),fontSize:{base:"sm",md:"md"},fontWeight:"bold",_hover:{bg:"blue.600"},"aria-label":"グループに参加する",children:i.jsxs(pe,{gap:2,children:[i.jsx(le,{size:18,"aria-hidden":"true"}),i.jsx(me,{children:"参加する"})]})})]})})}try{W.displayName="JoinForm",W.__docgenInfo={description:"",displayName:"JoinForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(data: { meetingInput: string; }) => Promise<void>"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}}}}}catch{}export{W as J};
