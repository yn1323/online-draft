import{d}from"./useFirebaseAuth-gBhWBdCb.js";import{c as p,b as u,a as s,d as l,g as f}from"./index.esm2017-CJ8tNU3o.js";import{r as c}from"./index-BXymfbzT.js";const h=()=>{const o=p(d,"app/onlinedraft/group"),n=c.useCallback(async t=>{if(!t.trim())throw new Error("グループ名を入力してください");if(t.length>50)throw new Error("グループ名は50文字以内で入力してください");const e={groupName:t.trim(),deleteFlg:!1,finishedRound:[],round:1};try{return(await u(o,{...e,createdAt:s(),updatedAt:s()})).id}catch(r){throw r instanceof Error?new Error(`グループ作成に失敗しました: ${r.message}`):new Error("グループ作成中に予期しないエラーが発生しました")}},[o]),i=c.useCallback(async t=>{var a;const e=l(o,t),r=await f(e);return r.exists()&&!((a=r.data())!=null&&a.deleteFlg)},[o]);return{createGroup:n,checkGroupExists:i,groupCollection:o}};export{h as u};
