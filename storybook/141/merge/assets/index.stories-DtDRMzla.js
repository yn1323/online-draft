import{e as G,j as e}from"./stack-BPGBxmP7.js";import{B as w}from"./index-DAbNv4Ic.js";import{C as p}from"./index-B27ZHokN.js";import{I as M}from"./index-Z5yhDcB2.js";import{u as P,C as H}from"./index-Cj47GLxw.js";import{u as V}from"./toaster-MrWoCIy2.js";import{u as J}from"./useFirebaseAuth-gBhWBdCb.js";import{u as Z}from"./useGroup-DVQWYu2p.js";import{u as $}from"./index-BZxxqrwi.js";import{r as z}from"./index-BXymfbzT.js";import{b as N,c as O,d as q}from"./index-BbIJ_A6v.js";import{B as d}from"./box-BF69sWHg.js";import{C as K}from"./container-BeF7NZEH.js";import{V as o}from"./v-stack-Dfms-mlT.js";import{T as r}from"./text-CvVCgmJx.js";import{H as A}from"./h-stack-CXTYcpFY.js";import{G as Q}from"./grid-mntVVhnA.js";import"./jsx-runtime-Bw5QeaCk.js";import"./button-DJPprnzD.js";import"./attr-C3Jtgmrz.js";import"./spinner-BfFBc7wa.js";import"./card-DlhQdIZJ.js";import"./create-slot-recipe-context-BnxH4US7.js";import"./factory--2BDjF06.js";import"./index-Dcv8hpMz.js";import"./index-RgLjKqdB.js";import"./responsive-modal-Cm4M_39G.js";import"./index-mWDuOQRc.js";import"./index-DGKHe-6Q.js";import"./index-CrjboX4Z.js";import"./index-DkeST5JT.js";import"./index-BRNWFSEf.js";import"./zod-_4ZtKld0.js";import"./types-DwQkBYn-.js";import"./index.esm2017-CJ8tNU3o.js";import"./index-C0w2AICy.js";import"./_interop_require_wildcard-BpaVepTj.js";const{withContext:X}=G({key:"heading"}),Y=X("h2"),ee=i=>{if(!i||!i.trim())return null;const s=i.trim();if(s.includes("/lobby/")){const a=s.match(/\/lobby\/([a-zA-Z0-9]+)/);return a?a[1]:null}return/^[a-zA-Z0-9]+$/.test(s)?s:null},x=()=>{const{openModal:i,modalProps:s}=P(),[a,_]=z.useState(""),[h,g]=z.useState(!1),{createGroup:k,checkGroupExists:L}=Z(),{signInAnonymous:f,isAuthenticated:j}=J(),b=$(),{successToast:y,errorToast:n}=V(),U=async t=>{try{j||await f();const m=await k(t);b.push(`/lobby/${m}`),y("ルームを作成しました")}catch(m){console.error("ルーム作成エラー:",m),n("ルーム作成に失敗しました")}},E=async()=>{if(!a.trim()){n("ルームURLまたはIDを入力してください");return}g(!0);try{j||await f();const t=ee(a);if(!t){n("正しいルームURLまたはIDを入力してください");return}if(!await L(t)){n("指定されたルームが見つかりません");return}b.push(`/lobby/${t}`),y("ルームに参加します")}catch(t){console.error("ルーム参加エラー:",t),n("ルーム参加に失敗しました")}finally{g(!1)}},u={color:"white",textAlign:"center"};return e.jsxs(d,{background:"linear-gradient(135deg, #3182ce, #805ad5, #d53f8c)",minH:"100vh",pt:16,pb:3,children:[e.jsx(K,{maxW:"container.md",children:e.jsxs(o,{gap:8,align:"center",children:[e.jsxs(o,{gap:3,children:[e.jsx(Y,{size:["3xl","4xl"],fontWeight:"black",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",...u,children:"オンラインドラフト会議"}),e.jsx(r,{fontSize:["lg","xl"],fontWeight:"medium",...u,children:"みんなでワイワイ！リアルタイムドラフト"})]}),e.jsxs(o,{gap:6,w:"full",maxW:"sm",children:[e.jsx(w,{variant:"primary",size:"lg",width:"full",onClick:i,children:"ルームを作成する"}),e.jsxs(A,{w:"full",children:[e.jsx(d,{flex:1,h:"1px",bg:"whiteAlpha.300"}),e.jsx(r,{color:"whiteAlpha.800",fontSize:"sm",px:4,fontWeight:"medium",children:"または"}),e.jsx(d,{flex:1,h:"1px",bg:"whiteAlpha.300"})]}),e.jsxs(o,{gap:3,w:"full",children:[e.jsx(r,{color:"whiteAlpha.900",fontSize:["sm","md"],fontWeight:"medium",children:"既存のルームに参加"}),e.jsxs(A,{w:"full",children:[e.jsx(M,{placeholder:"ルームURLまたはID",size:"lg",value:a,onChange:t=>_(t.target.value)}),e.jsx(w,{variant:"secondary",size:"lg",onClick:E,loading:h,disabled:h,children:"参加"})]})]})]}),e.jsxs(o,{gap:6,w:"full",maxW:"lg",children:[e.jsx(p,{variant:"elevated",size:"md",children:e.jsx(r,{textAlign:"center",color:"blue.600",fontSize:["lg","xl"],fontWeight:"bold",children:"みんなで同じものを狙う、白熱のドラフトゲーム！"})}),e.jsxs(Q,{templateColumns:["1fr","1fr 1fr"],gap:4,w:"full",children:[e.jsx(p,{variant:"elevated",size:"md",children:e.jsxs(o,{align:"center",gap:3,textAlign:"center",children:[e.jsx(N,{size:40,color:"#3182ce"}),e.jsx(r,{fontWeight:"bold",color:"gray.800",fontSize:["md","lg"],children:"被ったら取れない！"}),e.jsx(r,{color:"gray.600",fontSize:["sm","md"],children:"好きなものを選ぶけど、他の人と同じだと競合で失敗"})]})}),e.jsx(p,{variant:"elevated",size:"md",children:e.jsxs(o,{align:"center",gap:3,textAlign:"center",children:[e.jsx(O,{size:40,color:"#38a169"}),e.jsx(r,{fontWeight:"bold",color:"gray.800",fontSize:["md","lg"],children:"2-8人で同時選択"}),e.jsx(r,{color:"gray.600",fontSize:["sm","md"],children:"URLシェアで簡単参加、みんなでリアルタイム"})]})}),e.jsx(p,{variant:"elevated",size:"md",children:e.jsxs(o,{align:"center",gap:3,textAlign:"center",children:[e.jsx(q,{size:40,color:"#dd6b20"}),e.jsx(r,{fontWeight:"bold",color:"gray.800",fontSize:["md","lg"],children:"1ゲーム10-15分"}),e.jsx(r,{color:"gray.600",fontSize:["sm","md"],children:"サクッと楽しめる、音声通話しながらプレイ"})]})})]}),e.jsx(d,{p:6,bg:"whiteAlpha.200",borderRadius:"xl",backdropFilter:"blur(10px)",children:e.jsxs(r,{fontSize:["md","lg"],fontWeight:"bold",...u,children:["プロ野球選手、アニメキャラ、好きな食べ物...",e.jsx("br",{}),"なんでもドラフトして盛り上がろう！"]})})]}),e.jsx(o,{gap:2,pt:8,children:e.jsx(r,{color:"whiteAlpha.600",fontSize:"xs",textAlign:"center",children:"© 2025 オンラインドラフト会議"})})]})}),e.jsx(H,{...s,onCreateRoom:U})]})};try{x.displayName="TopPage",x.__docgenInfo={description:`トップページコンポーネント
URLシェアによる簡単参加と音声通話併用を前提としたシンプルなUI`,displayName:"TopPage",props:{}}}catch{}const Ee={title:"Features/Top/TopPage",component:x,parameters:{layout:"fullscreen"}},l={},c={parameters:{viewport:{defaultViewport:"mobile1"}}};var C,S,R,v,I;l.parameters={...l.parameters,docs:{...(C=l.parameters)==null?void 0:C.docs,source:{originalSource:"{}",...(R=(S=l.parameters)==null?void 0:S.docs)==null?void 0:R.source},description:{story:`デフォルト表示
ルーム作成とルーム参加の両機能を含む基本レイアウト`,...(I=(v=l.parameters)==null?void 0:v.docs)==null?void 0:I.description}}};var D,F,T,W,B;c.parameters={...c.parameters,docs:{...(D=c.parameters)==null?void 0:D.docs,source:{originalSource:`{
  parameters: {
    viewport: {
      defaultViewport: 'mobile1'
    }
  }
}`,...(T=(F=c.parameters)==null?void 0:F.docs)==null?void 0:T.source},description:{story:`スマートフォン表示
縦並びレイアウトでの表示確認`,...(B=(W=c.parameters)==null?void 0:W.docs)==null?void 0:B.description}}};const Ge=["Default","Mobile"];export{l as Default,c as Mobile,Ge as __namedExportsOrder,Ee as default};
