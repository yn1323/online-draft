import{g as ce,j as a,f as le}from"./stack-B25eOQea.js";import{r as l}from"./index-BXymfbzT.js";import{j as Te}from"./index-DaYnusiY.js";import{I as ke}from"./icon-button-CZw3PtnZ.js";import{c as Re,V as je,Q as Ee,r as Z,a as Ae,m as Se,I as _,W as Me,k as $e}from"./index-Bkt13QoG.js";import{c as Ie,b as de,u as pe,a as Oe,n as Be,r as Ve}from"./index-sN4N5U7s.js";import{c as ue}from"./create-slot-recipe-context-BILcAqFF.js";import{c as ge,a as N,b as me}from"./factory-GA1w9YC2.js";import{u as Ue,s as fe,R as _e}from"./render-strategy-CtmThjeo.js";import{c as ze}from"./index-CrjboX4Z.js";import{c as Le,m as qe}from"./index-7Dro8rd9.js";import{V as ee}from"./v-stack-DLbVHDKJ.js";import{B as C}from"./button-BzGfOniU.js";const ye=e=>Ie()(e,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function Fe(e,r){const{state:t,send:o,context:i}=e,n=t.matches("mounted","unmountSuspended");return{skip:!i.get("initial"),present:n,setNode(s){s&&o({type:"NODE.SET",node:s})},unmount(){o({type:"UNMOUNT"})}}}var He=Re({props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,action:r,prop:t}){e([()=>t("present")],()=>{r(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},invokeOnExitComplete:({prop:e})=>{var r;(r=e("onExitComplete"))==null||r()},setNode:({refs:e,event:r})=>{e.set("node",r.node)},setStyles:({refs:e,event:r})=>{e.set("styles",Ae(r.node))},syncPresence:({context:e,refs:r,send:t,prop:o})=>{const i=o("present");if(i)return t({type:"MOUNT",src:"presence.changed"});const n=r.get("node");if(!i&&(n==null?void 0:n.ownerDocument.visibilityState)==="hidden")return t({type:"UNMOUNT",src:"visibilitychange"});Z(()=>{var d,u;const s=P(r.get("styles"));e.set("unmountAnimationName",s),s==="none"||s===e.get("prevAnimationName")||((d=r.get("styles"))==null?void 0:d.display)==="none"||((u=r.get("styles"))==null?void 0:u.animationDuration)==="0s"?t({type:"UNMOUNT",src:"presence.changed"}):t({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:r})=>{Z(()=>{e.set("prevAnimationName",P(r.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:r,send:t})=>{const o=r.get("node");if(!o)return;const i=d=>{var c,p;(((p=(c=d.composedPath)==null?void 0:c.call(d))==null?void 0:p[0])??d.target)===o&&e.set("prevAnimationName",P(r.get("styles")))},n=d=>{const u=P(r.get("styles"));Se(d)===o&&u===e.get("unmountAnimationName")&&t({type:"UNMOUNT",src:"animationend"})};o.addEventListener("animationstart",i),o.addEventListener("animationcancel",n),o.addEventListener("animationend",n);const s=je(o,{animationFillMode:"forwards"});return()=>{o.removeEventListener("animationstart",i),o.removeEventListener("animationcancel",n),o.removeEventListener("animationend",n),Ee(()=>s())}}}}});function P(e){return(e==null?void 0:e.animationName)||"none"}ze()(["onExitComplete","present","immediate"]);function We(e,r={}){const{sync:t=!1}=r,o=Qe(e);return l.useCallback((...i)=>{var n;return t?queueMicrotask(()=>{var s;return(s=o.current)==null?void 0:s.call(o,...i)}):(n=o.current)==null?void 0:n.call(o,...i)},[t,o])}function Qe(e){const r=l.useRef(e);return r.current=e,r}const F=(e={})=>{const{lazyMount:r,unmountOnExit:t,present:o,skipAnimationOnMount:i=!1,...n}=e,s=l.useRef(!1),d={...n,present:o,onExitComplete:We(e.onExitComplete)},u=de(He,d),c=Fe(u);c.present&&(s.current=!0);const p=!c.present&&!s.current&&r||t&&!c.present&&s.current,h=()=>({"data-state":c.skip&&i?void 0:o?"open":"closed",hidden:!c.present});return{ref:c.setNode,getPresenceProps:h,present:c.present,unmounted:p}},[De,H]=ge({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function Xe(e,r=[]){const t=l.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return l.useInsertionEffect(()=>{t.current=e}),l.useCallback((...o)=>{var i;return(i=t.current)==null?void 0:i.call(t,...o)},r)}function Ye(e,r){try{return e.addEventListener("change",r),()=>e.removeEventListener("change",r)}catch{return e.addListener(r),()=>e.removeListener(r)}}function Ge(e,r={}){const{fallback:t=[],ssr:o=!0,getWindow:i}=r,n=Xe(i),s=Array.isArray(e)?e:[e],d=t==null?void 0:t.filter(p=>p!=null),[u,c]=l.useState(()=>s.map((p,h)=>{if(!o){const{media:v,matches:T}=((i==null?void 0:i())??window).matchMedia(p);return{media:v,matches:T}}return{media:p,matches:!!d[h]}}));return l.useEffect(()=>{const p=n()??window;c(g=>{const x=s.map(D=>{const{media:w,matches:ve}=p.matchMedia(D);return{media:w,matches:ve}});return g.every((D,w)=>D.matches===x[w].matches&&D.media===x[w].media)?g:x});const h=s.map(g=>p.matchMedia(g)),v=g=>{c(x=>x.slice().map(D=>D.media===g.media?{...D,matches:g.matches}:D))},T=h.map(g=>Ye(g,v));return()=>T.forEach(g=>g())},[n]),u.map(p=>p.matches)}function Je(e={}){var u;e.fallback||(e.fallback="base");const r=ce();let t=!1;const i=r.breakpoints.values.map(({min:c,name:p})=>{const h={breakpoint:p,query:`(min-width: ${c})`,fallback:!t};return p===e.fallback&&(t=!0),h}).filter(({breakpoint:c})=>{var p;return!!((p=e.breakpoints)!=null&&p.includes(c))}),n=i.map(({fallback:c})=>c),d=Ge(i.map(c=>c.query),{fallback:n,ssr:e.ssr}).lastIndexOf(!0);return((u=i[d])==null?void 0:u.breakpoint)??e.fallback}function Ke(e,r){const o=ce().normalizeValue(e),i=Je({breakpoints:Object.keys(o),...r});return o[i]}const[he,y]=ge({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),W=l.forwardRef((e,r)=>{const t=y(),o=Ue(),i=F({...o,present:t.open}),n=_(t.getBackdropProps(),i.getPresenceProps(),e);return i.unmounted?null:a.jsx(N.div,{...n,ref:me(i.ref,r)})});W.displayName="DialogBackdrop";const Q=l.forwardRef((e,r)=>{const t=y(),o=_(t.getCloseTriggerProps(),e);return a.jsx(N.button,{...o,ref:r})});Q.displayName="DialogCloseTrigger";const X=l.forwardRef((e,r)=>{const t=y(),o=H(),i=_(t.getContentProps(),o.getPresenceProps(),e);return o.unmounted?null:a.jsx(N.div,{...i,ref:me(o.ref,r)})});X.displayName="DialogContent";const Y=l.forwardRef((e,r)=>{const t=y(),o=_(t.getDescriptionProps(),e);return a.jsx(N.div,{...o,ref:r})});Y.displayName="DialogDescription";const G=l.forwardRef((e,r)=>{const t=y(),o=_(t.getPositionerProps(),e);return H().unmounted?null:a.jsx(N.div,{...o,ref:r})});G.displayName="DialogPositioner";const Ze=e=>{const r=l.useId(),{getRootNode:t}=pe(),{dir:o}=Oe(),i={id:r,getRootNode:t,dir:o,...e},n=de(qe,i);return Le(n,Be)},Ne=e=>{const[r,{children:t,...o}]=ye(e),[i]=fe(r),n=Ze(o),s=F(_({present:n.open},r));return a.jsx(he,{value:n,children:a.jsx(_e,{value:i,children:a.jsx(De,{value:s,children:t})})})},xe=e=>{const[r,{value:t,children:o}]=ye(e),[i]=fe(r),n=F(_({present:t.open},r));return a.jsx(he,{value:t,children:a.jsx(_e,{value:i,children:a.jsx(De,{value:n,children:o})})})},J=l.forwardRef((e,r)=>{const t=y(),o=_(t.getTitleProps(),e);return a.jsx(N.h2,{...o,ref:r})});J.displayName="DialogTitle";const K=l.forwardRef((e,r)=>{const t=y(),o=H(),i=_({...t.getTriggerProps(),"aria-controls":o.unmounted?void 0:t.getTriggerProps()["aria-controls"]},e);return a.jsx(N.button,{...i,ref:r})});K.displayName="DialogTrigger";const we=e=>{var u;const{children:r,disabled:t}=e,[o,i]=l.useState((u=e.container)==null?void 0:u.current),n=l.useSyncExternalStore(rr,()=>!1,()=>!0),{getRootNode:s}=pe();if(l.useEffect(()=>{i(()=>{var c;return(c=e.container)==null?void 0:c.current})},[e.container]),n||t)return a.jsx(a.Fragment,{children:r});const d=o??er(s);return a.jsx(a.Fragment,{children:l.Children.map(r,c=>Ve.createPortal(c,d))})},er=e=>{const r=e==null?void 0:e(),t=r.getRootNode();return Me(t)?t:$e(r).body},rr=()=>()=>{},{withRootProvider:Ce,withContext:m}=ue({key:"dialog"});Ce(xe,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const tr=Ce(Ne,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),or=m(K,"trigger",{forwardAsChild:!0}),nr=m(G,"positioner",{forwardAsChild:!0}),ar=m(X,"content",{forwardAsChild:!0}),ir=m(Y,"description",{forwardAsChild:!0}),sr=m(J,"title",{forwardAsChild:!0}),cr=m(Q,"closeTrigger",{forwardAsChild:!0}),lr=l.forwardRef(function(r,t){const o=y();return a.jsx(le.button,{...r,ref:t,onClick:()=>o.setOpen(!1)})}),Pe=m(W,"backdrop",{forwardAsChild:!0}),dr=m("div","body"),pr=m("div","footer"),ur=m("div","header"),{withRootProvider:be,withContext:f}=ue({key:"drawer"});be(xe,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const gr=be(Ne,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),mr=f(K,"trigger",{forwardAsChild:!0}),fr=f(G,"positioner",{forwardAsChild:!0}),_r=f(X,"content",{forwardAsChild:!0}),yr=f(Y,"description",{forwardAsChild:!0}),Dr=f(J,"title",{forwardAsChild:!0}),hr=f(Q,"closeTrigger",{forwardAsChild:!0}),Nr=l.forwardRef(function(r,t){const o=y();return a.jsx(le.button,{...r,ref:t,onClick:()=>o.setOpen(!1)})}),xr=f(W,"backdrop",{forwardAsChild:!0}),wr=f("div","body"),Cr=f("div","footer"),Pr=f("div","header"),b=l.forwardRef(function(r,t){return a.jsx(ke,{variant:"ghost","aria-label":"Close",ref:t,...r,children:r.children??a.jsx(Te,{})})});try{b.displayName="CloseButton",b.__docgenInfo={description:"",displayName:"CloseButton",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"RecipeDefinition<RecipeVariantRecord>"}}}}}catch{}const k=l.forwardRef(function(r,t){const{children:o,portalled:i=!0,portalRef:n,backdrop:s=!0,...d}=r;return a.jsxs(we,{disabled:!i,container:n,children:[s&&a.jsx(Pe,{}),a.jsx(nr,{children:a.jsx(ar,{ref:t,...d,asChild:!1,children:o})})]})}),R=l.forwardRef(function(r,t){return a.jsx(cr,{position:"absolute",top:"2",insetEnd:"2",...r,asChild:!0,children:a.jsx(b,{size:"sm",ref:t,children:r.children})})}),j=tr,E=pr,A=ur,S=dr,re=Pe,M=sr,te=ir,oe=or,$=lr;try{k.displayName="DialogContent",k.__docgenInfo={description:"",displayName:"DialogContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement>"}},backdrop:{defaultValue:null,description:"",name:"backdrop",required:!1,type:{name:"boolean"}}}}}catch{}try{R.displayName="DialogCloseTrigger",R.__docgenInfo={description:"",displayName:"DialogCloseTrigger",props:{}}}catch{}try{j.displayName="DialogRoot",j.__docgenInfo={description:"",displayName:"DialogRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{E.displayName="DialogFooter",E.__docgenInfo={description:"",displayName:"DialogFooter",props:{}}}catch{}try{A.displayName="DialogHeader",A.__docgenInfo={description:"",displayName:"DialogHeader",props:{}}}catch{}try{S.displayName="DialogBody",S.__docgenInfo={description:"",displayName:"DialogBody",props:{}}}catch{}try{re.displayName="DialogBackdrop",re.__docgenInfo={description:"",displayName:"DialogBackdrop",props:{}}}catch{}try{M.displayName="DialogTitle",M.__docgenInfo={description:"",displayName:"DialogTitle",props:{}}}catch{}try{te.displayName="DialogDescription",te.__docgenInfo={description:"",displayName:"DialogDescription",props:{}}}catch{}try{oe.displayName="DialogTrigger",oe.__docgenInfo={description:"",displayName:"DialogTrigger",props:{}}}catch{}try{$.displayName="DialogActionTrigger",$.__docgenInfo={description:"",displayName:"DialogActionTrigger",props:{}}}catch{}const I=l.forwardRef(function(r,t){const{children:o,portalled:i=!0,portalRef:n,offset:s,...d}=r;return a.jsx(we,{disabled:!i,container:n,children:a.jsx(fr,{padding:s,children:a.jsx(_r,{ref:t,...d,asChild:!1,children:o})})})}),O=l.forwardRef(function(r,t){return a.jsx(hr,{position:"absolute",top:"2",insetEnd:"2",...r,asChild:!0,children:a.jsx(b,{size:"sm",ref:t})})}),ne=mr,B=gr,V=Cr,U=Pr,z=wr,ae=xr,ie=yr,L=Dr,q=Nr;try{I.displayName="DrawerContent",I.__docgenInfo={description:"",displayName:"DrawerContent",props:{portalled:{defaultValue:null,description:"",name:"portalled",required:!1,type:{name:"boolean"}},portalRef:{defaultValue:null,description:"",name:"portalRef",required:!1,type:{name:"RefObject<HTMLElement | null>"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"ConditionalValue<`var(--${string})` | AnyString | SpacingToken | Padding<String | Number> | readonly NonNullable<Padding<String | Number>>[]>"}}}}}catch{}try{O.displayName="DrawerCloseTrigger",O.__docgenInfo={description:"",displayName:"DrawerCloseTrigger",props:{}}}catch{}try{ne.displayName="DrawerTrigger",ne.__docgenInfo={description:"",displayName:"DrawerTrigger",props:{}}}catch{}try{B.displayName="DrawerRoot",B.__docgenInfo={description:"",displayName:"DrawerRoot",props:{recipe:{defaultValue:null,description:"",name:"recipe",required:!1,type:{name:"SlotRecipeDefinition<string, SlotRecipeVariantRecord<string>>"}}}}}catch{}try{V.displayName="DrawerFooter",V.__docgenInfo={description:"",displayName:"DrawerFooter",props:{}}}catch{}try{U.displayName="DrawerHeader",U.__docgenInfo={description:"",displayName:"DrawerHeader",props:{}}}catch{}try{z.displayName="DrawerBody",z.__docgenInfo={description:"",displayName:"DrawerBody",props:{}}}catch{}try{ae.displayName="DrawerBackdrop",ae.__docgenInfo={description:"",displayName:"DrawerBackdrop",props:{}}}catch{}try{ie.displayName="DrawerDescription",ie.__docgenInfo={description:"",displayName:"DrawerDescription",props:{}}}catch{}try{L.displayName="DrawerTitle",L.__docgenInfo={description:"",displayName:"DrawerTitle",props:{}}}catch{}try{q.displayName="DrawerActionTrigger",q.__docgenInfo={description:"",displayName:"DrawerActionTrigger",props:{}}}catch{}const se=({isOpen:e,onClose:r,title:t,children:o,dialogMaxWidth:i="md",actions:n})=>Ke({base:!0,md:!1})?a.jsx(B,{open:e,onOpenChange:d=>d.open||r(),placement:"bottom",size:"full",children:a.jsxs(I,{borderTopRadius:"xl",maxH:"95vh",display:"flex",flexDirection:"column",children:[a.jsxs(U,{textAlign:"center",pb:2,children:[a.jsx(L,{fontSize:"xl",children:t}),a.jsx(O,{})]}),a.jsx(z,{px:6,flex:1,overflowY:"auto",children:a.jsx(ee,{gap:6,py:4,children:o})}),n&&a.jsxs(V,{gap:3,px:6,pb:8,pt:6,borderTop:"1px solid",borderColor:"border",position:"sticky",bottom:0,bg:"bg",flexShrink:0,children:[n.cancel&&a.jsx(q,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"lg",flex:1,onClick:n.cancel.onClick||r,children:n.cancel.text})}),n.submit&&a.jsx(C,{form:n.submit.form,type:n.submit.type||"button",colorPalette:n.submit.colorPalette||"blue",disabled:n.submit.disabled,loading:n.submit.loading,size:"lg",flex:1,onClick:n.submit.onClick,children:n.submit.text})]})]})}):a.jsx(j,{open:e,onOpenChange:d=>d.open||r(),children:a.jsxs(k,{maxW:i,mx:4,children:[a.jsx(R,{}),a.jsx(A,{children:a.jsx(M,{children:t})}),a.jsx(S,{children:a.jsx(ee,{gap:4,children:o})}),n&&a.jsxs(E,{children:[n.cancel&&a.jsx($,{asChild:!0,children:a.jsx(C,{type:"button",variant:"ghost",onClick:n.cancel.onClick||r,children:n.cancel.text})}),n.submit&&a.jsx(C,{form:n.submit.form,type:n.submit.type||"button",colorPalette:n.submit.colorPalette||"blue",disabled:n.submit.disabled,loading:n.submit.loading,onClick:n.submit.onClick,children:n.submit.text})]})]})});try{se.displayName="ResponsiveModal",se.__docgenInfo={description:"",displayName:"ResponsiveModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},dialogMaxWidth:{defaultValue:{value:"md"},description:"",name:"dialogMaxWidth",required:!1,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:'{ cancel?: { text: string; onClick?: (() => void); }; submit?: { text: string; colorPalette?: string | undefined; form?: string | undefined; type?: "button" | "submit" | undefined; disabled?: boolean | undefined; loading?: boolean | undefined; onClick?: (() => void) | undefined; } | undefined...'}}}}}catch{}export{De as P,se as R,Ke as a,F as u};
