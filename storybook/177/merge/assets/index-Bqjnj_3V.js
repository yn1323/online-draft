import{j as e}from"./stack-B25eOQea.js";import{u as E,a as x}from"./zod-C0AimxcA.js";import{r as p}from"./index-BXymfbzT.js";import{I as B}from"./index-bOlNTxDG.js";import{R as _}from"./responsive-modal-DLT1hDTr.js";import{V as l}from"./v-stack-DLbVHDKJ.js";import{T as s}from"./text-ddCD_fM-.js";import{ar as R,aF as D}from"./types-DwQkBYn-.js";const M=R({roomName:D().trim().min(1,"ルーム名を入力してください").max(30,"ルーム名は30文字以内で入力してください")}),c=({isOpen:o,onClose:r,onCreateRoom:t})=>{const u=p.useId(),{register:C,handleSubmit:f,formState:{errors:a,isValid:g,isSubmitting:n},reset:m}=E({resolver:x(M),mode:"onChange"}),F=async h=>{try{await t(h.roomName),m(),r()}catch(y){console.error("ルーム作成エラー:",y)}},i=()=>{n||(m(),r())};return e.jsx(_,{isOpen:o,onClose:i,title:"新しいルームを作成",actions:{cancel:{text:"キャンセル",onClick:i},submit:{text:"ルームを作成",colorPalette:"blue",type:"submit",form:u,disabled:!g,loading:n}},children:e.jsxs(l,{as:"form",id:u,onSubmit:f(F),gap:4,align:"stretch",w:"full",children:[e.jsxs(l,{gap:2,align:"stretch",children:[e.jsx(s,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:"ルーム名"}),e.jsx(B,{...C("roomName"),placeholder:"例: 2024年プロ野球ドラフト",size:"lg",maxLength:30,error:!!a.roomName}),a.roomName&&e.jsx(s,{fontSize:"sm",color:"red.500",children:a.roomName.message})]}),e.jsx(s,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"URLを共有して友達を招待しよう！"})]})})},d=()=>{const[o,r]=p.useState(!1),t=()=>r(!0),u=()=>r(!1);return{isOpen:o,openModal:t,closeModal:u,modalProps:{isOpen:o,onClose:u}}};try{c.displayName="CreateRoomModal",c.__docgenInfo={description:`ルーム作成モーダルコンポーネント
react-hook-form + zodでバリデーション、ResponsiveModalでレスポンシブ対応`,displayName:"CreateRoomModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onCreateRoom:{defaultValue:null,description:"",name:"onCreateRoom",required:!0,type:{name:"(roomName: string) => Promise<void>"}}}}}catch{}try{d.displayName="useCreateRoomModal",d.__docgenInfo={description:`CreateRoomModal用カスタムフック
モーダルの状態管理を内部で行い、親コンポーネントの負担を軽減`,displayName:"useCreateRoomModal",props:{}}}catch{}export{c as C,d as u};
