import{j as Ut,h as It}from"./create-recipe-context-DNTG5mYw.js";import{r as B,R as j}from"./index-BXymfbzT.js";import{bn as dt,b0 as Te,be}from"./types-CvgYpjhN.js";function Mt(e,r){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${r}`}function jt(e={}){const{name:r,strict:t=!0,hookName:s="useContext",providerName:o="Provider",errorMessage:n,defaultValue:u}=e,c=B.createContext(u);c.displayName=r;function v(){var m;const _=B.useContext(c);if(!_&&t){const x=new Error(n??Mt(s,o));throw x.name="ContextError",(m=Error.captureStackTrace)==null||m.call(Error,x,v),x}return _}return[c.Provider,v,c]}function Bt(...e){return r=>{const t=[];for(const s of e)if(typeof s=="function"){const o=s(r);typeof o=="function"&&t.push(o)}else s&&(s.current=r);if(t.length)return()=>{for(const s of t)s()}}}function zt(e){var s,o;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}const Oe=e=>{const r=B.memo(B.forwardRef((t,s)=>{const{asChild:o,children:n,...u}=t;if(!o)return B.createElement(e,{...u,ref:s},n);const c=B.Children.only(n);if(!B.isValidElement(c))return null;const v=zt(c);return B.cloneElement(c,{...dt(u,c.props),ref:s?Bt(s,v):v})}));return r.displayName=e.displayName||e.name,r},$t=()=>{const e=new Map;return new Proxy(Oe,{apply(r,t,s){return Oe(s[0])},get(r,t){const s=t;return e.has(s)||e.set(s,Oe(s)),e.get(s)}})},Wt=$t(),[Er,qt]=jt({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),yt=B.forwardRef((e,r)=>{const t=qt(),s=dt(t==null?void 0:t.getInputProps(),e);return Ut.jsx(Wt.input,{...s,ref:r})});yt.displayName="FieldInput";const{withContext:Ht}=It({key:"input"}),Dr=Ht(yt);var de=e=>e.type==="checkbox",se=e=>e instanceof Date,N=e=>e==null;const ht=e=>typeof e=="object";var S=e=>!N(e)&&!Array.isArray(e)&&ht(e)&&!se(e),Zt=e=>S(e)&&e.target?de(e.target)?e.target.checked:e.target.value:e,Kt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Jt=(e,r)=>e.has(Kt(r)),Yt=e=>{const r=e.constructor&&e.constructor.prototype;return S(r)&&r.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function R(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Ne&&(e instanceof Blob||s))&&(t||S(e)))if(r=t?[]:{},!t&&!Yt(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=R(e[o]));else return e;return r}var we=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,h=(e,r,t)=>{if(!r||!S(e))return t;const s=we(r.split(/[,[\].]+?/)).reduce((o,n)=>N(o)?o:o[n],e);return k(s)||s===e?k(e[r])?t:e[r]:s},Z=e=>typeof e=="boolean",Le=e=>/^\w*$/.test(e),gt=e=>we(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let s=-1;const o=Le(r)?[r]:gt(r),n=o.length,u=n-1;for(;++s<n;){const c=o[s];let v=t;if(s!==u){const _=e[c];v=S(_)||Array.isArray(_)?_:isNaN(+o[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=v,e=e[c]}};const Ye={BLUR:"blur",FOCUS_OUT:"focusout"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};j.createContext(null);var Qt=(e,r,t,s=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const u=n;return r._proxyFormState[u]!==z.all&&(r._proxyFormState[u]=!s||z.all),e[u]}});return o};const Xt=typeof window<"u"?B.useLayoutEffect:B.useEffect;var K=e=>typeof e=="string",Gt=(e,r,t,s,o)=>K(e)?(s&&r.watch.add(e),h(t,e,o)):Array.isArray(e)?e.map(n=>(s&&r.watch.add(n),h(t,n))):(s&&(r.watchAll=!0),t),Ue=(e,r,t,s,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:o||!0}}:{},ce=e=>Array.isArray(e)?e:[e],Qe=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Ce=e=>N(e)||!ht(e);function te(e,r){if(Ce(e)||Ce(r))return e===r;if(se(e)&&se(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const o of t){const n=e[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=r[o];if(se(n)&&se(u)||S(n)&&S(u)||Array.isArray(n)&&Array.isArray(u)?!te(n,u):n!==u)return!1}}return!0}var U=e=>S(e)&&!Object.keys(e).length,Ie=e=>e.type==="file",$=e=>typeof e=="function",_e=e=>{if(!Ne)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},vt=e=>e.type==="select-multiple",Me=e=>e.type==="radio",er=e=>Me(e)||de(e),Pe=e=>_e(e)&&e.isConnected;function tr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=k(e)?s++:e[r[s++]];return e}function rr(e){for(const r in e)if(e.hasOwnProperty(r)&&!k(e[r]))return!1;return!0}function C(e,r){const t=Array.isArray(r)?r:Le(r)?[r]:gt(r),s=t.length===1?e:tr(e,t),o=t.length-1,n=t[o];return s&&delete s[n],o!==0&&(S(s)&&U(s)||Array.isArray(s)&&rr(s))&&C(e,t.slice(0,-1)),e}var mt=e=>{for(const r in e)if($(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(S(e)||t)for(const s in e)Array.isArray(e[s])||S(e[s])&&!mt(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Ve(e[s],r[s])):N(e[s])||(r[s]=!0);return r}function bt(e,r,t){const s=Array.isArray(e);if(S(e)||s)for(const o in e)Array.isArray(e[o])||S(e[o])&&!mt(e[o])?k(r)||Ce(t[o])?t[o]=Array.isArray(e[o])?Ve(e[o],[]):{...Ve(e[o])}:bt(e[o],N(r)?{}:r[o],t[o]):t[o]=!te(e[o],r[o]);return t}var ue=(e,r)=>bt(e,r,Ve(r));const Xe={value:!1,isValid:!1},Ge={value:!0,isValid:!0};var _t=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Ge:{value:e[0].value,isValid:!0}:Ge:Xe}return Xe},Vt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>k(e)?e:r?e===""?NaN:e&&+e:t&&K(e)?new Date(e):s?s(e):e;const et={isValid:!1,value:null};var Ft=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,et):et;function tt(e){const r=e.ref;return Ie(r)?r.files:Me(r)?Ft(e.refs).value:vt(r)?[...r.selectedOptions].map(({value:t})=>t):de(r)?_t(e.refs).value:Vt(k(r.value)?e.ref.value:r.value,e)}var sr=(e,r,t,s)=>{const o={};for(const n of e){const u=h(r,n);u&&A(o,n,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:s}},Fe=e=>e instanceof RegExp,le=e=>k(e)?e:Fe(e)?e.source:S(e)?Fe(e.value)?e.value.source:e.value:e,rt=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const st="AsyncFunction";var ir=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===st||S(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===st)),nr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),it=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const fe=(e,r,t,s)=>{for(const o of t||Object.keys(e)){const n=h(e,o);if(n){const{_f:u,...c}=n;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],o)&&!s)return!0;if(u.ref&&r(u.ref,u.name)&&!s)return!0;if(fe(c,r))break}else if(S(c)&&fe(c,r))break}}};function nt(e,r,t){const s=h(e,t);if(s||Le(t))return{error:s,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),u=h(r,n),c=h(e,n);if(u&&!Array.isArray(u)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};o.pop()}return{name:t}}var ar=(e,r,t,s)=>{t(e);const{name:o,...n}=e;return U(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(u=>r[u]===(!s||z.all))},or=(e,r,t)=>!e||!r||e===r||ce(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),ur=(e,r,t,s,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?s.isOnBlur:o.isOnBlur)?!e:(t?s.isOnChange:o.isOnChange)?e:!0,lr=(e,r)=>!we(h(e,r)).length&&C(e,r),cr=(e,r,t)=>{const s=ce(h(e,t));return A(s,"root",r[t]),A(e,t,s),e},me=e=>K(e);function at(e,r,t="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||Z(e)&&!e)return{type:t,message:me(e)?e:"",ref:r}}var ne=e=>S(e)&&!Fe(e)?e:{value:e,message:""},ot=async(e,r,t,s,o,n)=>{const{ref:u,refs:c,required:v,maxLength:_,minLength:m,min:x,max:b,pattern:ae,validate:Q,name:O,valueAsNumber:X,mount:xe}=e._f,F=h(t,O);if(!xe||r.has(O))return{};const J=c?c[0]:u,W=V=>{o&&J.reportValidity&&(J.setCustomValidity(Z(V)?"":V||""),J.reportValidity())},P={},ye=Me(u),G=de(u),pe=ye||G,M=(X||Ie(u))&&k(u.value)&&k(F)||_e(u)&&u.value===""||F===""||Array.isArray(F)&&!F.length,re=Ue.bind(null,O,s,P),q=(V,p,D,T=Y.maxLength,L=Y.minLength)=>{const H=V?p:D;P[O]={type:V?T:L,message:H,ref:u,...re(V?T:L,H)}};if(n?!Array.isArray(F)||!F.length:v&&(!pe&&(M||N(F))||Z(F)&&!F||G&&!_t(c).isValid||ye&&!Ft(c).isValid)){const{value:V,message:p}=me(v)?{value:!!v,message:v}:ne(v);if(V&&(P[O]={type:Y.required,message:p,ref:J,...re(Y.required,p)},!s))return W(p),P}if(!M&&(!N(x)||!N(b))){let V,p;const D=ne(b),T=ne(x);if(!N(F)&&!isNaN(F)){const L=u.valueAsNumber||F&&+F;N(D.value)||(V=L>D.value),N(T.value)||(p=L<T.value)}else{const L=u.valueAsDate||new Date(F),H=he=>new Date(new Date().toDateString()+" "+he),oe=u.type=="time",ie=u.type=="week";K(D.value)&&F&&(V=oe?H(F)>H(D.value):ie?F>D.value:L>new Date(D.value)),K(T.value)&&F&&(p=oe?H(F)<H(T.value):ie?F<T.value:L<new Date(T.value))}if((V||p)&&(q(!!V,D.message,T.message,Y.max,Y.min),!s))return W(P[O].message),P}if((_||m)&&!M&&(K(F)||n&&Array.isArray(F))){const V=ne(_),p=ne(m),D=!N(V.value)&&F.length>+V.value,T=!N(p.value)&&F.length<+p.value;if((D||T)&&(q(D,V.message,p.message),!s))return W(P[O].message),P}if(ae&&!M&&K(F)){const{value:V,message:p}=ne(ae);if(Fe(V)&&!F.match(V)&&(P[O]={type:Y.pattern,message:p,ref:u,...re(Y.pattern,p)},!s))return W(p),P}if(Q){if($(Q)){const V=await Q(F,t),p=at(V,J);if(p&&(P[O]={...p,...re(Y.validate,p.message)},!s))return W(p.message),P}else if(S(Q)){let V={};for(const p in Q){if(!U(V)&&!s)break;const D=at(await Q[p](F,t),J,p);D&&(V={...D,...re(p,D.message)},W(D.message),s&&(P[O]=V))}if(!U(V)&&(P[O]={ref:J,...V},!s))return P}}return W(!0),P};const fr={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function dr(e={}){let r={...fr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:$(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const s={};let o=S(r.defaultValues)||S(r.values)?R(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:R(o),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,_=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...m};const b={array:Qe(),state:Qe()},ae=r.criteriaMode===z.all,Q=i=>a=>{clearTimeout(_),_=setTimeout(i,a)},O=async i=>{if(!r.disabled&&(m.isValid||x.isValid||i)){const a=r.resolver?U((await G()).errors):await M(s,!0);a!==t.isValid&&b.state.next({isValid:a})}},X=(i,a)=>{!r.disabled&&(m.isValidating||m.validatingFields||x.isValidating||x.validatingFields)&&((i||Array.from(c.mount)).forEach(l=>{l&&(a?A(t.validatingFields,l,a):C(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},xe=(i,a=[],l,y,d=!0,f=!0)=>{if(y&&l&&!r.disabled){if(u.action=!0,f&&Array.isArray(h(s,i))){const g=l(h(s,i),y.argA,y.argB);d&&A(s,i,g)}if(f&&Array.isArray(h(t.errors,i))){const g=l(h(t.errors,i),y.argA,y.argB);d&&A(t.errors,i,g),lr(t.errors,i)}if((m.touchedFields||x.touchedFields)&&f&&Array.isArray(h(t.touchedFields,i))){const g=l(h(t.touchedFields,i),y.argA,y.argB);d&&A(t.touchedFields,i,g)}(m.dirtyFields||x.dirtyFields)&&(t.dirtyFields=ue(o,n)),b.state.next({name:i,isDirty:q(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(n,i,a)},F=(i,a)=>{A(t.errors,i,a),b.state.next({errors:t.errors})},J=i=>{t.errors=i,b.state.next({errors:t.errors,isValid:!1})},W=(i,a,l,y)=>{const d=h(s,i);if(d){const f=h(n,i,k(l)?h(o,i):l);k(f)||y&&y.defaultChecked||a?A(n,i,a?f:tt(d._f)):D(i,f),u.mount&&O()}},P=(i,a,l,y,d)=>{let f=!1,g=!1;const w={name:i};if(!r.disabled){if(!l||y){(m.isDirty||x.isDirty)&&(g=t.isDirty,t.isDirty=w.isDirty=q(),f=g!==w.isDirty);const E=te(h(o,i),a);g=!!h(t.dirtyFields,i),E?C(t.dirtyFields,i):A(t.dirtyFields,i,!0),w.dirtyFields=t.dirtyFields,f=f||(m.dirtyFields||x.dirtyFields)&&g!==!E}if(l){const E=h(t.touchedFields,i);E||(A(t.touchedFields,i,l),w.touchedFields=t.touchedFields,f=f||(m.touchedFields||x.touchedFields)&&E!==l)}f&&d&&b.state.next(w)}return f?w:{}},ye=(i,a,l,y)=>{const d=h(t.errors,i),f=(m.isValid||x.isValid)&&Z(a)&&t.isValid!==a;if(r.delayError&&l?(v=Q(()=>F(i,l)),v(r.delayError)):(clearTimeout(_),v=null,l?A(t.errors,i,l):C(t.errors,i)),(l?!te(d,l):d)||!U(y)||f){const g={...y,...f&&Z(a)?{isValid:a}:{},errors:t.errors,name:i};t={...t,...g},b.state.next(g)}},G=async i=>{X(i,!0);const a=await r.resolver(n,r.context,sr(i||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return X(i),a},pe=async i=>{const{errors:a}=await G(i);if(i)for(const l of i){const y=h(a,l);y?A(t.errors,l,y):C(t.errors,l)}else t.errors=a;return a},M=async(i,a,l={valid:!0})=>{for(const y in i){const d=i[y];if(d){const{_f:f,...g}=d;if(f){const w=c.array.has(f.name),E=d._f&&ir(d._f);E&&m.validatingFields&&X([y],!0);const I=await ot(d,c.disabled,n,ae,r.shouldUseNativeValidation&&!a,w);if(E&&m.validatingFields&&X([y]),I[f.name]&&(l.valid=!1,a))break;!a&&(h(I,f.name)?w?cr(t.errors,I,f.name):A(t.errors,f.name,I[f.name]):C(t.errors,f.name))}!U(g)&&await M(g,a,l)}}return l.valid},re=()=>{for(const i of c.unMount){const a=h(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Pe(l)):!Pe(a._f.ref))&&Ae(i)}c.unMount=new Set},q=(i,a)=>!r.disabled&&(i&&a&&A(n,i,a),!te(he(),o)),V=(i,a,l)=>Gt(i,c,{...u.mount?n:k(a)?o:K(i)?{[i]:a}:a},l,a),p=i=>we(h(u.mount?n:o,i,r.shouldUnregister?h(o,i,[]):[])),D=(i,a,l={})=>{const y=h(s,i);let d=a;if(y){const f=y._f;f&&(!f.disabled&&A(n,i,Vt(a,f)),d=_e(f.ref)&&N(a)?"":a,vt(f.ref)?[...f.ref.options].forEach(g=>g.selected=d.includes(g.value)):f.refs?de(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(w=>w===g.value):g.checked=d===g.value||!!d)}):f.refs.forEach(g=>g.checked=g.value===d):Ie(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||b.state.next({name:i,values:R(n)})))}(l.shouldDirty||l.shouldTouch)&&P(i,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ie(i)},T=(i,a,l)=>{for(const y in a){if(!a.hasOwnProperty(y))return;const d=a[y],f=i+"."+y,g=h(s,f);(c.array.has(i)||S(d)||g&&!g._f)&&!se(d)?T(f,d,l):D(f,d,l)}},L=(i,a,l={})=>{const y=h(s,i),d=c.array.has(i),f=R(a);A(n,i,f),d?(b.array.next({name:i,values:R(n)}),(m.isDirty||m.dirtyFields||x.isDirty||x.dirtyFields)&&l.shouldDirty&&b.state.next({name:i,dirtyFields:ue(o,n),isDirty:q(i,f)})):y&&!y._f&&!N(f)?T(i,f,l):D(i,f,l),it(i,c)&&b.state.next({...t}),b.state.next({name:u.mount?i:void 0,values:R(n)})},H=async i=>{u.mount=!0;const a=i.target;let l=a.name,y=!0;const d=h(s,l),f=E=>{y=Number.isNaN(E)||se(E)&&isNaN(E.getTime())||te(E,h(n,l,E))},g=rt(r.mode),w=rt(r.reValidateMode);if(d){let E,I;const ge=a.type?tt(d._f):Zt(i),ee=i.type===Ye.BLUR||i.type===Ye.FOCUS_OUT,Tt=!nr(d._f)&&!r.resolver&&!h(t.errors,l)&&!d._f.deps||ur(ee,h(t.touchedFields,l),t.isSubmitted,w,g),Se=it(l,c,ee);A(n,l,ge),ee?(d._f.onBlur&&d._f.onBlur(i),v&&v(0)):d._f.onChange&&d._f.onChange(i);const ke=P(l,ge,ee),Nt=!U(ke)||Se;if(!ee&&b.state.next({name:l,type:i.type,values:R(n)}),Tt)return(m.isValid||x.isValid)&&(r.mode==="onBlur"?ee&&O():ee||O()),Nt&&b.state.next({name:l,...Se?{}:ke});if(!ee&&Se&&b.state.next({...t}),r.resolver){const{errors:Ke}=await G([l]);if(f(ge),y){const Lt=nt(t.errors,s,l),Je=nt(Ke,s,Lt.name||l);E=Je.error,l=Je.name,I=U(Ke)}}else X([l],!0),E=(await ot(d,c.disabled,n,ae,r.shouldUseNativeValidation))[l],X([l]),f(ge),y&&(E?I=!1:(m.isValid||x.isValid)&&(I=await M(s,!0)));y&&(d._f.deps&&ie(d._f.deps),ye(l,I,E,ke))}},oe=(i,a)=>{if(h(t.errors,a)&&i.focus)return i.focus(),1},ie=async(i,a={})=>{let l,y;const d=ce(i);if(r.resolver){const f=await pe(k(i)?i:d);l=U(f),y=i?!d.some(g=>h(f,g)):l}else i?(y=(await Promise.all(d.map(async f=>{const g=h(s,f);return await M(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&O()):y=l=await M(s);return b.state.next({...!K(i)||(m.isValid||x.isValid)&&l!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!y&&fe(s,oe,i?d:c.mount),y},he=i=>{const a={...u.mount?n:o};return k(i)?a:K(i)?h(a,i):i.map(l=>h(a,l))},je=(i,a)=>({invalid:!!h((a||t).errors,i),isDirty:!!h((a||t).dirtyFields,i),error:h((a||t).errors,i),isValidating:!!h(t.validatingFields,i),isTouched:!!h((a||t).touchedFields,i)}),Dt=i=>{i&&ce(i).forEach(a=>C(t.errors,a)),b.state.next({errors:i?t.errors:{}})},Be=(i,a,l)=>{const y=(h(s,i,{_f:{}})._f||{}).ref,d=h(t.errors,i)||{},{ref:f,message:g,type:w,...E}=d;A(t.errors,i,{...E,...a,ref:y}),b.state.next({name:i,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},St=(i,a)=>$(i)?b.state.subscribe({next:l=>i(V(void 0,a),l)}):V(i,a,!0),ze=i=>b.state.subscribe({next:a=>{or(i.name,a.name,i.exact)&&ar(a,i.formState||m,Rt,i.reRenderRoot)&&i.callback({values:{...n},...t,...a})}}).unsubscribe,kt=i=>(u.mount=!0,x={...x,...i.formState},ze({...i,formState:x})),Ae=(i,a={})=>{for(const l of i?ce(i):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(C(s,l),C(n,l)),!a.keepError&&C(t.errors,l),!a.keepDirty&&C(t.dirtyFields,l),!a.keepTouched&&C(t.touchedFields,l),!a.keepIsValidating&&C(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&C(o,l);b.state.next({values:R(n)}),b.state.next({...t,...a.keepDirty?{isDirty:q()}:{}}),!a.keepIsValid&&O()},$e=({disabled:i,name:a})=>{(Z(i)&&u.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},Ee=(i,a={})=>{let l=h(s,i);const y=Z(a.disabled)||Z(r.disabled);return A(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),l?$e({disabled:Z(a.disabled)?a.disabled:r.disabled,name:i}):W(i,!0,a.value),{...y?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:le(a.min),max:le(a.max),minLength:le(a.minLength),maxLength:le(a.maxLength),pattern:le(a.pattern)}:{},name:i,onChange:H,onBlur:H,ref:d=>{if(d){Ee(i,a),l=h(s,i);const f=k(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=er(f),w=l._f.refs||[];if(g?w.find(E=>E===f):f===l._f.ref)return;A(s,i,{_f:{...l._f,...g?{refs:[...w.filter(Pe),f,...Array.isArray(h(o,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),W(i,!1,void 0,f)}else l=h(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Jt(c.array,i)&&u.action)&&c.unMount.add(i)}}},De=()=>r.shouldFocusError&&fe(s,oe,c.mount),Ot=i=>{Z(i)&&(b.state.next({disabled:i}),fe(s,(a,l)=>{const y=h(s,l);y&&(a.disabled=y._f.disabled||i,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||i}))},0,!1))},We=(i,a)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=R(n);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:g}=await G();t.errors=f,d=g}else await M(s);if(c.disabled.size)for(const f of c.disabled)A(d,f,void 0);if(C(t.errors,"root"),U(t.errors)){b.state.next({errors:{}});try{await i(d,l)}catch(f){y=f}}else a&&await a({...t.errors},l),De(),setTimeout(De);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Pt=(i,a={})=>{h(s,i)&&(k(a.defaultValue)?L(i,R(h(o,i))):(L(i,a.defaultValue),A(o,i,R(a.defaultValue))),a.keepTouched||C(t.touchedFields,i),a.keepDirty||(C(t.dirtyFields,i),t.isDirty=a.defaultValue?q(i,R(h(o,i))):q()),a.keepError||(C(t.errors,i),m.isValid&&O()),b.state.next({...t}))},qe=(i,a={})=>{const l=i?R(i):o,y=R(l),d=U(i),f=d?o:y;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(ue(o,n))]);for(const w of Array.from(g))h(t.dirtyFields,w)?A(f,w,h(n,w)):L(w,h(f,w))}else{if(Ne&&k(i))for(const g of c.mount){const w=h(s,g);if(w&&w._f){const E=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(_e(E)){const I=E.closest("form");if(I){I.reset();break}}}}for(const g of c.mount)L(g,h(f,g))}n=R(f),b.array.next({values:{...f}}),b.state.next({values:{...f}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!m.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!te(i,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ue(o,n):t.dirtyFields:a.keepDefaultValues&&i?ue(o,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},He=(i,a)=>qe($(i)?i(n):i,a),Ct=(i,a={})=>{const l=h(s,i),y=l&&l._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),a.shouldSelect&&$(d.select)&&d.select())}},Rt=i=>{t={...t,...i}},Ze={control:{register:Ee,unregister:Ae,getFieldState:je,handleSubmit:We,setError:Be,_subscribe:ze,_runSchema:G,_focusError:De,_getWatch:V,_getDirty:q,_setValid:O,_setFieldArray:xe,_setDisabledField:$e,_setErrors:J,_getFieldArray:p,_reset:qe,_resetDefaultValues:()=>$(r.defaultValues)&&r.defaultValues().then(i=>{He(i,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:Ot,_subjects:b,_proxyFormState:m,get _fields(){return s},get _formValues(){return n},get _state(){return u},set _state(i){u=i},get _defaultValues(){return o},get _names(){return c},set _names(i){c=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:kt,trigger:ie,register:Ee,handleSubmit:We,watch:St,setValue:L,getValues:he,reset:He,resetField:Pt,clearErrors:Dt,unregister:Ae,setError:Be,setFocus:Ct,getFieldState:je};return{...Ze,formControl:Ze}}function Sr(e={}){const r=j.useRef(void 0),t=j.useRef(void 0),[s,o]=j.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:dr(e),formState:s},e.formControl&&e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const n=r.current.control;return n._options=e,Xt(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),n._formState.isReady=!0,u},[n]),j.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),j.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),j.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),j.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),j.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==s.isDirty&&n._subjects.state.next({isDirty:u})}},[n,s.isDirty]),j.useEffect(()=>{e.values&&!te(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,o(u=>({...u}))):n._resetDefaultValues()},[n,e.values]),j.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=Qt(s,n),r.current}const ut=(e,r,t)=>{if(e&&"reportValidity"in e){const s=h(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Re=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?ut(s.ref,t,e):s&&s.refs&&s.refs.forEach(o=>ut(o,t,e))}},lt=(e,r)=>{r.shouldUseNativeValidation&&Re(e,r);const t={};for(const s in e){const o=h(r.fields,s),n=Object.assign(e[s]||{},{ref:o&&o.ref});if(yr(r.names||Object.keys(e),s)){const u=Object.assign({},h(t,s));A(u,"root",n),A(t,s,u)}else A(t,s,n)}return t},yr=(e,r)=>{const t=ct(r);return e.some(s=>ct(s).match(`^${t}\\.\\d+`))};function ct(e){return e.replace(/\]|\[/g,"")}function wt(e,r,t){function s(c,v){var _;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(_=c._zod).traits??(_.traits=new Set),c._zod.traits.add(e),r(c,v);for(const m in u.prototype)m in c||Object.defineProperty(c,m,{value:u.prototype[m].bind(c)});c._zod.constr=u,c._zod.def=v}const o=(t==null?void 0:t.Parent)??Object;class n extends o{}function u(c){var v;const _=t!=null&&t.Parent?new n:this;s(_,c),(v=_._zod).deferred??(v.deferred=[]);for(const m of _._zod.deferred)m();return _}return Object.defineProperty(n,"name",{value:e}),Object.defineProperty(u,"init",{value:s}),Object.defineProperty(u,Symbol.hasInstance,{value:c=>{var v,_;return!!(t!=null&&t.Parent&&c instanceof t.Parent)||((_=(v=c==null?void 0:c._zod)==null?void 0:v.traits)==null?void 0:_.has(e))}}),Object.defineProperty(u,"name",{value:e}),u}class hr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const gr={};function xt(e){return gr}function vr(e,r){return typeof r=="bigint"?r.toString():r}function ve(e){return typeof e=="string"?e:e==null?void 0:e.message}function pt(e,r,t){var o,n,u,c,v,_;const s={...e,path:e.path??[]};if(!e.message){const m=ve((u=(n=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:n.error)==null?void 0:u.call(n,e))??ve((c=r==null?void 0:r.error)==null?void 0:c.call(r,e))??ve((v=t.customError)==null?void 0:v.call(t,e))??ve((_=t.localeError)==null?void 0:_.call(t,e))??"Invalid input";s.message=m}return delete s.inst,delete s.continue,r!=null&&r.reportInput||delete s.input,s}const At=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(r,vr,2),enumerable:!0})},mr=wt("$ZodError",At),Et=wt("$ZodError",At,{Parent:Error}),br=(e=>(r,t,s,o)=>{const n=s?Object.assign(s,{async:!1}):{async:!1},u=r._zod.run({value:t,issues:[]},n);if(u instanceof Promise)throw new hr;if(u.issues.length){const c=new((o==null?void 0:o.Err)??e)(u.issues.map(v=>pt(v,n,xt())));throw Error.captureStackTrace(c,o==null?void 0:o.callee),c}return u.value})(Et),_r=(e=>async(r,t,s,o)=>{const n=s?Object.assign(s,{async:!0}):{async:!0};let u=r._zod.run({value:t,issues:[]},n);if(u instanceof Promise&&(u=await u),u.issues.length){const c=new((o==null?void 0:o.Err)??e)(u.issues.map(v=>pt(v,n,xt())));throw Error.captureStackTrace(c,o==null?void 0:o.callee),c}return u.value})(Et);function ft(e,r){try{var t=e()}catch(s){return r(s)}return t&&t.then?t.then(void 0,r):t}function Vr(e,r){for(var t={};e.length;){var s=e[0],o=s.code,n=s.message,u=s.path.join(".");if(!t[u])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];t[u]={message:c.message,type:c.code}}else t[u]={message:n,type:o};if("unionErrors"in s&&s.unionErrors.forEach(function(m){return m.errors.forEach(function(x){return e.push(x)})}),r){var v=t[u].types,_=v&&v[s.code];t[u]=Ue(u,r,t,o,_?[].concat(_,s.message):s.message)}e.shift()}return t}function Fr(e,r){for(var t={};e.length;){var s=e[0],o=s.code,n=s.message,u=s.path.join(".");if(!t[u])if(s.code==="invalid_union"){var c=s.errors[0][0];t[u]={message:c.message,type:c.code}}else t[u]={message:n,type:o};if(s.code==="invalid_union"&&s.errors.forEach(function(m){return m.forEach(function(x){return e.push(x)})}),r){var v=t[u].types,_=v&&v[s.code];t[u]=Ue(u,r,t,o,_?[].concat(_,s.message):s.message)}e.shift()}return t}function kr(e,r,t){if(t===void 0&&(t={}),function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def}(e))return function(s,o,n){try{return Promise.resolve(ft(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(u){return n.shouldUseNativeValidation&&Re({},n),{errors:{},values:t.raw?Object.assign({},s):u}})},function(u){if(function(c){return Array.isArray(c==null?void 0:c.issues)}(u))return{values:{},errors:lt(Vr(u.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw u}))}catch(u){return Promise.reject(u)}};if(function(s){return"_zod"in s&&typeof s._zod=="object"}(e))return function(s,o,n){try{return Promise.resolve(ft(function(){return Promise.resolve((t.mode==="sync"?br:_r)(e,s,r)).then(function(u){return n.shouldUseNativeValidation&&Re({},n),{errors:{},values:t.raw?Object.assign({},s):u}})},function(u){if(function(c){return c instanceof mr}(u))return{values:{},errors:lt(Fr(u.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}const Or=Te({userName:be().min(1,"ユーザー名を入力してください").max(12,"ユーザー名は12文字以内で入力してください").regex(/^[^\s].*[^\s]$|^[^\s]$/,"先頭と末尾にスペースは使用できません"),avatarIndex:be().min(1,"アバターを選択してください").regex(/^[1-9]|1[0-8]$/,"有効なアバターを選択してください")});Te({groupName:be().min(1,"グループ名を入力してください").max(30,"グループ名は30文字以内で入力してください")});const Pr=Te({meetingInput:be().min(1,"会議IDまたはURLを入力してください").refine(e=>{const r=/^[a-zA-Z0-9]{6,20}$/,t=/^https:\/\/.+/;return r.test(e)||t.test(e)},"有効な会議IDまたはURLを入力してください")});export{Er as F,Dr as I,Wt as a,Bt as b,jt as c,Sr as d,Or as e,kr as g,Pr as j,qt as u};
